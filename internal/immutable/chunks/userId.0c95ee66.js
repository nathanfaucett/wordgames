var Ee=Object.defineProperty;var Ie=(h,o,r)=>o in h?Ee(h,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):h[o]=r;var U=(h,o,r)=>(Ie(h,typeof o!="symbol"?o+"":o,r),r);import{S as Zt,i as te,s as ee,C as Vt,k as q,a as It,q as Be,l as Y,m as $,h as k,c as Bt,r as _e,n as J,P as ft,b as gt,G as j,L as Ae,D as Wt,E as zt,F as Gt,g as jt,d as qt,H as Yt,w as Se,Z as Fe}from"./index.8f7fe7b1.js";import{_ as _t}from"./preload-helper.41c905a7.js";import{w as Pe,j as ve}from"./singletons.61a91846.js";const Ue=h=>({}),Ht=h=>({});function be(h){let o,r,u,a,f,p,s,g,m,y,w,_,B,E,S,x,b;const O=h[4].title,I=Vt(O,h,h[3],Ht),X=h[4].default,P=Vt(X,h,h[3],null);return{c(){o=q("div"),r=q("div"),u=q("div"),a=q("div"),f=q("div"),I&&I.c(),p=It(),s=q("button"),g=q("span"),m=Be("×"),y=It(),w=q("div"),P&&P.c(),B=It(),E=q("div"),this.h()},l(F){o=Y(F,"DIV",{class:!0});var M=$(o);r=Y(M,"DIV",{class:!0});var ut=$(r);u=Y(ut,"DIV",{class:!0});var Z=$(u);a=Y(Z,"DIV",{class:!0});var tt=$(a);f=Y(tt,"DIV",{});var ct=$(f);I&&I.l(ct),ct.forEach(k),p=Bt(tt),s=Y(tt,"BUTTON",{class:!0});var ht=$(s);g=Y(ht,"SPAN",{class:!0});var at=$(g);m=_e(at,"×"),at.forEach(k),ht.forEach(k),tt.forEach(k),y=Bt(Z),w=Y(Z,"DIV",{class:!0});var it=$(w);P&&P.l(it),it.forEach(k),Z.forEach(k),ut.forEach(k),M.forEach(k),B=Bt(F),E=Y(F,"DIV",{class:!0}),$(E).forEach(k),this.h()},h(){J(g,"class","bg-transparent text-black h-6 w-6 text-2xl block outline-none focus:outline-none"),J(s,"class","p-1 ml-auto bg-transparent border-0 text-black float-right text-3xl leading-none font-semibold outline-none focus:outline-none"),J(a,"class","flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t"),J(w,"class","relative p-6 flex-auto"),J(u,"class","border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"),J(r,"class",_="relative w-auto my-6 mx-auto max-w-"+h[1]),J(o,"class","overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex"),ft(o,"hidden",!h[0]),J(E,"class","opacity-25 fixed inset-0 z-40 bg-black"),ft(E,"hidden",!h[0])},m(F,M){gt(F,o,M),j(o,r),j(r,u),j(u,a),j(a,f),I&&I.m(f,null),j(a,p),j(a,s),j(s,g),j(g,m),j(u,y),j(u,w),P&&P.m(w,null),gt(F,B,M),gt(F,E,M),S=!0,x||(b=Ae(s,"click",h[2]),x=!0)},p(F,[M]){I&&I.p&&(!S||M&8)&&Wt(I,O,F,F[3],S?Gt(O,F[3],M,Ue):zt(F[3]),Ht),P&&P.p&&(!S||M&8)&&Wt(P,X,F,F[3],S?Gt(X,F[3],M,null):zt(F[3]),null),(!S||M&2&&_!==(_="relative w-auto my-6 mx-auto max-w-"+F[1]))&&J(r,"class",_),(!S||M&1)&&ft(o,"hidden",!F[0]),(!S||M&1)&&ft(E,"hidden",!F[0])},i(F){S||(jt(I,F),jt(P,F),S=!0)},o(F){qt(I,F),qt(P,F),S=!1},d(F){F&&k(o),I&&I.d(F),P&&P.d(F),F&&k(B),F&&k(E),x=!1,b()}}}function Ce(h,o,r){let{$$slots:u={},$$scope:a}=o,{size:f="md"}=o,{show:p=!1}=o;function s(){r(0,p=!p)}return h.$$set=g=>{"size"in g&&r(1,f=g.size),"show"in g&&r(0,p=g.show),"$$scope"in g&&r(3,a=g.$$scope)},[p,f,s,a,u]}class pn extends Zt{constructor(o){super(),te(this,o,Ce,be,ee,{size:1,show:0})}}function Ne(h){let o;return{c(){o=q("img"),this.h()},l(r){o=Y(r,"IMG",{class:!0,alt:!0}),this.h()},h(){J(o,"class","inline-block w-100"),J(o,"alt",h[0])},m(r,u){gt(r,o,u),h[6](o)},p(r,[u]){u&1&&J(o,"alt",r[0])},i:Yt,o:Yt,d(r){r&&k(o),h[6](null)}}}function Te(h,o,r){let{value:u}=o,{size:a=512}=o,f,p,s,g;function m(y){Se[y?"unshift":"push"](()=>{p=y,r(1,p)})}return h.$$set=y=>{"value"in y&&r(0,u=y.value),"size"in y&&r(2,a=y.size)},h.$$.update=()=>{h.$$.dirty&15&&p&&!f&&(r(4,s=u),r(5,g=a),r(3,f=new window.QRious({element:p,size:a,value:u}))),h.$$.dirty&25&&f&&s!==u&&(r(4,s=u),r(3,f.value=u,f)),h.$$.dirty&44&&f&&g!==a&&(r(5,g=a),r(3,f.size=a,f))},[u,p,a,f,s,g,m]}class dn extends Zt{constructor(o){super(),te(this,o,Te,Ne,ee,{value:0,size:2})}}const K="/";class W{constructor(o,r,u){this.graph=o,this.path=r,this.state=u}get(o){return new W(this.graph,this.path+K+o,this.state)}set(o){return this.graph.set(this.path,o),this}delete(){return this.graph.delete(this.path),this}getValue(){return this.graph.getValueAtPath(this.path)}getPath(){return this.path}getNode(){return this.graph.getNodeAtPath(this.path)}getState(){return this.state}on(o){let r=this.getNode();const u=f=>{const p=this.getNode();if(p){const s=p.getValue();r!==p&&(this.graph.listenAtPath(p.getPath(),s===void 0),r=p),f.startsWith(p.getPath())&&o(s)}else r=p};this.graph.on("change",u);const a=r==null?void 0:r.getValue();return this.graph.listenAtPath((r==null?void 0:r.getPath())||this.path,a===void 0),a!==void 0&&o(a),()=>{this.graph.off("change",u)}}once(o){const r=this.on(u=>{r(),o(u)});return this}getWaitMS(){return this.waitMS===void 0?this.graph.getWaitMS():this.waitMS}setWaitMS(o){return this.waitMS=o,this}then(o,r){const u=this.getValue();let a;return u!==void 0?a=Promise.resolve(u):a=new Promise((f,p)=>{const s=this.on(m=>{clearTimeout(g),s(),f(m)}),g=setTimeout(()=>{s(),p(new Error(`Request took longer than ${this.getWaitMS()}ms to resolve`))},this.getWaitMS())}),a.then(o,r)}toJSON(){return{id:this.path,state:this.state}}}class ne{constructor(o,r,u,a){this.graph=o,this.parent=r,this.key=u,this.state=a}getValue(){return this.graph.getValueAtPath(this.getPath())}getPath(){return this.parent?this.parent.getPath()+K+this.key:this.key}toJSON(){return{state:this.state}}}class st extends ne{constructor(o,r,u,a,f){super(o,r,u,a),this.value=f}getPath(){return this.value instanceof W?this.value.getPath():super.getPath()}toJSON(){return this.value instanceof W?this.value.toJSON():Object.assign(Object.assign({},super.toJSON()),{value:this.value})}}var Ut={},Oe={get exports(){return Ut},set exports(h){Ut=h}};(function(h){var o=Object.prototype.hasOwnProperty,r="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(r=!1));function a(g,m,y){this.fn=g,this.context=m,this.once=y||!1}function f(g,m,y,w,_){if(typeof y!="function")throw new TypeError("The listener must be a function");var B=new a(y,w||g,_),E=r?r+m:m;return g._events[E]?g._events[E].fn?g._events[E]=[g._events[E],B]:g._events[E].push(B):(g._events[E]=B,g._eventsCount++),g}function p(g,m){--g._eventsCount===0?g._events=new u:delete g._events[m]}function s(){this._events=new u,this._eventsCount=0}s.prototype.eventNames=function(){var m=[],y,w;if(this._eventsCount===0)return m;for(w in y=this._events)o.call(y,w)&&m.push(r?w.slice(1):w);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(y)):m},s.prototype.listeners=function(m){var y=r?r+m:m,w=this._events[y];if(!w)return[];if(w.fn)return[w.fn];for(var _=0,B=w.length,E=new Array(B);_<B;_++)E[_]=w[_].fn;return E},s.prototype.listenerCount=function(m){var y=r?r+m:m,w=this._events[y];return w?w.fn?1:w.length:0},s.prototype.emit=function(m,y,w,_,B,E){var S=r?r+m:m;if(!this._events[S])return!1;var x=this._events[S],b=arguments.length,O,I;if(x.fn){switch(x.once&&this.removeListener(m,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,y),!0;case 3:return x.fn.call(x.context,y,w),!0;case 4:return x.fn.call(x.context,y,w,_),!0;case 5:return x.fn.call(x.context,y,w,_,B),!0;case 6:return x.fn.call(x.context,y,w,_,B,E),!0}for(I=1,O=new Array(b-1);I<b;I++)O[I-1]=arguments[I];x.fn.apply(x.context,O)}else{var X=x.length,P;for(I=0;I<X;I++)switch(x[I].once&&this.removeListener(m,x[I].fn,void 0,!0),b){case 1:x[I].fn.call(x[I].context);break;case 2:x[I].fn.call(x[I].context,y);break;case 3:x[I].fn.call(x[I].context,y,w);break;case 4:x[I].fn.call(x[I].context,y,w,_);break;default:if(!O)for(P=1,O=new Array(b-1);P<b;P++)O[P-1]=arguments[P];x[I].fn.apply(x[I].context,O)}}return!0},s.prototype.on=function(m,y,w){return f(this,m,y,w,!1)},s.prototype.once=function(m,y,w){return f(this,m,y,w,!0)},s.prototype.removeListener=function(m,y,w,_){var B=r?r+m:m;if(!this._events[B])return this;if(!y)return p(this,B),this;var E=this._events[B];if(E.fn)E.fn===y&&(!_||E.once)&&(!w||E.context===w)&&p(this,B);else{for(var S=0,x=[],b=E.length;S<b;S++)(E[S].fn!==y||_&&!E[S].once||w&&E[S].context!==w)&&x.push(E[S]);x.length?this._events[B]=x.length===1?x[0]:x:p(this,B)}return this},s.prototype.removeAllListeners=function(m){var y;return m?(y=r?r+m:m,this._events[y]&&p(this,y)):(this._events=new u,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,h.exports=s})(Oe);class z extends ne{constructor(){super(...arguments),this.children={}}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{children:Object.entries(this.children).reduce((o,[r,u])=>(u instanceof z?o[r]={state:u.state,id:u.getPath()}:o[r]=u.toJSON(),o),{})})}}class De extends Ut.EventEmitter{constructor(){super(...arguments),this.state=Date.now(),this.entries={},this.listeningPaths=new Set,this.waitMS=5e3}setWaitMS(o){return this.waitMS=o,this}getWaitMS(){return this.waitMS}getEntries(){return this.entries}getState(){return this.state}get(o){return new W(this,o,this.state)}getValueAtPath(o){const r=this.getNodeAtPath(o);let u;return r?(u=ie(this,r),u===void 0&&this.listenAtPath(o)):this.listenAtPath(o),u}getNodeAtPath(o){return re(this,o,{})}set(o,r){return this.state=Date.now(),this.setPathInternal(o,r,this.state),this}delete(o){return this.state=Date.now(),this.deletePathInternal(o,this.state),this}merge(o,r){if(this.isListening(o)){const u=Date.now();if("children"in r)for(const[a,f]of Object.entries(r.children))this.mergePathInternal(o+K+a,f,u);else"delete"in r?this.mergeDeletePathInternal(o,r.state,u):this.mergePathInternal(o,r,u)}return this}listenAtPath(o,r=!0){return r&&this.emit("get",o),this.listeningPaths.add(o),this}isListening(o){for(const r of this.listeningPaths)if(o.startsWith(r))return!0;return!1}toJSON(){return{state:this.state,entries:Object.entries(this.entries).reduce((o,[r,u])=>(o[r]=u.toJSON(),o),{})}}mergePathInternal(o,r,u){const a=r.state;return a>u?setTimeout(()=>this.mergePathEdgeInternal(o,r),a-u):this.mergePathEdgeInternal(o,r),this}mergePathEdgeInternal(o,r){const u=r.state,a=this.getNodeAtPath(o),f="value"in r?r.value:new W(this,r.id,u);if(a instanceof st)Xt(a.value,a.state,f,u)&&(a.value=f,a.state=u,this.emit("change",a.getPath(),a.toJSON()));else if(a instanceof z){if(Xt(new W(this,a.getPath(),u),a.state,f,u)){const p=this.createEdgeAt(o,u);p.value=f,this.emit("change",p.getPath(),p.toJSON())}}else{const p=this.createEdgeAt(o,u);p.value=f,this.emit("change",p.getPath(),p.toJSON())}return this}mergeDeletePathInternal(o,r,u){return r>u?setTimeout(()=>this.mergeDeletePathEdgeInternal(o,r),r-u):this.mergeDeletePathEdgeInternal(o,r),this}mergeDeletePathEdgeInternal(o,r){const[u,a]=At(o),f=this.getNodeAtPath(o),p=u?this.getNodeAtPath(u):null;return f&&Me(f.state,r)&&p instanceof z&&(delete p.children[a],this.emit("change",u,p.toJSON())),this}setPathInternal(o,r,u){if(r instanceof W)this.setEdgePathInternal(o,r,u);else if(r!==null&&typeof r=="object")for(const[a,f]of Object.entries(r))this.setPathInternal(o+K+a,f,u);else this.setEdgePathInternal(o,r,u)}setEdgePathInternal(o,r,u){const a=this.createEdgeAt(o,u);a.value=r;const f=a.getPath(),p=a.toJSON();return this.emit("change",f,p),this.emit("set",f,p),a}createNodeAt(o,r){const u=o.split(K),a=u.shift();let f=this.entries[a];return f instanceof z||(f=new z(this,null,a,r),this.entries[a]=f),u.reduce((p,s)=>{const g=p.children[s];if(g instanceof z)return g;if(g instanceof st&&g.value instanceof W){const y=g.value.getNode();if(y instanceof z)return y}const m=new z(this,p,s,r);return p.children[s]=m,m},f)}createEdgeAt(o,r){const[u,a]=At(o),f=u?this.createNodeAt(u,r):null;let p=f==null?void 0:f.children[a];return p instanceof st?(p.state=r,p):(p=new st(this,f,a,r,null),f?f.children[a]=p:this.entries[a]=p,p)}deletePathInternal(o,r){const[u,a]=At(o),f=u?this.createNodeAt(u,r):null;f&&(delete f.children[a],this.emit("change",o,{state:r,delete:!0}),this.emit("set",o,{state:r,delete:!0}))}}function At(h){const o=h.lastIndexOf("/");return o===-1?[void 0,h]:[h.substring(0,o),h.substring(o+1)]}function re(h,o,r){const u=r[o];if(u!==void 0)return u||void 0;{const a=o.split(K),f=a.shift(),p=h.getEntries()[f];return p&&a.length?(r[f]=p,bt(h,f,p,a,r)):p}}function bt(h,o,r,u,a){if(r instanceof z){const f=u.shift();if(f){const p=r.children[f],s=o+K+f;if(p)return a[s]=p,bt(h,s,p,u,a);a[s]=null;return}else return a[o]=r,r}else if(r.value instanceof W){const f=r.value.getPath(),p=re(h,f,a);if(p&&p!==r)return bt(h,o,p,u,a);a[f]=null;return}else return a[o]=r,r}function ie(h,o,r=new Set){if(o)if(o instanceof z){const u={};for(const[a,f]of Object.entries(o.children)){const p=f instanceof st?f.value:u[a]=new W(h,f.getPath(),f.state);u[a]=p}return u}else return o.value instanceof W?r.has(o.value.getPath())?void 0:(r.add(o.value.getPath()),ie(h,o.value.getNode(),r)):o.value;else return}function Xt(h,o,r,u){return u>=o&&(o===u?JSON.stringify(r).length>JSON.stringify(h).length:!0)}function Me(h,o){return o>=h}var yt={},Le={get exports(){return yt},set exports(h){yt=h}};(function(h){var o=Object.prototype.hasOwnProperty,r="~";function u(){}Object.create&&(u.prototype=Object.create(null),new u().__proto__||(r=!1));function a(g,m,y){this.fn=g,this.context=m,this.once=y||!1}function f(g,m,y,w,_){if(typeof y!="function")throw new TypeError("The listener must be a function");var B=new a(y,w||g,_),E=r?r+m:m;return g._events[E]?g._events[E].fn?g._events[E]=[g._events[E],B]:g._events[E].push(B):(g._events[E]=B,g._eventsCount++),g}function p(g,m){--g._eventsCount===0?g._events=new u:delete g._events[m]}function s(){this._events=new u,this._eventsCount=0}s.prototype.eventNames=function(){var m=[],y,w;if(this._eventsCount===0)return m;for(w in y=this._events)o.call(y,w)&&m.push(r?w.slice(1):w);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(y)):m},s.prototype.listeners=function(m){var y=r?r+m:m,w=this._events[y];if(!w)return[];if(w.fn)return[w.fn];for(var _=0,B=w.length,E=new Array(B);_<B;_++)E[_]=w[_].fn;return E},s.prototype.listenerCount=function(m){var y=r?r+m:m,w=this._events[y];return w?w.fn?1:w.length:0},s.prototype.emit=function(m,y,w,_,B,E){var S=r?r+m:m;if(!this._events[S])return!1;var x=this._events[S],b=arguments.length,O,I;if(x.fn){switch(x.once&&this.removeListener(m,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,y),!0;case 3:return x.fn.call(x.context,y,w),!0;case 4:return x.fn.call(x.context,y,w,_),!0;case 5:return x.fn.call(x.context,y,w,_,B),!0;case 6:return x.fn.call(x.context,y,w,_,B,E),!0}for(I=1,O=new Array(b-1);I<b;I++)O[I-1]=arguments[I];x.fn.apply(x.context,O)}else{var X=x.length,P;for(I=0;I<X;I++)switch(x[I].once&&this.removeListener(m,x[I].fn,void 0,!0),b){case 1:x[I].fn.call(x[I].context);break;case 2:x[I].fn.call(x[I].context,y);break;case 3:x[I].fn.call(x[I].context,y,w);break;case 4:x[I].fn.call(x[I].context,y,w,_);break;default:if(!O)for(P=1,O=new Array(b-1);P<b;P++)O[P-1]=arguments[P];x[I].fn.apply(x[I].context,O)}}return!0},s.prototype.on=function(m,y,w){return f(this,m,y,w,!1)},s.prototype.once=function(m,y,w){return f(this,m,y,w,!0)},s.prototype.removeListener=function(m,y,w,_){var B=r?r+m:m;if(!this._events[B])return this;if(!y)return p(this,B),this;var E=this._events[B];if(E.fn)E.fn===y&&(!_||E.once)&&(!w||E.context===w)&&p(this,B);else{for(var S=0,x=[],b=E.length;S<b;S++)(E[S].fn!==y||_&&!E[S].once||w&&E[S].context!==w)&&x.push(E[S]);x.length?this._events[B]=x.length===1?x[0]:x:p(this,B)}return this},s.prototype.removeAllListeners=function(m){var y;return m?(y=r?r+m:m,this._events[y]&&p(this,y)):(this._events=new u,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,h.exports=s})(Le);var oe={},wt={};wt.byteLength=Je;wt.toByteArray=We;wt.fromByteArray=je;var H=[],V=[],Re=typeof Uint8Array<"u"?Uint8Array:Array,St="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var rt=0,ke=St.length;rt<ke;++rt)H[rt]=St[rt],V[St.charCodeAt(rt)]=rt;V["-".charCodeAt(0)]=62;V["_".charCodeAt(0)]=63;function se(h){var o=h.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=h.indexOf("=");r===-1&&(r=o);var u=r===o?0:4-r%4;return[r,u]}function Je(h){var o=se(h),r=o[0],u=o[1];return(r+u)*3/4-u}function Ve(h,o,r){return(o+r)*3/4-r}function We(h){var o,r=se(h),u=r[0],a=r[1],f=new Re(Ve(h,u,a)),p=0,s=a>0?u-4:u,g;for(g=0;g<s;g+=4)o=V[h.charCodeAt(g)]<<18|V[h.charCodeAt(g+1)]<<12|V[h.charCodeAt(g+2)]<<6|V[h.charCodeAt(g+3)],f[p++]=o>>16&255,f[p++]=o>>8&255,f[p++]=o&255;return a===2&&(o=V[h.charCodeAt(g)]<<2|V[h.charCodeAt(g+1)]>>4,f[p++]=o&255),a===1&&(o=V[h.charCodeAt(g)]<<10|V[h.charCodeAt(g+1)]<<4|V[h.charCodeAt(g+2)]>>2,f[p++]=o>>8&255,f[p++]=o&255),f}function ze(h){return H[h>>18&63]+H[h>>12&63]+H[h>>6&63]+H[h&63]}function Ge(h,o,r){for(var u,a=[],f=o;f<r;f+=3)u=(h[f]<<16&16711680)+(h[f+1]<<8&65280)+(h[f+2]&255),a.push(ze(u));return a.join("")}function je(h){for(var o,r=h.length,u=r%3,a=[],f=16383,p=0,s=r-u;p<s;p+=f)a.push(Ge(h,p,p+f>s?s:p+f));return u===1?(o=h[r-1],a.push(H[o>>2]+H[o<<4&63]+"==")):u===2&&(o=(h[r-2]<<8)+h[r-1],a.push(H[o>>10]+H[o>>4&63]+H[o<<2&63]+"=")),a.join("")}var Ct={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Ct.read=function(h,o,r,u,a){var f,p,s=a*8-u-1,g=(1<<s)-1,m=g>>1,y=-7,w=r?a-1:0,_=r?-1:1,B=h[o+w];for(w+=_,f=B&(1<<-y)-1,B>>=-y,y+=s;y>0;f=f*256+h[o+w],w+=_,y-=8);for(p=f&(1<<-y)-1,f>>=-y,y+=u;y>0;p=p*256+h[o+w],w+=_,y-=8);if(f===0)f=1-m;else{if(f===g)return p?NaN:(B?-1:1)*(1/0);p=p+Math.pow(2,u),f=f-m}return(B?-1:1)*p*Math.pow(2,f-u)};Ct.write=function(h,o,r,u,a,f){var p,s,g,m=f*8-a-1,y=(1<<m)-1,w=y>>1,_=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,B=u?0:f-1,E=u?1:-1,S=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(s=isNaN(o)?1:0,p=y):(p=Math.floor(Math.log(o)/Math.LN2),o*(g=Math.pow(2,-p))<1&&(p--,g*=2),p+w>=1?o+=_/g:o+=_*Math.pow(2,1-w),o*g>=2&&(p++,g/=2),p+w>=y?(s=0,p=y):p+w>=1?(s=(o*g-1)*Math.pow(2,a),p=p+w):(s=o*Math.pow(2,w-1)*Math.pow(2,a),p=0));a>=8;h[r+B]=s&255,B+=E,s/=256,a-=8);for(p=p<<a|s,m+=a;m>0;h[r+B]=p&255,B+=E,p/=256,m-=8);h[r+B-E]|=S*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(h){const o=wt,r=Ct,u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;h.Buffer=s,h.SlowBuffer=O,h.INSPECT_MAX_BYTES=50;const a=2147483647;h.kMaxLength=a,s.TYPED_ARRAY_SUPPORT=f(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function f(){try{const n=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(n,t),n.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function p(n){if(n>a)throw new RangeError('The value "'+n+'" is invalid for option "size"');const t=new Uint8Array(n);return Object.setPrototypeOf(t,s.prototype),t}function s(n,t,e){if(typeof n=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(n)}return g(n,t,e)}s.poolSize=8192;function g(n,t,e){if(typeof n=="string")return _(n,t);if(ArrayBuffer.isView(n))return E(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(G(n,ArrayBuffer)||n&&G(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(G(n,SharedArrayBuffer)||n&&G(n.buffer,SharedArrayBuffer)))return S(n,t,e);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=n.valueOf&&n.valueOf();if(i!=null&&i!==n)return s.from(i,t,e);const c=x(n);if(c)return c;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return s.from(n[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}s.from=function(n,t,e){return g(n,t,e)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function m(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function y(n,t,e){return m(n),n<=0?p(n):t!==void 0?typeof e=="string"?p(n).fill(t,e):p(n).fill(t):p(n)}s.alloc=function(n,t,e){return y(n,t,e)};function w(n){return m(n),p(n<0?0:b(n)|0)}s.allocUnsafe=function(n){return w(n)},s.allocUnsafeSlow=function(n){return w(n)};function _(n,t){if((typeof t!="string"||t==="")&&(t="utf8"),!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const e=I(n,t)|0;let i=p(e);const c=i.write(n,t);return c!==e&&(i=i.slice(0,c)),i}function B(n){const t=n.length<0?0:b(n.length)|0,e=p(t);for(let i=0;i<t;i+=1)e[i]=n[i]&255;return e}function E(n){if(G(n,Uint8Array)){const t=new Uint8Array(n);return S(t.buffer,t.byteOffset,t.byteLength)}return B(n)}function S(n,t,e){if(t<0||n.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');let i;return t===void 0&&e===void 0?i=new Uint8Array(n):e===void 0?i=new Uint8Array(n,t):i=new Uint8Array(n,t,e),Object.setPrototypeOf(i,s.prototype),i}function x(n){if(s.isBuffer(n)){const t=b(n.length)|0,e=p(t);return e.length===0||n.copy(e,0,0,t),e}if(n.length!==void 0)return typeof n.length!="number"||Et(n.length)?p(0):B(n);if(n.type==="Buffer"&&Array.isArray(n.data))return B(n.data)}function b(n){if(n>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return n|0}function O(n){return+n!=n&&(n=0),s.alloc(+n)}s.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==s.prototype},s.compare=function(t,e){if(G(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(t)||!s.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let i=t.length,c=e.length;for(let l=0,d=Math.min(i,c);l<d;++l)if(t[l]!==e[l]){i=t[l],c=e[l];break}return i<c?-1:c<i?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return s.alloc(0);let i;if(e===void 0)for(e=0,i=0;i<t.length;++i)e+=t[i].length;const c=s.allocUnsafe(e);let l=0;for(i=0;i<t.length;++i){let d=t[i];if(G(d,Uint8Array))l+d.length>c.length?(s.isBuffer(d)||(d=s.from(d)),d.copy(c,l)):Uint8Array.prototype.set.call(c,d,l);else if(s.isBuffer(d))d.copy(c,l);else throw new TypeError('"list" argument must be an Array of Buffers');l+=d.length}return c};function I(n,t){if(s.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||G(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const e=n.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&e===0)return 0;let c=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return xt(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Jt(n).length;default:if(c)return i?-1:xt(n).length;t=(""+t).toLowerCase(),c=!0}}s.byteLength=I;function X(n,t,e){let i=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(n||(n="utf8");;)switch(n){case"hex":return le(this,t,e);case"utf8":case"utf-8":return it(this,t,e);case"ascii":return he(this,t,e);case"latin1":case"binary":return ae(this,t,e);case"base64":return at(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,t,e);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),i=!0}}s.prototype._isBuffer=!0;function P(n,t,e){const i=n[t];n[t]=n[e],n[e]=i}s.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)P(this,e,e+1);return this},s.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)P(this,e,e+3),P(this,e+1,e+2);return this},s.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)P(this,e,e+7),P(this,e+1,e+6),P(this,e+2,e+5),P(this,e+3,e+4);return this},s.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?it(this,0,t):X.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:s.compare(this,t)===0},s.prototype.inspect=function(){let t="";const e=h.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},u&&(s.prototype[u]=s.prototype.inspect),s.prototype.compare=function(t,e,i,c,l){if(G(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),i===void 0&&(i=t?t.length:0),c===void 0&&(c=0),l===void 0&&(l=this.length),e<0||i>t.length||c<0||l>this.length)throw new RangeError("out of range index");if(c>=l&&e>=i)return 0;if(c>=l)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,c>>>=0,l>>>=0,this===t)return 0;let d=l-c,A=i-e;const N=Math.min(d,A),C=this.slice(c,l),T=t.slice(e,i);for(let v=0;v<N;++v)if(C[v]!==T[v]){d=C[v],A=T[v];break}return d<A?-1:A<d?1:0};function F(n,t,e,i,c){if(n.length===0)return-1;if(typeof e=="string"?(i=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,Et(e)&&(e=c?0:n.length-1),e<0&&(e=n.length+e),e>=n.length){if(c)return-1;e=n.length-1}else if(e<0)if(c)e=0;else return-1;if(typeof t=="string"&&(t=s.from(t,i)),s.isBuffer(t))return t.length===0?-1:M(n,t,e,i,c);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?c?Uint8Array.prototype.indexOf.call(n,t,e):Uint8Array.prototype.lastIndexOf.call(n,t,e):M(n,[t],e,i,c);throw new TypeError("val must be string, number or Buffer")}function M(n,t,e,i,c){let l=1,d=n.length,A=t.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(n.length<2||t.length<2)return-1;l=2,d/=2,A/=2,e/=2}function N(T,v){return l===1?T[v]:T.readUInt16BE(v*l)}let C;if(c){let T=-1;for(C=e;C<d;C++)if(N(n,C)===N(t,T===-1?0:C-T)){if(T===-1&&(T=C),C-T+1===A)return T*l}else T!==-1&&(C-=C-T),T=-1}else for(e+A>d&&(e=d-A),C=e;C>=0;C--){let T=!0;for(let v=0;v<A;v++)if(N(n,C+v)!==N(t,v)){T=!1;break}if(T)return C}return-1}s.prototype.includes=function(t,e,i){return this.indexOf(t,e,i)!==-1},s.prototype.indexOf=function(t,e,i){return F(this,t,e,i,!0)},s.prototype.lastIndexOf=function(t,e,i){return F(this,t,e,i,!1)};function ut(n,t,e,i){e=Number(e)||0;const c=n.length-e;i?(i=Number(i),i>c&&(i=c)):i=c;const l=t.length;i>l/2&&(i=l/2);let d;for(d=0;d<i;++d){const A=parseInt(t.substr(d*2,2),16);if(Et(A))return d;n[e+d]=A}return d}function Z(n,t,e,i){return lt(xt(t,n.length-e),n,e,i)}function tt(n,t,e,i){return lt(ye(t),n,e,i)}function ct(n,t,e,i){return lt(Jt(t),n,e,i)}function ht(n,t,e,i){return lt(we(t,n.length-e),n,e,i)}s.prototype.write=function(t,e,i,c){if(e===void 0)c="utf8",i=this.length,e=0;else if(i===void 0&&typeof e=="string")c=e,i=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(i)?(i=i>>>0,c===void 0&&(c="utf8")):(c=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const l=this.length-e;if((i===void 0||i>l)&&(i=l),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");c||(c="utf8");let d=!1;for(;;)switch(c){case"hex":return ut(this,t,e,i);case"utf8":case"utf-8":return Z(this,t,e,i);case"ascii":case"latin1":case"binary":return tt(this,t,e,i);case"base64":return ct(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ht(this,t,e,i);default:if(d)throw new TypeError("Unknown encoding: "+c);c=(""+c).toLowerCase(),d=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function at(n,t,e){return t===0&&e===n.length?o.fromByteArray(n):o.fromByteArray(n.slice(t,e))}function it(n,t,e){e=Math.min(n.length,e);const i=[];let c=t;for(;c<e;){const l=n[c];let d=null,A=l>239?4:l>223?3:l>191?2:1;if(c+A<=e){let N,C,T,v;switch(A){case 1:l<128&&(d=l);break;case 2:N=n[c+1],(N&192)===128&&(v=(l&31)<<6|N&63,v>127&&(d=v));break;case 3:N=n[c+1],C=n[c+2],(N&192)===128&&(C&192)===128&&(v=(l&15)<<12|(N&63)<<6|C&63,v>2047&&(v<55296||v>57343)&&(d=v));break;case 4:N=n[c+1],C=n[c+2],T=n[c+3],(N&192)===128&&(C&192)===128&&(T&192)===128&&(v=(l&15)<<18|(N&63)<<12|(C&63)<<6|T&63,v>65535&&v<1114112&&(d=v))}}d===null?(d=65533,A=1):d>65535&&(d-=65536,i.push(d>>>10&1023|55296),d=56320|d&1023),i.push(d),c+=A}return ce(i)}const Nt=4096;function ce(n){const t=n.length;if(t<=Nt)return String.fromCharCode.apply(String,n);let e="",i=0;for(;i<t;)e+=String.fromCharCode.apply(String,n.slice(i,i+=Nt));return e}function he(n,t,e){let i="";e=Math.min(n.length,e);for(let c=t;c<e;++c)i+=String.fromCharCode(n[c]&127);return i}function ae(n,t,e){let i="";e=Math.min(n.length,e);for(let c=t;c<e;++c)i+=String.fromCharCode(n[c]);return i}function le(n,t,e){const i=n.length;(!t||t<0)&&(t=0),(!e||e<0||e>i)&&(e=i);let c="";for(let l=t;l<e;++l)c+=me[n[l]];return c}function fe(n,t,e){const i=n.slice(t,e);let c="";for(let l=0;l<i.length-1;l+=2)c+=String.fromCharCode(i[l]+i[l+1]*256);return c}s.prototype.slice=function(t,e){const i=this.length;t=~~t,e=e===void 0?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t);const c=this.subarray(t,e);return Object.setPrototypeOf(c,s.prototype),c};function D(n,t,e){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+t>e)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(t,e,i){t=t>>>0,e=e>>>0,i||D(t,e,this.length);let c=this[t],l=1,d=0;for(;++d<e&&(l*=256);)c+=this[t+d]*l;return c},s.prototype.readUintBE=s.prototype.readUIntBE=function(t,e,i){t=t>>>0,e=e>>>0,i||D(t,e,this.length);let c=this[t+--e],l=1;for(;e>0&&(l*=256);)c+=this[t+--e]*l;return c},s.prototype.readUint8=s.prototype.readUInt8=function(t,e){return t=t>>>0,e||D(t,1,this.length),this[t]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||D(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||D(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||D(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||D(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readBigUInt64LE=Q(function(t){t=t>>>0,nt(t,"offset");const e=this[t],i=this[t+7];(e===void 0||i===void 0)&&ot(t,this.length-8);const c=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,l=this[++t]+this[++t]*2**8+this[++t]*2**16+i*2**24;return BigInt(c)+(BigInt(l)<<BigInt(32))}),s.prototype.readBigUInt64BE=Q(function(t){t=t>>>0,nt(t,"offset");const e=this[t],i=this[t+7];(e===void 0||i===void 0)&&ot(t,this.length-8);const c=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],l=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+i;return(BigInt(c)<<BigInt(32))+BigInt(l)}),s.prototype.readIntLE=function(t,e,i){t=t>>>0,e=e>>>0,i||D(t,e,this.length);let c=this[t],l=1,d=0;for(;++d<e&&(l*=256);)c+=this[t+d]*l;return l*=128,c>=l&&(c-=Math.pow(2,8*e)),c},s.prototype.readIntBE=function(t,e,i){t=t>>>0,e=e>>>0,i||D(t,e,this.length);let c=e,l=1,d=this[t+--c];for(;c>0&&(l*=256);)d+=this[t+--c]*l;return l*=128,d>=l&&(d-=Math.pow(2,8*e)),d},s.prototype.readInt8=function(t,e){return t=t>>>0,e||D(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},s.prototype.readInt16LE=function(t,e){t=t>>>0,e||D(t,2,this.length);const i=this[t]|this[t+1]<<8;return i&32768?i|4294901760:i},s.prototype.readInt16BE=function(t,e){t=t>>>0,e||D(t,2,this.length);const i=this[t+1]|this[t]<<8;return i&32768?i|4294901760:i},s.prototype.readInt32LE=function(t,e){return t=t>>>0,e||D(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,e){return t=t>>>0,e||D(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readBigInt64LE=Q(function(t){t=t>>>0,nt(t,"offset");const e=this[t],i=this[t+7];(e===void 0||i===void 0)&&ot(t,this.length-8);const c=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(i<<24);return(BigInt(c)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}),s.prototype.readBigInt64BE=Q(function(t){t=t>>>0,nt(t,"offset");const e=this[t],i=this[t+7];(e===void 0||i===void 0)&&ot(t,this.length-8);const c=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(c)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+i)}),s.prototype.readFloatLE=function(t,e){return t=t>>>0,e||D(t,4,this.length),r.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,e){return t=t>>>0,e||D(t,4,this.length),r.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||D(t,8,this.length),r.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||D(t,8,this.length),r.read(this,t,!1,52,8)};function R(n,t,e,i,c,l){if(!s.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>c||t<l)throw new RangeError('"value" argument is out of bounds');if(e+i>n.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(t,e,i,c){if(t=+t,e=e>>>0,i=i>>>0,!c){const A=Math.pow(2,8*i)-1;R(this,t,e,i,A,0)}let l=1,d=0;for(this[e]=t&255;++d<i&&(l*=256);)this[e+d]=t/l&255;return e+i},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(t,e,i,c){if(t=+t,e=e>>>0,i=i>>>0,!c){const A=Math.pow(2,8*i)-1;R(this,t,e,i,A,0)}let l=i-1,d=1;for(this[e+l]=t&255;--l>=0&&(d*=256);)this[e+l]=t/d&255;return e+i},s.prototype.writeUint8=s.prototype.writeUInt8=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,1,255,0),this[e]=t&255,e+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function Tt(n,t,e,i,c){kt(t,i,c,n,e,7);let l=Number(t&BigInt(4294967295));n[e++]=l,l=l>>8,n[e++]=l,l=l>>8,n[e++]=l,l=l>>8,n[e++]=l;let d=Number(t>>BigInt(32)&BigInt(4294967295));return n[e++]=d,d=d>>8,n[e++]=d,d=d>>8,n[e++]=d,d=d>>8,n[e++]=d,e}function Ot(n,t,e,i,c){kt(t,i,c,n,e,7);let l=Number(t&BigInt(4294967295));n[e+7]=l,l=l>>8,n[e+6]=l,l=l>>8,n[e+5]=l,l=l>>8,n[e+4]=l;let d=Number(t>>BigInt(32)&BigInt(4294967295));return n[e+3]=d,d=d>>8,n[e+2]=d,d=d>>8,n[e+1]=d,d=d>>8,n[e]=d,e+8}s.prototype.writeBigUInt64LE=Q(function(t,e=0){return Tt(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=Q(function(t,e=0){return Ot(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(t,e,i,c){if(t=+t,e=e>>>0,!c){const N=Math.pow(2,8*i-1);R(this,t,e,i,N-1,-N)}let l=0,d=1,A=0;for(this[e]=t&255;++l<i&&(d*=256);)t<0&&A===0&&this[e+l-1]!==0&&(A=1),this[e+l]=(t/d>>0)-A&255;return e+i},s.prototype.writeIntBE=function(t,e,i,c){if(t=+t,e=e>>>0,!c){const N=Math.pow(2,8*i-1);R(this,t,e,i,N-1,-N)}let l=i-1,d=1,A=0;for(this[e+l]=t&255;--l>=0&&(d*=256);)t<0&&A===0&&this[e+l+1]!==0&&(A=1),this[e+l]=(t/d>>0)-A&255;return e+i},s.prototype.writeInt8=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1},s.prototype.writeInt16LE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},s.prototype.writeInt16BE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},s.prototype.writeInt32LE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},s.prototype.writeInt32BE=function(t,e,i){return t=+t,e=e>>>0,i||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},s.prototype.writeBigInt64LE=Q(function(t,e=0){return Tt(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=Q(function(t,e=0){return Ot(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Dt(n,t,e,i,c,l){if(e+i>n.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Mt(n,t,e,i,c){return t=+t,e=e>>>0,c||Dt(n,t,e,4),r.write(n,t,e,i,23,4),e+4}s.prototype.writeFloatLE=function(t,e,i){return Mt(this,t,e,!0,i)},s.prototype.writeFloatBE=function(t,e,i){return Mt(this,t,e,!1,i)};function Lt(n,t,e,i,c){return t=+t,e=e>>>0,c||Dt(n,t,e,8),r.write(n,t,e,i,52,8),e+8}s.prototype.writeDoubleLE=function(t,e,i){return Lt(this,t,e,!0,i)},s.prototype.writeDoubleBE=function(t,e,i){return Lt(this,t,e,!1,i)},s.prototype.copy=function(t,e,i,c){if(!s.isBuffer(t))throw new TypeError("argument should be a Buffer");if(i||(i=0),!c&&c!==0&&(c=this.length),e>=t.length&&(e=t.length),e||(e=0),c>0&&c<i&&(c=i),c===i||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("sourceEnd out of bounds");c>this.length&&(c=this.length),t.length-e<c-i&&(c=t.length-e+i);const l=c-i;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,i,c):Uint8Array.prototype.set.call(t,this.subarray(i,c),e),l},s.prototype.fill=function(t,e,i,c){if(typeof t=="string"){if(typeof e=="string"?(c=e,e=0,i=this.length):typeof i=="string"&&(c=i,i=this.length),c!==void 0&&typeof c!="string")throw new TypeError("encoding must be a string");if(typeof c=="string"&&!s.isEncoding(c))throw new TypeError("Unknown encoding: "+c);if(t.length===1){const d=t.charCodeAt(0);(c==="utf8"&&d<128||c==="latin1")&&(t=d)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e=e>>>0,i=i===void 0?this.length:i>>>0,t||(t=0);let l;if(typeof t=="number")for(l=e;l<i;++l)this[l]=t;else{const d=s.isBuffer(t)?t:s.from(t,c),A=d.length;if(A===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(l=0;l<i-e;++l)this[l+e]=d[l%A]}return this};const et={};function mt(n,t,e){et[n]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(c){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:c,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}mt("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),mt("ERR_INVALID_ARG_TYPE",function(n,t){return`The "${n}" argument must be of type number. Received type ${typeof t}`},TypeError),mt("ERR_OUT_OF_RANGE",function(n,t,e){let i=`The value of "${n}" is out of range.`,c=e;return Number.isInteger(e)&&Math.abs(e)>2**32?c=Rt(String(e)):typeof e=="bigint"&&(c=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(c=Rt(c)),c+="n"),i+=` It must be ${t}. Received ${c}`,i},RangeError);function Rt(n){let t="",e=n.length;const i=n[0]==="-"?1:0;for(;e>=i+4;e-=3)t=`_${n.slice(e-3,e)}${t}`;return`${n.slice(0,e)}${t}`}function pe(n,t,e){nt(t,"offset"),(n[t]===void 0||n[t+e]===void 0)&&ot(t,n.length-(e+1))}function kt(n,t,e,i,c,l){if(n>e||n<t){const d=typeof t=="bigint"?"n":"";let A;throw l>3?t===0||t===BigInt(0)?A=`>= 0${d} and < 2${d} ** ${(l+1)*8}${d}`:A=`>= -(2${d} ** ${(l+1)*8-1}${d}) and < 2 ** ${(l+1)*8-1}${d}`:A=`>= ${t}${d} and <= ${e}${d}`,new et.ERR_OUT_OF_RANGE("value",A,n)}pe(i,c,l)}function nt(n,t){if(typeof n!="number")throw new et.ERR_INVALID_ARG_TYPE(t,"number",n)}function ot(n,t,e){throw Math.floor(n)!==n?(nt(n,e),new et.ERR_OUT_OF_RANGE(e||"offset","an integer",n)):t<0?new et.ERR_BUFFER_OUT_OF_BOUNDS:new et.ERR_OUT_OF_RANGE(e||"offset",`>= ${e?1:0} and <= ${t}`,n)}const de=/[^+/0-9A-Za-z-_]/g;function ge(n){if(n=n.split("=")[0],n=n.trim().replace(de,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function xt(n,t){t=t||1/0;let e;const i=n.length;let c=null;const l=[];for(let d=0;d<i;++d){if(e=n.charCodeAt(d),e>55295&&e<57344){if(!c){if(e>56319){(t-=3)>-1&&l.push(239,191,189);continue}else if(d+1===i){(t-=3)>-1&&l.push(239,191,189);continue}c=e;continue}if(e<56320){(t-=3)>-1&&l.push(239,191,189),c=e;continue}e=(c-55296<<10|e-56320)+65536}else c&&(t-=3)>-1&&l.push(239,191,189);if(c=null,e<128){if((t-=1)<0)break;l.push(e)}else if(e<2048){if((t-=2)<0)break;l.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;l.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;l.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return l}function ye(n){const t=[];for(let e=0;e<n.length;++e)t.push(n.charCodeAt(e)&255);return t}function we(n,t){let e,i,c;const l=[];for(let d=0;d<n.length&&!((t-=2)<0);++d)e=n.charCodeAt(d),i=e>>8,c=e%256,l.push(c),l.push(i);return l}function Jt(n){return o.toByteArray(ge(n))}function lt(n,t,e,i){let c;for(c=0;c<i&&!(c+e>=t.length||c>=n.length);++c)t[c+e]=n[c];return c}function G(n,t){return n instanceof t||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===t.name}function Et(n){return n!==n}const me=function(){const n="0123456789abcdef",t=new Array(256);for(let e=0;e<16;++e){const i=e*16;for(let c=0;c<16;++c)t[i+c]=n[e]+n[c]}return t}();function Q(n){return typeof BigInt>"u"?xe:n}function xe(){throw new Error("BigInt not supported")}})(oe);const qe=3e4,Ye=6e4,He=6e4;class Xe extends yt{constructor(r,u={}){super();U(this,"peer");U(this,"maxConnections",6);U(this,"syncMS",qe);U(this,"messageLastSeenDeleteMS",Ye);U(this,"replaceOldPeerMS",He);U(this,"messageId",0);U(this,"messages",new Map);U(this,"connections",new Map);U(this,"payloadsToSend",[]);U(this,"syncTimeoutId");U(this,"onData",(r,u)=>{if(typeof r=="string"||oe.Buffer.isBuffer(r)){const a=JSON.parse(r.toString()),f=`${a.from}-${a.id}`;this.messages.has(f)||(this.messages.set(f,Date.now()),this.peer.broadcast(r),this.emit("data",a.payload,a.from))}});U(this,"onDiscover",r=>{if(!this.peer.getConnections().has(r))if(this.needsConnection())this.peer.connectToInBackground(r);else{const u=$e(this.connections.entries());if(u){const[a,f]=u;f<Date.now()-this.replaceOldPeerMS&&this.peer.connectTo(r).then(()=>this.peer.disconnectFrom(a))}}});U(this,"onConnection",(r,u)=>{this.payloadsToSend.length&&(this.payloadsToSend.forEach(a=>this.broadcastInternal(a)),this.payloadsToSend.length=0),this.connections.set(u,Date.now())});U(this,"onDisconnection",(r,u)=>{this.needsConnection()&&this.peer.announce(),this.connections.delete(u)});U(this,"onDisconnect",()=>{this.connections.clear(),this.syncTimeoutId&&(clearTimeout(this.syncTimeoutId),this.syncTimeoutId=void 0)});U(this,"onSync",()=>{this.needsConnection()&&this.peer.announce(),this.cleanOldMessages(),this.syncTimeoutId=void 0,this.sync()});U(this,"sync",()=>{this.syncTimeoutId=setTimeout(this.onSync,this.syncMS*.5+Math.random()*this.syncMS*.5)});this.peer=r,this.peer.on("data",this.onData),this.peer.on("join",this.onDiscover),this.peer.on("announce",this.onDiscover),this.peer.on("connection",this.onConnection),this.peer.on("disconnection",this.onDisconnection),this.peer.on("connect",this.onSync),this.peer.on("disconnect",this.onDisconnect),typeof u.maxConnections=="number"&&u.maxConnections>0&&(this.maxConnections=u.maxConnections),typeof u.syncMS=="number"&&u.syncMS>5e3&&(this.syncMS=u.syncMS),typeof u.messageLastSeenDeleteMS=="number"&&u.messageLastSeenDeleteMS>0&&(this.messageLastSeenDeleteMS=u.messageLastSeenDeleteMS),typeof u.replaceOldPeerMS=="number"&&u.replaceOldPeerMS>0&&(this.replaceOldPeerMS=u.replaceOldPeerMS),this.peer.isConnected()&&this.onSync()}getPeer(){return this.peer}broadcast(r){if(this.connections.size===0)this.payloadsToSend.push(r);else return this.broadcastInternal(r)}broadcastInternal(r){const u=this.peer.getId(),a=this.messageId++,f=`${u}-${a}`;return this.messages.set(f,Date.now()),this.peer.broadcast(JSON.stringify({id:a,from:u,payload:r})),this}needsConnection(){return this.connections.size<this.maxConnections}cleanOldMessages(){if(this.messages.size){const r=Date.now();for(const[u,a]of this.messages.entries())r-a>this.messageLastSeenDeleteMS&&this.messages.delete(u)}}}function $e(h){let o=Number.MAX_SAFE_INTEGER,r;for(const u of h){const a=u[1];a<o&&(o=a,r=u)}return r}class Qe extends yt{constructor(r,u){super();U(this,"socket");U(this,"connections",new Map);U(this,"SimplePeer");U(this,"onSignal",(r,u)=>{let a=this.connections.get(u);r.type==="offer"&&(a!=null&&a.initiator)&&(this.disconnectFrom(u,!1),a=void 0),a||(a=this.createConnection(u,!1)),a.destroyed||a.signal(r)});U(this,"onConnect",()=>{this.emit("connect",this.socket.id)});U(this,"onDisonnect",()=>{this.emit("disconnect");for(const[r,u]of this.connections.entries())this.emit("disconnection",u,r),u.destroy();this.connections.clear()});U(this,"onJoin",r=>{r!==this.socket.id&&this.emit("join",r)});U(this,"onAnnounce",r=>{r!==this.socket.id&&this.emit("announce",r)});U(this,"onLeave",(r,u)=>{this.disconnectFrom(r)});this.SimplePeer=u,this.socket=r,this.socket.on("signal",this.onSignal),this.socket.on("connect",this.onConnect),this.socket.on("disconnect",this.onDisonnect),this.socket.on("join",this.onJoin),this.socket.on("announce",this.onAnnounce),this.socket.on("leave",this.onLeave)}getId(){return this.socket.id}isConnected(){return this.socket.connected}connected(){return $t(this.socket)}getConnections(){return this.connections}send(r,u){const a=this.connections.get(r);return a!=null&&a.connected&&a.send(u),this}broadcast(r){for(const u of this.connections.values())u.connected&&u.send(r);return this}announce(){return this.socket.emit("announce"),this}get(r){return this.connections.get(r)}connectToInBackground(r){return this.getOrCreateConnection(r,!0),this}connectTo(r){return $t(this.getOrCreateConnection(r,!0))}disconnectFrom(r,u=!0){const a=this.connections.get(r);return a&&(u&&this.emit("disconnection",a,r),this.connections.delete(r),a.destroy()),this}getOrCreateConnection(r,u){const a=this.connections.get(r);return a||this.createConnection(r,u)}createConnection(r,u){const a=new this.SimplePeer({initiator:u,trickle:!1});return a.on("signal",f=>{this.socket.emit("signal",r,f)}),a.on("data",f=>{this.emit("data",f,r)}),a.on("error",f=>{this.disconnectFrom(r),this.emit("error",f)}),a.on("connect",()=>{this.emit("connection",a,r)}),a.on("disconnect",()=>{this.disconnectFrom(r)}),this.connections.set(r,a),a}}function $t(h){return new Promise((o,r)=>{if(h.connected)o(h);else{let u=function(){p(),o(h)},a=function(){p(),r()},f=function(s){p(),r(s)},p=function(){h.off("connect",u),h.off("disconnect",a),h.off("error",f)};h.once("connect",u),h.once("disconnect",a),h.once("error",f)}})}const Ft=new De;{const h=new Qe(window.io("wss://mesh.aicacia.com/io-github-wordgames",{transports:["websocket"],withCredentials:!0}),window.SimplePeer),o=new Xe(h);o.on("data",r=>{if("json"in r)Ft.merge(r.path,r.json);else{const u=Ft.getNodeAtPath(r.path);u&&o.broadcast({path:u.getPath(),json:u.toJSON()})}}),Ft.on("set",(r,u)=>{o.broadcast({path:r,json:u})}).on("get",r=>{o.broadcast({path:r})})}var Ke=(h=>(h.Easy="easy",h.Medium="medium",h.Hard="hard",h.All="all",h))(Ke||{});const Qt={easy:_t(()=>import("./easy.9068188d.js"),[],import.meta.url),medium:_t(()=>import("./medium.4a4f834a.js"),[],import.meta.url),hard:_t(()=>import("./hard.a9247d9f.js"),[],import.meta.url)},Pt={},pt={};async function ue(h="medium"){if(!pt[h]&&!Pt[h]){Pt[h]=!0;try{h==="all"?pt[h]=(await Promise.all(Object.keys(Qt).map(ue))).flat():pt[h]=await Qt[h].then(o=>o.default)}finally{Pt[h]=!1}}return pt[h]}async function yn(h,o){return h.fromArray(await ue(o)).unwrapOr("unknown")}const vt={};function Ze(h){return h}function tn(h){return h}function en(h,o,r={}){const u=typeof window<"u"&&typeof window.localStorage<"u",a=r.toJSON||tn,f=r.fromJSON||Ze;function p(s,g){return u&&window.localStorage.setItem(s,JSON.stringify(a(g))),g}if(!vt[h]){let y=function(w){p(h,w),m(w)};const s=Pe(o,w=>{const _=u?window.localStorage.getItem(h):null;if(_&&w(f(JSON.parse(_))),u){let B=function(E){E.key===h&&w(E.newValue?f(JSON.parse(E.newValue)):null)};return window.addEventListener("storage",B),()=>{window.removeEventListener("storage",B)}}}),{subscribe:g,set:m}=s;vt[h]={set:y,update(w){y(w(Fe(s)))},subscribe:g}}return vt[h]}let dt;const nn=new Uint8Array(16);function rn(){if(!dt&&(dt=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dt(nn)}const L=[];for(let h=0;h<256;++h)L.push((h+256).toString(16).slice(1));function on(h,o=0){return(L[h[o+0]]+L[h[o+1]]+L[h[o+2]]+L[h[o+3]]+"-"+L[h[o+4]]+L[h[o+5]]+"-"+L[h[o+6]]+L[h[o+7]]+"-"+L[h[o+8]]+L[h[o+9]]+"-"+L[h[o+10]]+L[h[o+11]]+L[h[o+12]]+L[h[o+13]]+L[h[o+14]]+L[h[o+15]]).toLowerCase()}const sn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kt={randomUUID:sn};function un(h,o,r){if(Kt.randomUUID&&!o&&!h)return Kt.randomUUID();h=h||{};const u=h.random||(h.rng||rn)();if(u[6]=u[6]&15|64,u[8]=u[8]&63|128,o){r=r||0;for(let a=0;a<16;++a)o[r+a]=u[a];return o}return on(u)}const cn=en("user_id",un()),wn=ve(cn,h=>h);export{pn as M,dn as Q,Ke as W,yn as a,Ft as g,wn as u};
