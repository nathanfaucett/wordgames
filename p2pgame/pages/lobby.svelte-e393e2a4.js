import{S as t,i as e,s as a,j as s,m as n,o as r,x as l,u as c,v as o,U as i,A as u,e as h,t as d,k as m,c as f,a as p,g as b,d as g,n as v,b as $,V as x,f as y,H as I,K as E,W as k,h as T,X as w,J as D,Y as V,Z as j}from"../chunks/vendor-55b6b459.js";import{L,a as N,b as P}from"../chunks/p2p-e438590d.js";import{g as U,u as A,a as B,b as H,e as O,c as R,d as S}from"../chunks/navigation-a63f8856.js";import"../chunks/singletons-12a22614.js";function _(t,e,a){const s=t.slice();return s[14]=e[a],s}function q(t){let e,a,s,n,r,l,c,o,i,u,D,V,j,L,N,P,U,A,B,H,O,R,S,_,q,F,J=t[14].name+"";return{c(){e=h("div"),a=h("div"),s=h("p"),n=d(J),r=m(),l=h("form"),c=h("div"),o=h("label"),i=d("Team 1"),D=m(),V=h("input"),N=m(),P=h("div"),U=h("label"),A=d("Team 2"),H=m(),O=h("input"),_=m(),this.h()},l(t){e=f(t,"DIV",{class:!0});var u=p(e);a=f(u,"DIV",{class:!0});var h=p(a);s=f(h,"P",{class:!0});var d=p(s);n=b(d,J),d.forEach(g),h.forEach(g),r=v(u),l=f(u,"FORM",{class:!0});var m=p(l);c=f(m,"DIV",{class:!0});var $=p(c);o=f($,"LABEL",{for:!0,class:!0});var x=p(o);i=b(x,"Team 1"),x.forEach(g),D=v($),V=f($,"INPUT",{id:!0,name:!0,type:!0,class:!0}),$.forEach(g),N=v(m),P=f(m,"DIV",{class:!0});var y=p(P);U=f(y,"LABEL",{for:!0,class:!0});var I=p(U);A=b(I,"Team 2"),I.forEach(g),H=v(y),O=f(y,"INPUT",{id:!0,name:!0,type:!0,class:!0}),y.forEach(g),m.forEach(g),_=v(u),u.forEach(g),this.h()},h(){$(s,"class","text-2xl mb-2 font-bold"),$(a,"class","text-left"),$(o,"for",u=`${t[14].id}-1`),$(o,"class","cursor-pointer"),$(V,"id",j=`${t[14].id}-1`),$(V,"name","team"),V.value="1",$(V,"type","radio"),$(V,"class","ml-2 cursor-pointer"),V.checked=L=1===t[14].team,$(c,"class","bg-blue-600 hover:bg-blue-500 text-white inline-block cursor-pointer py-2 px-4"),x(c,"bg-blue-300",2===t[14].team),$(U,"for",B=`${t[14].id}-2`),$(U,"class","cursor-pointer"),$(O,"id",R=`${t[14].id}-2`),$(O,"name","team"),O.value="2",$(O,"type","radio"),$(O,"class","ml-2 cursor-pointer"),O.checked=S=2===t[14].team,$(P,"class","bg-blue-600 hover:bg-blue-500 text-white inline-block cursor-pointer py-2 px-4"),x(P,"bg-blue-300",1===t[14].team),$(l,"class","text-right"),$(e,"class","grid grid-cols-2")},m(u,h){y(u,e,h),I(e,a),I(a,s),I(s,n),I(e,r),I(e,l),I(l,c),I(c,o),I(o,i),I(c,D),I(c,V),I(l,N),I(l,P),I(P,U),I(U,A),I(P,H),I(P,O),I(e,_),q||(F=[E(V,"click",(function(){k(t[6](t[14],1))&&t[6](t[14],1).apply(this,arguments)})),E(O,"click",(function(){k(t[6](t[14],2))&&t[6](t[14],2).apply(this,arguments)}))],q=!0)},p(e,a){t=e,8&a&&J!==(J=t[14].name+"")&&T(n,J),8&a&&u!==(u=`${t[14].id}-1`)&&$(o,"for",u),8&a&&j!==(j=`${t[14].id}-1`)&&$(V,"id",j),8&a&&L!==(L=1===t[14].team)&&(V.checked=L),8&a&&x(c,"bg-blue-300",2===t[14].team),8&a&&B!==(B=`${t[14].id}-2`)&&$(U,"for",B),8&a&&R!==(R=`${t[14].id}-2`)&&$(O,"id",R),8&a&&S!==(S=2===t[14].team)&&(O.checked=S),8&a&&x(P,"bg-blue-300",1===t[14].team)},d(t){t&&g(e),q=!1,w(F)}}}function F(t){let e,a,s,n,r,l,c,o,i,u,k,j,L,N,P,U,A,B,H,O,R,S=M(t[3],1)+"",F=M(t[3],2)+"",J=t[3],K=[];for(let h=0;h<J.length;h+=1)K[h]=q(_(t,J,h));return{c(){e=h("h1"),a=d("Room "),s=d(t[0]),n=m(),r=h("div"),l=h("input"),c=m(),o=h("div"),i=h("h1"),u=d("Team 1: "),k=d(S),j=d(" - Team 2: "),L=d(F),N=m();for(let t=0;t<K.length;t+=1)K[t].c();P=m(),U=h("div"),A=h("button"),B=d("Start"),this.h()},l(h){e=f(h,"H1",{class:!0});var d=p(e);a=b(d,"Room "),s=b(d,t[0]),d.forEach(g),n=v(h),r=f(h,"DIV",{class:!0});var m=p(r);l=f(m,"INPUT",{class:!0,type:!0,placeholder:!0}),m.forEach(g),c=v(h),o=f(h,"DIV",{class:!0});var $=p(o);i=f($,"H1",{class:!0});var x=p(i);u=b(x,"Team 1: "),k=b(x,S),j=b(x," - Team 2: "),L=b(x,F),x.forEach(g),N=v($);for(let t=0;t<K.length;t+=1)K[t].l($);$.forEach(g),P=v(h),U=f(h,"DIV",{class:!0});var y=p(U);A=f(y,"BUTTON",{class:!0});var I=p(A);B=b(I,"Start"),I.forEach(g),y.forEach(g),this.h()},h(){$(e,"class","text-5xl text-center mb-4"),$(l,"class","bg-gray-200 focus:bg-white w-full py-2 px-4"),$(l,"type","text"),$(l,"placeholder","Enter Name"),$(r,"class","max-w-sm mx-auto"),$(i,"class","text-3xl text-center mb-2"),$(o,"class","mt-2 mb-4 max-w-md mx-auto"),$(A,"class","bg-blue-600 text-white text-lg py-2 px-4"),A.disabled=H=t[3].length<2,x(A,"bg-blue-100",t[3].length<2),x(A,"hover:bg-blue-500",t[3].length>1),$(U,"class","text-center")},m(h,d){y(h,e,d),I(e,a),I(e,s),y(h,n,d),y(h,r,d),I(r,l),t[11](l),D(l,t[1]),y(h,c,d),y(h,o,d),I(o,i),I(i,u),I(i,k),I(i,j),I(i,L),I(o,N);for(let t=0;t<K.length;t+=1)K[t].m(o,null);y(h,P,d),y(h,U,d),I(U,A),I(A,B),O||(R=[E(l,"input",t[12]),E(l,"change",t[4]),E(A,"click",t[5])],O=!0)},p(t,e){if(1&e&&T(s,t[0]),2&e&&l.value!==t[1]&&D(l,t[1]),8&e&&S!==(S=M(t[3],1)+"")&&T(k,S),8&e&&F!==(F=M(t[3],2)+"")&&T(L,F),72&e){let a;for(J=t[3],a=0;a<J.length;a+=1){const s=_(t,J,a);K[a]?K[a].p(s,e):(K[a]=q(s),K[a].c(),K[a].m(o,null))}for(;a<K.length;a+=1)K[a].d(1);K.length=J.length}8&e&&H!==(H=t[3].length<2)&&(A.disabled=H),8&e&&x(A,"bg-blue-100",t[3].length<2),8&e&&x(A,"hover:bg-blue-500",t[3].length>1)},d(a){a&&g(e),a&&g(n),a&&g(r),t[11](null),a&&g(c),a&&g(o),V(K,a),a&&g(P),a&&g(U),O=!1,w(R)}}}function J(t){let e,a;return e=new L({props:{$$slots:{default:[F]},$$scope:{ctx:t}}}),{c(){s(e.$$.fragment)},l(t){n(e.$$.fragment,t)},m(t,s){r(e,t,s),a=!0},p(t,[a]){const s={};131087&a&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){a||(l(e.$$.fragment,t),a=!0)},o(t){c(e.$$.fragment,t),a=!1},d(t){o(e,t)}}}function K(t){return{props:{roomId:t.page.query.get("room")}}}function M(t,e){return t.filter((t=>t.team===e)).length}function W(t,e,a){let s,n,r,l,c;i(t,U,(t=>a(8,r=t))),i(t,A,(t=>a(9,l=t))),i(t,B,(t=>a(10,c=t)));var o=this&&this.__awaiter||function(t,e,a,s){return new(a||(a=Promise))((function(n,r){function l(t){try{o(s.next(t))}catch(e){r(e)}}function c(t){try{o(s.throw(t))}catch(e){r(e)}}function o(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(l,c)}o((s=s.apply(t,e||[])).next())}))};let h,d,{roomId:m}=e;return u((()=>{P(m)})),t.$$set=t=>{"roomId"in t&&a(0,m=t.roomId)},t.$$.update=()=>{1024&t.$$.dirty&&a(7,s=(t,e)=>t.id===(null==c?void 0:c.id)?-1:e.id===(null==c?void 0:c.id)?1:0),640&t.$$.dirty&&a(3,n=Object.values(l.byId).sort(s)),257&t.$$.dirty&&r.started&&S(`/game?room=${m}`)},[m,h,d,n,function(){return o(this,void 0,void 0,(function*(){const t=yield H(),e=N();e&&t.change((t=>{(t.byId[e]||(t.byId[e]=O(e))).name=h}))}))},function(){return o(this,void 0,void 0,(function*(){(yield R()).change((t=>{t.started=!0}))}))},function(t,e){return function(a){a.preventDefault(),t.team!==e&&H().then((a=>a.change((a=>{a.byId[t.id].team=e}))))}},s,r,l,c,function(t){j[t?"unshift":"push"]((()=>{d=t,a(2,d)}))},function(){h=this.value,a(1,h)}]}class X extends t{constructor(t){super(),e(this,t,W,J,a,{roomId:0})}}export{X as default,K as load};
