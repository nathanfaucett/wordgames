import{S as ie,i as fe,s as ue,t as j,g as V,f as h,h as q,I as H,d as f,U as ce,V as de,j as R,k as M,m as A,n as O,o as P,W as me,x as W,u as G,v as K,X as ee,A as $e,l as _e,e as E,c as w,a as I,b as $,H as v,K as X,$ as pe}from"../chunks/vendor-7858be98.js";import{b as ve}from"../chunks/paths-45dac81d.js";import{M as he,d as ke,f as Ee,a as we,b as Ie,u as ye,h as ge,n as Te,i as je,Q as Ve}from"../chunks/QRCode-27392073.js";import{L as De,b as xe}from"../chunks/p2p-130d0134.js";import"../chunks/singletons-e82519e2.js";function Ne(o){let e=z(o[0])+"",s,t,l=z(o[1])+"",r;return{c(){s=j(e),t=j(":"),r=j(l)},l(a){s=V(a,e),t=V(a,":"),r=V(a,l)},m(a,u){h(a,s,u),h(a,t,u),h(a,r,u)},p(a,[u]){u&1&&e!==(e=z(a[0])+"")&&q(s,e),u&2&&l!==(l=z(a[1])+"")&&q(r,l)},i:H,o:H,d(a){a&&f(s),a&&f(t),a&&f(r)}}}function z(o){return(o<10?"0":"")+o}function Se(o,e,s){let t,l,{seconds:r=60}=e;return o.$$set=a=>{"seconds"in a&&s(2,r=a.seconds)},o.$$.update=()=>{o.$$.dirty&4&&s(0,t=Math.floor(r/60)),o.$$.dirty&5&&s(1,l=Math.floor(r-t*60))},[t,l,r]}class Ce extends ie{constructor(e){super();fe(this,e,Se,Ne,ue,{seconds:2})}}function be(o){let e;function s(r,a){return r[2].timer===0?Oe:Me}let t=s(o),l=t(o);return{c(){l.c(),e=_e()},l(r){l.l(r),e=_e()},m(r,a){l.m(r,a),h(r,e,a)},p(r,a){t===(t=s(r))&&l?l.p(r,a):(l.d(1),l=t(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){l.d(r),r&&f(e)}}}function Me(o){let e,s,t,l=o[2].word+"",r,a,u,d,_,y,T,k,n,m,x;return{c(){e=E("div"),s=E("div"),t=E("p"),r=j(l),a=M(),u=E("div"),d=E("div"),_=E("button"),y=j("Skip"),T=M(),k=E("button"),n=j("Next"),this.h()},l(p){e=w(p,"DIV",{class:!0});var c=I(e);s=w(c,"DIV",{class:!0});var S=I(s);t=w(S,"P",{class:!0});var N=I(t);r=V(N,l),N.forEach(f),S.forEach(f),c.forEach(f),a=O(p),u=w(p,"DIV",{class:!0});var B=I(u);d=w(B,"DIV",{class:!0});var D=I(d);_=w(D,"BUTTON",{class:!0});var L=I(_);y=V(L,"Skip"),L.forEach(f),T=O(D),k=w(D,"BUTTON",{class:!0});var C=I(k);n=V(C,"Next"),C.forEach(f),D.forEach(f),B.forEach(f),this.h()},h(){$(t,"class","text-6xl"),$(s,"class","text-center"),$(e,"class","flex-1 flex h-full justify-center items-center"),$(_,"class","btn lg danger flex-1"),$(k,"class","btn lg primary flex-1"),$(d,"class","flex flex-1 justify-center"),$(u,"class","flex-1")},m(p,c){h(p,e,c),v(e,s),v(s,t),v(t,r),h(p,a,c),h(p,u,c),v(u,d),v(d,_),v(_,y),v(d,T),v(d,k),v(k,n),m||(x=[X(_,"click",ge),X(k,"click",Te)],m=!0)},p(p,c){c&4&&l!==(l=p[2].word+"")&&q(r,l)},d(p){p&&f(e),p&&f(a),p&&f(u),m=!1,pe(x)}}}function Oe(o){let e,s,t,l,r,a;return{c(){e=E("div"),s=E("div"),t=E("button"),l=j("Start"),this.h()},l(u){e=w(u,"DIV",{class:!0});var d=I(e);s=w(d,"DIV",{class:!0});var _=I(s);t=w(_,"BUTTON",{class:!0});var y=I(t);l=V(y,"Start"),y.forEach(f),_.forEach(f),d.forEach(f),this.h()},h(){$(t,"class","btn lg primary flex-1"),$(s,"class","flex justify-center"),$(e,"class","flex-1")},m(u,d){h(u,e,d),v(e,s),v(s,t),v(t,l),r||(a=X(t,"click",je),r=!0)},p:H,d(u){u&&f(e),r=!1,a()}}}function Ue(o){let e,s,t,l,r,a=o[2].team1+"",u,d,_,y=o[2].team2+"",T,k,n,m=(o[1]?"Your":o[5]+"'s")+"",x,p,c,S,N,B,D,L,C,Q,F,U,J,te;N=new Ce({props:{seconds:o[2].timer}});let g=o[1]&&be(o);return{c(){e=E("h1"),s=j(o[0]),t=M(),l=E("div"),r=E("div"),u=j(a),d=M(),_=E("div"),T=j(y),k=M(),n=E("h1"),x=j(m),p=j(" Turn"),c=M(),S=E("p"),R(N.$$.fragment),B=M(),D=E("div"),g&&g.c(),L=M(),C=E("div"),Q=E("button"),F=j("Leave"),this.h()},l(i){e=w(i,"H1",{class:!0});var b=I(e);s=V(b,o[0]),b.forEach(f),t=O(i),l=w(i,"DIV",{class:!0});var Y=I(l);r=w(Y,"DIV",{class:!0});var se=I(r);u=V(se,a),se.forEach(f),d=O(Y),_=w(Y,"DIV",{class:!0});var le=I(_);T=V(le,y),le.forEach(f),Y.forEach(f),k=O(i),n=w(i,"H1",{class:!0});var Z=I(n);x=V(Z,m),p=V(Z," Turn"),Z.forEach(f),c=O(i),S=w(i,"P",{class:!0});var re=I(S);A(N.$$.fragment,re),re.forEach(f),B=O(i),D=w(i,"DIV",{class:!0});var oe=I(D);g&&g.l(oe),oe.forEach(f),L=O(i),C=w(i,"DIV",{class:!0});var ae=I(C);Q=w(ae,"BUTTON",{class:!0});var ne=I(Q);F=V(ne,"Leave"),ne.forEach(f),ae.forEach(f),this.h()},h(){$(e,"class","text-6xl text-center cursor-pointer"),$(r,"class","btn md primary flex-1 text-center"),$(_,"class","btn md danger flex-1 text-center"),$(l,"class","flex justify-center"),$(n,"class","text-center"),$(S,"class","text-2xl text-center"),$(D,"class","flex-grow flex flex-col justify-center"),$(Q,"class","btn lg danger flex-1"),$(C,"class","flex justify-center")},m(i,b){h(i,e,b),v(e,s),h(i,t,b),h(i,l,b),v(l,r),v(r,u),v(l,d),v(l,_),v(_,T),h(i,k,b),h(i,n,b),v(n,x),v(n,p),h(i,c,b),h(i,S,b),P(N,S,null),h(i,B,b),h(i,D,b),g&&g.m(D,null),h(i,L,b),h(i,C,b),v(C,Q),v(Q,F),U=!0,J||(te=[X(e,"click",o[10]),X(Q,"click",o[11])],J=!0)},p(i,b){(!U||b&1)&&q(s,i[0]),(!U||b&4)&&a!==(a=i[2].team1+"")&&q(u,a),(!U||b&4)&&y!==(y=i[2].team2+"")&&q(T,y),(!U||b&34)&&m!==(m=(i[1]?"Your":i[5]+"'s")+"")&&q(x,m);const Y={};b&4&&(Y.seconds=i[2].timer),N.$set(Y),i[1]?g?g.p(i,b):(g=be(i),g.c(),g.m(D,null)):g&&(g.d(1),g=null)},i(i){U||(W(N.$$.fragment,i),U=!0)},o(i){G(N.$$.fragment,i),U=!1},d(i){i&&f(e),i&&f(t),i&&f(l),i&&f(k),i&&f(n),i&&f(c),i&&f(S),K(N),i&&f(B),i&&f(D),g&&g.d(),i&&f(L),i&&f(C),J=!1,pe(te)}}}function Be(o){let e,s;return e=new Ve({props:{value:location.href}}),{c(){R(e.$$.fragment)},l(t){A(e.$$.fragment,t)},m(t,l){P(e,t,l),s=!0},p:H,i(t){s||(W(e.$$.fragment,t),s=!0)},o(t){G(e.$$.fragment,t),s=!1},d(t){K(e,t)}}}function Le(o){let e,s;return{c(){e=E("a"),s=j("Exit"),this.h()},l(t){e=w(t,"A",{href:!0,class:!0});var l=I(e);s=V(l,"Exit"),l.forEach(f),this.h()},h(){$(e,"href",`${ve}/`),$(e,"class","btn lg danger")},m(t,l){h(t,e,l),v(e,s)},p:H,d(t){t&&f(e)}}}function Qe(o){let e,s,t,l,r,a,u,d;e=new De({props:{$$slots:{default:[Ue]},$$scope:{ctx:o}}});function _(n){o[12](n)}let y={$$slots:{default:[Be]},$$scope:{ctx:o}};o[3]!==void 0&&(y.show=o[3]),t=new he({props:y}),ce.push(()=>de(t,"show",_));function T(n){o[13](n)}let k={$$slots:{default:[Le]},$$scope:{ctx:o}};return o[4]!==void 0&&(k.show=o[4]),a=new he({props:k}),ce.push(()=>de(a,"show",T)),{c(){R(e.$$.fragment),s=M(),R(t.$$.fragment),r=M(),R(a.$$.fragment)},l(n){A(e.$$.fragment,n),s=O(n),A(t.$$.fragment,n),r=O(n),A(a.$$.fragment,n)},m(n,m){P(e,n,m),h(n,s,m),P(t,n,m),h(n,r,m),P(a,n,m),d=!0},p(n,[m]){const x={};m&16447&&(x.$$scope={dirty:m,ctx:n}),e.$set(x);const p={};m&16384&&(p.$$scope={dirty:m,ctx:n}),!l&&m&8&&(l=!0,p.show=n[3],me(()=>l=!1)),t.$set(p);const c={};m&16384&&(c.$$scope={dirty:m,ctx:n}),!u&&m&16&&(u=!0,c.show=n[4],me(()=>u=!1)),a.$set(c)},i(n){d||(W(e.$$.fragment,n),W(t.$$.fragment,n),W(a.$$.fragment,n),d=!0)},o(n){G(e.$$.fragment,n),G(t.$$.fragment,n),G(a.$$.fragment,n),d=!1},d(n){K(e,n),n&&f(s),K(t,n),n&&f(r),K(a,n)}}}function We(o){return{props:{roomId:o.page.query.get("room")}}}function Ye(o,e,s){let t,l,r,a,u;ee(o,we,c=>s(2,r=c)),ee(o,Ie,c=>s(8,a=c)),ee(o,ye,c=>s(9,u=c));var d;let{roomId:_}=e,y,T=!1,k=!1;$e(()=>{xe(_)});const n=()=>s(3,T=!0),m=()=>s(4,k=!0);function x(c){T=c,s(3,T)}function p(c){k=c,s(4,k)}return o.$$set=c=>{"roomId"in c&&s(0,_=c.roomId)},o.$$.update=()=>{o.$$.dirty&580&&s(5,t=s(6,d=u==null?void 0:u.byId[r==null?void 0:r.turn])===null||d===void 0?void 0:d.name),o.$$.dirty&260&&s(1,l=(r==null?void 0:r.turn)===(a==null?void 0:a.id)),o.$$.dirty&5&&(r.started||ke(`${ve}/lobby?room=${_}`)),o.$$.dirty&134&&y!==l&&(s(7,y=l),l&&r.timer===0&&Ee())},[_,l,r,T,k,t,d,y,a,u,n,m,x,p]}class Ge extends ie{constructor(e){super();fe(this,e,Ye,Qe,ue,{roomId:0})}}export{Ge as default,We as load};
