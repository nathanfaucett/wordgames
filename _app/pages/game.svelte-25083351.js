import{S as Z,i as tt,s as et,t as k,g as y,f as c,h as V,I as W,d as a,j as st,m as lt,o as rt,x as ot,u as it,v as ut,U as P,A as mt,l as at,e as I,k as B,c as j,a as w,n as M,b as T,H as d,K as z,Y as ct}from"../chunks/vendor-10429b53.js";import{b as ft}from"../chunks/paths-45dac81d.js";import{d as pt,f as _t,a as dt,b as bt,u as vt,h as ht,n as xt,i as kt}from"../chunks/navigation-626cb45b.js";import{L as yt,r as Tt,b as Et}from"../chunks/p2p-3dfc5f61.js";import"../chunks/singletons-e82519e2.js";function It(u){let t=G(u[0])+"",r,i,o=G(u[1])+"",e;return{c(){r=k(t),i=k(":"),e=k(o)},l(s){r=y(s,t),i=y(s,":"),e=y(s,o)},m(s,n){c(s,r,n),c(s,i,n),c(s,e,n)},p(s,[n]){n&1&&t!==(t=G(s[0])+"")&&V(r,t),n&2&&o!==(o=G(s[1])+"")&&V(e,o)},i:W,o:W,d(s){s&&a(r),s&&a(i),s&&a(e)}}}function G(u){return(u<10?"0":"")+u}function jt(u,t,r){let i,o,{seconds:e=60}=t;return u.$$set=s=>{"seconds"in s&&r(2,e=s.seconds)},u.$$.update=()=>{u.$$.dirty&4&&r(0,i=Math.floor(e/60)),u.$$.dirty&5&&r(1,o=Math.floor(e-i*60))},[i,o,e]}class wt extends Z{constructor(t){super();tt(this,t,jt,It,et,{seconds:2})}}function nt(u){let t;function r(e,s){return e[1].timer===0?St:Nt}let i=r(u),o=i(u);return{c(){o.c(),t=at()},l(e){o.l(e),t=at()},m(e,s){o.m(e,s),c(e,t,s)},p(e,s){i===(i=r(e))&&o?o.p(e,s):(o.d(1),o=i(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&a(t)}}}function Nt(u){let t,r=u[1].word+"",i,o,e,s,n,b,_,v,E,p,$;return{c(){t=I("p"),i=k(r),o=B(),e=I("div"),s=I("button"),n=k("Skip"),b=B(),_=I("div"),v=I("button"),E=k("Next"),this.h()},l(f){t=j(f,"P",{class:!0});var h=w(t);i=y(h,r),h.forEach(a),o=M(f),e=j(f,"DIV",{class:!0});var D=w(e);s=j(D,"BUTTON",{class:!0});var g=w(s);n=y(g,"Skip"),g.forEach(a),D.forEach(a),b=M(f),_=j(f,"DIV",{class:!0});var H=w(_);v=j(H,"BUTTON",{class:!0});var N=w(v);E=y(N,"Next"),N.forEach(a),H.forEach(a),this.h()},h(){T(t,"class","text-5xl text-center mb-2"),T(s,"class","bg-red-600 hover:bg-red-500 text-white text-lg mt-4 py-2 px-8"),T(e,"class","flex mt-4 justify-center"),T(v,"class","bg-blue-600 hover:bg-blue-500 text-white text-lg mt-4 py-2 px-8"),T(_,"class","flex mt-4 justify-center")},m(f,h){c(f,t,h),d(t,i),c(f,o,h),c(f,e,h),d(e,s),d(s,n),c(f,b,h),c(f,_,h),d(_,v),d(v,E),p||($=[z(s,"click",ht),z(v,"click",xt)],p=!0)},p(f,h){h&2&&r!==(r=f[1].word+"")&&V(i,r)},d(f){f&&a(t),f&&a(o),f&&a(e),f&&a(b),f&&a(_),p=!1,ct($)}}}function St(u){let t,r,i,o,e;return{c(){t=I("div"),r=I("button"),i=k("Start"),this.h()},l(s){t=j(s,"DIV",{class:!0});var n=w(t);r=j(n,"BUTTON",{class:!0});var b=w(r);i=y(b,"Start"),b.forEach(a),n.forEach(a),this.h()},h(){T(r,"class","bg-blue-600 hover:bg-blue-500 text-white text-lg mt-4 py-2 px-8"),T(t,"class","flex mt-4 justify-center")},m(s,n){c(s,t,n),d(t,r),d(r,i),o||(e=z(r,"click",kt),o=!0)},p:W,d(s){s&&a(t),o=!1,e()}}}function Rt(u){var F,J;let t,r,i=((F=u[3])==null?void 0:F.getRoomId())+"",o,e,s,n,b=u[1].team1+"",_,v,E=((J=u[1])==null?void 0:J.team2)+"",p,$,f,h=(u[0]?"Your":u[2]+"'s")+"",D,g,H,N,S,L,q,O,U,K,R;S=new wt({props:{seconds:u[1].timer}});let x=u[0]&&nt(u);return{c(){t=I("h1"),r=k("Room "),o=k(i),e=B(),s=I("h1"),n=k("Team 1: "),_=k(b),v=k(", Team 2: "),p=k(E),$=B(),f=I("h1"),D=k(h),g=k(" Turn"),H=B(),N=I("p"),st(S.$$.fragment),L=B(),x&&x.c(),q=B(),O=I("div"),U=I("a"),K=k("Exit"),this.h()},l(l){t=j(l,"H1",{class:!0});var m=w(t);r=y(m,"Room "),o=y(m,i),m.forEach(a),e=M(l),s=j(l,"H1",{class:!0});var Y=w(s);n=y(Y,"Team 1: "),_=y(Y,b),v=y(Y,", Team 2: "),p=y(Y,E),Y.forEach(a),$=M(l),f=j(l,"H1",{class:!0});var A=w(f);D=y(A,h),g=y(A," Turn"),A.forEach(a),H=M(l),N=j(l,"P",{class:!0});var C=w(N);lt(S.$$.fragment,C),C.forEach(a),L=M(l),x&&x.l(l),q=M(l),O=j(l,"DIV",{class:!0});var Q=w(O);U=j(Q,"A",{href:!0,class:!0});var X=w(U);K=y(X,"Exit"),X.forEach(a),Q.forEach(a),this.h()},h(){T(t,"class","text-2xl text-center mb-2"),T(s,"class","text-2xl text-center mb-2"),T(f,"class","text-2xl text-center mb-2"),T(N,"class","text-2xl text-center"),T(U,"href",`${ft}/`),T(U,"class","bg-blue-600 hover:bg-blue-500 text-white text-lg mt-4 py-2 px-8"),T(O,"class","flex mt-4 justify-center")},m(l,m){c(l,t,m),d(t,r),d(t,o),c(l,e,m),c(l,s,m),d(s,n),d(s,_),d(s,v),d(s,p),c(l,$,m),c(l,f,m),d(f,D),d(f,g),c(l,H,m),c(l,N,m),rt(S,N,null),c(l,L,m),x&&x.m(l,m),c(l,q,m),c(l,O,m),d(O,U),d(U,K),R=!0},p(l,m){var A,C;(!R||m&8)&&i!==(i=((A=l[3])==null?void 0:A.getRoomId())+"")&&V(o,i),(!R||m&2)&&b!==(b=l[1].team1+"")&&V(_,b),(!R||m&2)&&E!==(E=((C=l[1])==null?void 0:C.team2)+"")&&V(p,E),(!R||m&5)&&h!==(h=(l[0]?"Your":l[2]+"'s")+"")&&V(D,h);const Y={};m&2&&(Y.seconds=l[1].timer),S.$set(Y),l[0]?x?x.p(l,m):(x=nt(l),x.c(),x.m(q.parentNode,q)):x&&(x.d(1),x=null)},i(l){R||(ot(S.$$.fragment,l),R=!0)},o(l){it(S.$$.fragment,l),R=!1},d(l){l&&a(t),l&&a(e),l&&a(s),l&&a($),l&&a(f),l&&a(H),l&&a(N),ut(S),l&&a(L),x&&x.d(l),l&&a(q),l&&a(O)}}}function Yt(u){let t,r;return t=new yt({props:{$$slots:{default:[Rt]},$$scope:{ctx:u}}}),{c(){st(t.$$.fragment)},l(i){lt(t.$$.fragment,i)},m(i,o){rt(t,i,o),r=!0},p(i,[o]){const e={};o&527&&(e.$$scope={dirty:o,ctx:i}),t.$set(e)},i(i){r||(ot(t.$$.fragment,i),r=!0)},o(i){it(t.$$.fragment,i),r=!1},d(i){ut(t,i)}}}function Bt(u){return{props:{roomId:u.page.query.get("room")}}}function $t(u,t,r){let i,o,e,s,n,b;P(u,dt,p=>r(1,e=p)),P(u,bt,p=>r(7,s=p)),P(u,vt,p=>r(8,n=p)),P(u,Tt,p=>r(3,b=p));var _;let{roomId:v}=t,E;return mt(()=>{Et(v)}),u.$$set=p=>{"roomId"in p&&r(4,v=p.roomId)},u.$$.update=()=>{u.$$.dirty&290&&r(2,i=r(5,_=n==null?void 0:n.byId[e==null?void 0:e.turn])===null||_===void 0?void 0:_.name),u.$$.dirty&130&&r(0,o=(e==null?void 0:e.turn)===(s==null?void 0:s.id)),u.$$.dirty&18&&(e.started||pt(`${ft}/lobby?room=${v}`)),u.$$.dirty&67&&E!==o&&(r(6,E=o),o&&e.timer===0&&_t())},[o,e,i,b,v,_,E,s,n]}class Mt extends Z{constructor(t){super();tt(this,t,$t,Yt,et,{roomId:4})}}export{Mt as default,Bt as load};
