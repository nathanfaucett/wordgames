import{S as se,i as le,s as re,t as V,g as D,f as h,h as L,I as Y,d as u,U as oe,V as ne,e as j,k as O,j as q,c as N,a as S,n as U,m as H,b as g,H as k,o as R,K as A,W as ae,x as P,u as W,v as x,X as z,A as ce,l as ie,$ as de}from"../chunks/vendor-02a83c89.js";import{b as fe}from"../chunks/paths-45dac81d.js";import{M as ue,d as _e,f as pe,a as he,b as be,u as ve,Q as $e,h as ke,n as we,i as Ee}from"../chunks/QRCode-f1becedb.js";import{L as Ie,b as Te}from"../chunks/p2p-6c983371.js";import"../chunks/singletons-e82519e2.js";function ge(o){let e=G(o[0])+"",t,n,s=G(o[1])+"",l;return{c(){t=V(e),n=V(":"),l=V(s)},l(r){t=D(r,e),n=D(r,":"),l=D(r,s)},m(r,f){h(r,t,f),h(r,n,f),h(r,l,f)},p(r,[f]){f&1&&e!==(e=G(r[0])+"")&&L(t,e),f&2&&s!==(s=G(r[1])+"")&&L(l,s)},i:Y,o:Y,d(r){r&&u(t),r&&u(n),r&&u(l)}}}function G(o){return(o<10?"0":"")+o}function ye(o,e,t){let n,s,{seconds:l=60}=e;return o.$$set=r=>{"seconds"in r&&t(2,l=r.seconds)},o.$$.update=()=>{o.$$.dirty&4&&t(0,n=Math.floor(l/60)),o.$$.dirty&5&&t(1,s=Math.floor(l-n*60))},[n,s,l]}class je extends se{constructor(e){super();le(this,e,ye,ge,re,{seconds:2})}}function Ne(o){let e,t;return e=new $e({props:{value:location.href}}),{c(){q(e.$$.fragment)},l(n){H(e.$$.fragment,n)},m(n,s){R(e,n,s),t=!0},p:Y,i(n){t||(P(e.$$.fragment,n),t=!0)},o(n){W(e.$$.fragment,n),t=!1},d(n){x(e,n)}}}function Se(o){let e,t;return{c(){e=j("a"),t=V("Exit"),this.h()},l(n){e=N(n,"A",{href:!0,class:!0});var s=S(e);t=D(s,"Exit"),s.forEach(u),this.h()},h(){g(e,"href",`${fe}/`),g(e,"class","btn lg danger")},m(n,s){h(n,e,s),k(e,t)},p:Y,d(n){n&&u(e)}}}function me(o){let e;function t(l,r){return l[2].timer===0?De:Ve}let n=t(o),s=n(o);return{c(){s.c(),e=ie()},l(l){s.l(l),e=ie()},m(l,r){s.m(l,r),h(l,e,r)},p(l,r){n===(n=t(l))&&s?s.p(l,r):(s.d(1),s=n(l),s&&(s.c(),s.m(e.parentNode,e)))},d(l){s.d(l),l&&u(e)}}}function Ve(o){let e,t=o[2].word+"",n,s,l,r,f,b,_,c,v,I;return{c(){e=j("p"),n=V(t),s=O(),l=j("div"),r=j("button"),f=V("Skip"),b=O(),_=j("button"),c=V("Next"),this.h()},l(p){e=N(p,"P",{class:!0});var w=S(e);n=D(w,t),w.forEach(u),s=U(p),l=N(p,"DIV",{class:!0});var E=S(l);r=N(E,"BUTTON",{class:!0});var y=S(r);f=D(y,"Skip"),y.forEach(u),b=U(E),_=N(E,"BUTTON",{class:!0});var d=S(_);c=D(d,"Next"),d.forEach(u),E.forEach(u),this.h()},h(){g(e,"class","text-6xl text-center mb-2"),g(r,"class","btn lg danger flex-1"),g(_,"class","btn lg primary flex-1"),g(l,"class","flex mt-4 justify-center")},m(p,w){h(p,e,w),k(e,n),h(p,s,w),h(p,l,w),k(l,r),k(r,f),k(l,b),k(l,_),k(_,c),v||(I=[A(r,"click",ke),A(_,"click",we)],v=!0)},p(p,w){w&4&&t!==(t=p[2].word+"")&&L(n,t)},d(p){p&&u(e),p&&u(s),p&&u(l),v=!1,de(I)}}}function De(o){let e,t,n,s,l;return{c(){e=j("div"),t=j("button"),n=V("Start"),this.h()},l(r){e=N(r,"DIV",{class:!0});var f=S(e);t=N(f,"BUTTON",{class:!0});var b=S(t);n=D(b,"Start"),b.forEach(u),f.forEach(u),this.h()},h(){g(t,"class","btn lg primary flex-1"),g(e,"class","flex mt-4 justify-center")},m(r,f){h(r,e,f),k(e,t),k(t,n),s||(l=A(t,"click",Ee),s=!0)},p:Y,d(r){r&&u(e),s=!1,l()}}}function Ce(o){let e,t,n=o[2].team1+"",s,l,r,f=o[2].team2+"",b,_,c,v=(o[1]?"Your":o[5]+"'s")+"",I,p,w,E,y,d,a,m,C,B,M,K,F;y=new je({props:{seconds:o[2].timer}});let T=o[1]&&me(o);return{c(){e=j("div"),t=j("div"),s=V(n),l=O(),r=j("div"),b=V(f),_=O(),c=j("h1"),I=V(v),p=V(" Turn"),w=O(),E=j("p"),q(y.$$.fragment),d=O(),T&&T.c(),a=O(),m=j("div"),C=j("button"),B=V("Leave"),this.h()},l(i){e=N(i,"DIV",{class:!0});var $=S(e);t=N($,"DIV",{class:!0});var Q=S(t);s=D(Q,n),Q.forEach(u),l=U($),r=N($,"DIV",{class:!0});var J=S(r);b=D(J,f),J.forEach(u),$.forEach(u),_=U(i),c=N(i,"H1",{class:!0});var X=S(c);I=D(X,v),p=D(X," Turn"),X.forEach(u),w=U(i),E=N(i,"P",{class:!0});var Z=S(E);H(y.$$.fragment,Z),Z.forEach(u),d=U(i),T&&T.l(i),a=U(i),m=N(i,"DIV",{class:!0});var ee=S(m);C=N(ee,"BUTTON",{class:!0});var te=S(C);B=D(te,"Leave"),te.forEach(u),ee.forEach(u),this.h()},h(){g(t,"class","btn md primary flex-1 text-center"),g(r,"class","btn md danger flex-1 text-center"),g(e,"class","mt-2 mb-2 flex justify-center"),g(c,"class","text-center mb-2"),g(E,"class","text-2xl text-center"),g(C,"class","btn lg danger flex-1"),g(m,"class","flex justify-center mt-20")},m(i,$){h(i,e,$),k(e,t),k(t,s),k(e,l),k(e,r),k(r,b),h(i,_,$),h(i,c,$),k(c,I),k(c,p),h(i,w,$),h(i,E,$),R(y,E,null),h(i,d,$),T&&T.m(i,$),h(i,a,$),h(i,m,$),k(m,C),k(C,B),M=!0,K||(F=A(C,"click",o[13]),K=!0)},p(i,$){(!M||$&4)&&n!==(n=i[2].team1+"")&&L(s,n),(!M||$&4)&&f!==(f=i[2].team2+"")&&L(b,f),(!M||$&34)&&v!==(v=(i[1]?"Your":i[5]+"'s")+"")&&L(I,v);const Q={};$&4&&(Q.seconds=i[2].timer),y.$set(Q),i[1]?T?T.p(i,$):(T=me(i),T.c(),T.m(a.parentNode,a)):T&&(T.d(1),T=null)},i(i){M||(P(y.$$.fragment,i),M=!0)},o(i){W(y.$$.fragment,i),M=!1},d(i){i&&u(e),i&&u(_),i&&u(c),i&&u(w),i&&u(E),x(y),i&&u(d),T&&T.d(i),i&&u(a),i&&u(m),K=!1,F()}}}function Me(o){let e,t,n,s,l,r,f,b,_,c,v,I,p;function w(a){o[11](a)}let E={$$slots:{default:[Ne]},$$scope:{ctx:o}};o[3]!==void 0&&(E.show=o[3]),s=new ue({props:E}),oe.push(()=>ne(s,"show",w));function y(a){o[12](a)}let d={$$slots:{default:[Se]},$$scope:{ctx:o}};return o[4]!==void 0&&(d.show=o[4]),f=new ue({props:d}),oe.push(()=>ne(f,"show",y)),c=new Ie({props:{$$slots:{default:[Ce]},$$scope:{ctx:o}}}),{c(){e=j("h1"),t=V(o[0]),n=O(),q(s.$$.fragment),r=O(),q(f.$$.fragment),_=O(),q(c.$$.fragment),this.h()},l(a){e=N(a,"H1",{class:!0});var m=S(e);t=D(m,o[0]),m.forEach(u),n=U(a),H(s.$$.fragment,a),r=U(a),H(f.$$.fragment,a),_=U(a),H(c.$$.fragment,a),this.h()},h(){g(e,"class","text-6xl text-center cursor-pointer")},m(a,m){h(a,e,m),k(e,t),h(a,n,m),R(s,a,m),h(a,r,m),R(f,a,m),h(a,_,m),R(c,a,m),v=!0,I||(p=A(e,"click",o[10]),I=!0)},p(a,[m]){(!v||m&1)&&L(t,a[0]);const C={};m&16384&&(C.$$scope={dirty:m,ctx:a}),!l&&m&8&&(l=!0,C.show=a[3],ae(()=>l=!1)),s.$set(C);const B={};m&16384&&(B.$$scope={dirty:m,ctx:a}),!b&&m&16&&(b=!0,B.show=a[4],ae(()=>b=!1)),f.$set(B);const M={};m&16438&&(M.$$scope={dirty:m,ctx:a}),c.$set(M)},i(a){v||(P(s.$$.fragment,a),P(f.$$.fragment,a),P(c.$$.fragment,a),v=!0)},o(a){W(s.$$.fragment,a),W(f.$$.fragment,a),W(c.$$.fragment,a),v=!1},d(a){a&&u(e),a&&u(n),x(s,a),a&&u(r),x(f,a),a&&u(_),x(c,a),I=!1,p()}}}function qe(o){return{props:{roomId:o.page.query.get("room")}}}function Oe(o,e,t){let n,s,l,r,f;z(o,he,d=>t(2,l=d)),z(o,be,d=>t(8,r=d)),z(o,ve,d=>t(9,f=d));var b;let{roomId:_}=e,c,v=!1,I=!1;ce(()=>{Te(_)});const p=()=>t(3,v=!0);function w(d){v=d,t(3,v)}function E(d){I=d,t(4,I)}const y=()=>t(4,I=!0);return o.$$set=d=>{"roomId"in d&&t(0,_=d.roomId)},o.$$.update=()=>{o.$$.dirty&580&&t(5,n=t(6,b=f==null?void 0:f.byId[l==null?void 0:l.turn])===null||b===void 0?void 0:b.name),o.$$.dirty&260&&t(1,s=(l==null?void 0:l.turn)===(r==null?void 0:r.id)),o.$$.dirty&5&&(l.started||_e(`${fe}/lobby?room=${_}`)),o.$$.dirty&134&&c!==s&&(t(7,c=s),s&&l.timer===0&&pe())},[_,s,l,v,I,n,b,c,r,f,p,w,E,y]}class He extends se{constructor(e){super();le(this,e,Oe,Me,re,{roomId:0})}}export{He as default,qe as load};
