import{S as t,i as e,s as a,j as s,m as l,o as r,x as c,u as o,v as n,U as i,A as u,e as h,t as d,c as f,a as m,g,d as p,f as b,H as v,I as x,k as $,n as y,b as E,V as w,K as I,W as k,X as T,h as V,Y as j,J as D,Z as L,_ as O,$ as _,a0 as N}from"../chunks/vendor-30d0dc21.js";import{L as P,a as A,b as R}from"../chunks/p2p-ac9564ed.js";import{g as U,W as B,s as S,a as W,u as C,b as H,c as M,e as Q,d as q}from"../chunks/navigation-5b44257e.js";import{b as z}from"../chunks/paths-45dac81d.js";import"../chunks/singletons-e82519e2.js";function F(t,e,a){const s=t.slice();return s[20]=e[a],s}function G(t,e,a){const s=t.slice();return s[23]=e[a],s}function J(t){let e,a,s,l=t[23]+"";return{c(){e=h("option"),a=d(l),this.h()},l(t){e=f(t,"OPTION",{});var s=m(e);a=g(s,l),s.forEach(p),this.h()},h(){e.__value=s=B[t[23]],e.value=e.__value},m(t,s){b(t,e,s),v(e,a)},p:x,d(t){t&&p(e)}}}function K(t){let e,a,s,l,r,c,o,n,i,u,x,D,L,O,_,N,P,A,R,U,B,S,W,C,H,M,Q=t[20].name+"";return{c(){e=h("div"),a=h("div"),s=h("p"),l=d(Q),r=$(),c=h("form"),o=h("div"),n=h("label"),i=d("Team 1"),x=$(),D=h("input"),_=$(),N=h("div"),P=h("label"),A=d("Team 2"),U=$(),B=h("input"),C=$(),this.h()},l(t){e=f(t,"DIV",{class:!0});var u=m(e);a=f(u,"DIV",{class:!0});var h=m(a);s=f(h,"P",{class:!0});var d=m(s);l=g(d,Q),d.forEach(p),h.forEach(p),r=y(u),c=f(u,"FORM",{class:!0});var b=m(c);o=f(b,"DIV",{class:!0});var v=m(o);n=f(v,"LABEL",{for:!0,class:!0});var $=m(n);i=g($,"Team 1"),$.forEach(p),x=y(v),D=f(v,"INPUT",{id:!0,name:!0,type:!0,class:!0}),v.forEach(p),_=y(b),N=f(b,"DIV",{class:!0});var E=m(N);P=f(E,"LABEL",{for:!0,class:!0});var w=m(P);A=g(w,"Team 2"),w.forEach(p),U=y(E),B=f(E,"INPUT",{id:!0,name:!0,type:!0,class:!0}),E.forEach(p),b.forEach(p),C=y(u),u.forEach(p),this.h()},h(){E(s,"class","text-2xl mb-2 font-bold"),E(a,"class","text-left"),E(n,"for",u=`${t[20].id}-1`),E(n,"class","cursor-pointer"),E(D,"id",L=`${t[20].id}-1`),E(D,"name","team"),D.value="1",E(D,"type","radio"),E(D,"class","ml-2 cursor-pointer"),D.checked=O=1===t[20].team,E(o,"class","bg-blue-600 hover:bg-blue-500 text-white inline-block cursor-pointer py-2 px-4"),w(o,"bg-blue-300",2===t[20].team),E(P,"for",R=`${t[20].id}-2`),E(P,"class","cursor-pointer"),E(B,"id",S=`${t[20].id}-2`),E(B,"name","team"),B.value="2",E(B,"type","radio"),E(B,"class","ml-2 cursor-pointer"),B.checked=W=2===t[20].team,E(N,"class","bg-blue-600 hover:bg-blue-500 text-white inline-block cursor-pointer py-2 px-4"),w(N,"bg-blue-300",1===t[20].team),E(c,"class","text-right"),E(e,"class","grid grid-cols-2"),w(e,"bg-gray-500",t[7]===t[20].id)},m(u,h){b(u,e,h),v(e,a),v(a,s),v(s,l),v(e,r),v(e,c),v(c,o),v(o,n),v(n,i),v(o,x),v(o,D),v(c,_),v(c,N),v(N,P),v(P,A),v(N,U),v(N,B),v(e,C),H||(M=[I(D,"click",k(t[15])),I(o,"click",(function(){T(t[9](t[20],1))&&t[9](t[20],1).apply(this,arguments)})),I(B,"click",k(t[14])),I(N,"click",(function(){T(t[9](t[20],2))&&t[9](t[20],2).apply(this,arguments)}))],H=!0)},p(a,s){t=a,64&s&&Q!==(Q=t[20].name+"")&&V(l,Q),64&s&&u!==(u=`${t[20].id}-1`)&&E(n,"for",u),64&s&&L!==(L=`${t[20].id}-1`)&&E(D,"id",L),64&s&&O!==(O=1===t[20].team)&&(D.checked=O),64&s&&w(o,"bg-blue-300",2===t[20].team),64&s&&R!==(R=`${t[20].id}-2`)&&E(P,"for",R),64&s&&S!==(S=`${t[20].id}-2`)&&E(B,"id",S),64&s&&W!==(W=2===t[20].team)&&(B.checked=W),64&s&&w(N,"bg-blue-300",1===t[20].team),192&s&&w(e,"bg-gray-500",t[7]===t[20].id)},d(t){t&&p(e),H=!1,j(M)}}}function X(t){let e,a,s,l,r,c,o,n,i,u,x,_,N,P,A,R,U,W,C,H,M,Q,q,X,Y,Z,et,at,st,lt,rt,ct,ot,nt,it,ut=tt(t[6],1)+"",ht=tt(t[6],2)+"",dt=Object.keys(B),ft=[];for(let h=0;h<dt.length;h+=1)ft[h]=J(G(t,dt,h));let mt=t[6],gt=[];for(let h=0;h<mt.length;h+=1)gt[h]=K(F(t,mt,h));return{c(){e=h("h1"),a=d("Room "),s=d(t[0]),l=$(),r=h("div"),c=h("input"),o=$(),n=h("div"),i=h("label"),u=d("Words"),x=$(),_=h("select");for(let t=0;t<ft.length;t+=1)ft[t].c();P=$(),A=h("div"),R=h("h1"),U=d("Team 1: "),W=d(ut),C=d(" - Team 2: "),H=d(ht),M=$();for(let t=0;t<gt.length;t+=1)gt[t].c();Q=$(),q=h("div"),X=h("button"),Y=d("Start"),et=$(),at=h("div"),st=h("img"),lt=$(),rt=h("div"),ct=h("a"),ot=d("Exit"),this.h()},l(h){e=f(h,"H1",{class:!0});var d=m(e);a=g(d,"Room "),s=g(d,t[0]),d.forEach(p),l=y(h),r=f(h,"DIV",{class:!0});var b=m(r);c=f(b,"INPUT",{class:!0,type:!0,placeholder:!0}),b.forEach(p),o=y(h),n=f(h,"DIV",{class:!0});var v=m(n);i=f(v,"LABEL",{for:!0});var $=m(i);u=g($,"Words"),$.forEach(p),x=y(v),_=f(v,"SELECT",{id:!0,class:!0});var E=m(_);for(let t=0;t<ft.length;t+=1)ft[t].l(E);E.forEach(p),v.forEach(p),P=y(h),A=f(h,"DIV",{class:!0});var w=m(A);R=f(w,"H1",{class:!0});var I=m(R);U=g(I,"Team 1: "),W=g(I,ut),C=g(I," - Team 2: "),H=g(I,ht),I.forEach(p),M=y(w);for(let t=0;t<gt.length;t+=1)gt[t].l(w);w.forEach(p),Q=y(h),q=f(h,"DIV",{class:!0});var k=m(q);X=f(k,"BUTTON",{class:!0});var T=m(X);Y=g(T,"Start"),T.forEach(p),k.forEach(p),et=y(h),at=f(h,"DIV",{class:!0});var V=m(at);st=f(V,"IMG",{class:!0,alt:!0}),V.forEach(p),lt=y(h),rt=f(h,"DIV",{class:!0});var j=m(rt);ct=f(j,"A",{href:!0,class:!0});var D=m(ct);ot=g(D,"Exit"),D.forEach(p),j.forEach(p),this.h()},h(){E(e,"class","text-5xl text-center mb-4"),E(c,"class","bg-gray-200 focus:bg-white w-full py-2 px-4"),E(c,"type","text"),E(c,"placeholder","Enter Name"),E(r,"class","max-w-sm mx-auto"),E(i,"for","words"),E(_,"id","words"),E(_,"class","bg-gray-200 focus:bg-white w-full py-2 px-4"),E(n,"class","max-w-sm mx-auto mt-2"),E(R,"class","text-3xl text-center mb-2"),E(A,"class","mt-2 mb-4 max-w-md mx-auto"),E(X,"class","bg-blue-600 text-white text-lg py-2 px-4"),X.disabled=Z=t[6].length<2,w(X,"bg-blue-100",t[6].length<2),w(X,"hover:bg-blue-500",t[6].length>1),E(q,"class","text-center"),E(st,"class","inline-block"),E(st,"alt","QRCode"),E(at,"class","text-center mt-4"),E(ct,"href",`${z}/`),E(ct,"class","bg-blue-600 hover:bg-blue-500 text-white text-lg mt-4 py-2 px-8"),E(rt,"class","flex mt-4 justify-center")},m(h,d){b(h,e,d),v(e,a),v(e,s),b(h,l,d),b(h,r,d),v(r,c),t[16](c),D(c,t[3]),b(h,o,d),b(h,n,d),v(n,i),v(i,u),v(n,x),v(n,_);for(let t=0;t<ft.length;t+=1)ft[t].m(_,null);L(_,t[2].words),b(h,P,d),b(h,A,d),v(A,R),v(R,U),v(R,W),v(R,C),v(R,H),v(A,M);for(let t=0;t<gt.length;t+=1)gt[t].m(A,null);b(h,Q,d),b(h,q,d),v(q,X),v(X,Y),b(h,et,d),b(h,at,d),v(at,st),t[18](st),b(h,lt,d),b(h,rt,d),v(rt,ct),v(ct,ot),nt||(it=[I(c,"input",t[17]),I(c,"change",t[8]),I(_,"change",k((function(){T(t[5])&&t[5].apply(this,arguments)}))),I(X,"click",S)],nt=!0)},p(e,a){if(t=e,1&a&&V(s,t[0]),8&a&&c.value!==t[3]&&D(c,t[3]),0&a){let e;for(dt=Object.keys(B),e=0;e<dt.length;e+=1){const s=G(t,dt,e);ft[e]?ft[e].p(s,a):(ft[e]=J(s),ft[e].c(),ft[e].m(_,null))}for(;e<ft.length;e+=1)ft[e].d(1);ft.length=dt.length}if(4&a&&N!==(N=t[2].words)&&L(_,t[2].words),64&a&&ut!==(ut=tt(t[6],1)+"")&&V(W,ut),64&a&&ht!==(ht=tt(t[6],2)+"")&&V(H,ht),704&a){let e;for(mt=t[6],e=0;e<mt.length;e+=1){const s=F(t,mt,e);gt[e]?gt[e].p(s,a):(gt[e]=K(s),gt[e].c(),gt[e].m(A,null))}for(;e<gt.length;e+=1)gt[e].d(1);gt.length=mt.length}64&a&&Z!==(Z=t[6].length<2)&&(X.disabled=Z),64&a&&w(X,"bg-blue-100",t[6].length<2),64&a&&w(X,"hover:bg-blue-500",t[6].length>1)},d(a){a&&p(e),a&&p(l),a&&p(r),t[16](null),a&&p(o),a&&p(n),O(ft,a),a&&p(P),a&&p(A),O(gt,a),a&&p(Q),a&&p(q),a&&p(et),a&&p(at),t[18](null),a&&p(lt),a&&p(rt),nt=!1,j(it)}}}function Y(t){let e,a;return e=new P({props:{$$slots:{default:[X]},$$scope:{ctx:t}}}),{c(){s(e.$$.fragment)},l(t){l(e.$$.fragment,t)},m(t,s){r(e,t,s),a=!0},p(t,[a]){const s={};67109119&a&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){a||(c(e.$$.fragment,t),a=!0)},o(t){o(e.$$.fragment,t),a=!1},d(t){n(e,t)}}}function Z(t){return{props:{roomId:t.page.query.get("room")}}}function tt(t,e){return t.filter((t=>t.team===e)).length}function et(t,e,a){let s,l,r,c,o,n,h;i(t,W,(t=>a(2,o=t))),i(t,C,(t=>a(12,n=t))),i(t,H,(t=>a(13,h=t)));var d=this&&this.__awaiter||function(t,e,a,s){return new(a||(a=Promise))((function(l,r){function c(t){try{n(s.next(t))}catch(e){r(e)}}function o(t){try{n(s.throw(t))}catch(e){r(e)}}function n(t){var e;t.done?l(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(c,o)}n((s=s.apply(t,e||[])).next())}))};let f,m,g,p,{roomId:b}=e;return u((()=>{R(b)})),t.$$set=t=>{"roomId"in t&&a(0,b=t.roomId)},t.$$.update=()=>{8192&t.$$.dirty&&a(7,s=null==h?void 0:h.id),6144&t.$$.dirty&&a(6,r=Object.values(n.byId).sort(l)),5&t.$$.dirty&&o.started&&q(`${z}/game?room=${b}`),4&t.$$.dirty&&a(5,c=t=>d(void 0,void 0,void 0,(function*(){const e=t.currentTarget.value;if(e!==o.words){(yield U()).change((t=>{t.words=e}))}}))),1027&t.$$.dirty&&g&&p!==b&&(a(10,p=b),new window.QRious({element:g,size:500,value:location.href}))},a(11,l=(t,e)=>t.id.localeCompare(e.id)),[b,g,o,f,m,c,r,s,function(){return d(this,void 0,void 0,(function*(){const t=yield M(),e=A();e&&t.change((t=>{(t.byId[e]||(t.byId[e]=Q(e))).name=f}))}))},function(t,e){return function(a){return d(this,void 0,void 0,(function*(){if(t.team!==e){(yield M()).change((a=>{a.byId[t.id].team=e}))}}))}},p,l,n,h,function(e){_.call(this,t,e)},function(e){_.call(this,t,e)},function(t){N[t?"unshift":"push"]((()=>{m=t,a(4,m)}))},function(){f=this.value,a(3,f)},function(t){N[t?"unshift":"push"]((()=>{g=t,a(1,g)}))}]}class at extends t{constructor(t){super(),e(this,t,et,Y,a,{roomId:0})}}export{at as default,Z as load};
