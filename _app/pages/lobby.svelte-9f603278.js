import{S as Ue,i as Ce,s as Ne,j as Pe,m as We,o as Ae,x as Be,u as qe,v as Ge,U as ue,A as He,e as m,t as P,c as d,a as k,g as W,d as n,f as R,H as u,I as Me,k as A,n as B,b as a,V as X,K as ee,W as ce,X as fe,h as ie,Y as ke,J as Ee,Z as we,_ as ye,$ as Te,a0 as Se}from"../chunks/vendor-10429b53.js";import{L as Qe,a as ze,b as Fe}from"../chunks/p2p-3dfc5f61.js";import{g as Je,W as me,s as Ke,a as Xe,u as Ye,b as Ze,c as Le,e as $e,d as xe}from"../chunks/navigation-626cb45b.js";import{b as Ve}from"../chunks/paths-45dac81d.js";import"../chunks/singletons-e82519e2.js";function je(e,l,o){const r=e.slice();return r[19]=l[o],r}function De(e,l,o){const r=e.slice();return r[22]=l[o],r}function Oe(e){let l,o=e[22]+"",r,b;return{c(){l=m("option"),r=P(o),this.h()},l(h){l=d(h,"OPTION",{});var _=k(l);r=W(_,o),_.forEach(n),this.h()},h(){l.__value=b=me[e[22]],l.value=l.__value},m(h,_){R(h,l,_),u(l,r)},p:Me,d(h){h&&n(l)}}}function Re(e){let l,o,r,b=e[19].name+"",h,_,w,f,v,U,N,T,E,H,g,S,L,V,Q,z,M,s,I,C,j,y,$;return{c(){l=m("div"),o=m("div"),r=m("p"),h=P(b),_=A(),w=m("form"),f=m("div"),v=m("label"),U=P("Team 1"),T=A(),E=m("input"),S=A(),L=m("div"),V=m("label"),Q=P("Team 2"),M=A(),s=m("input"),j=A(),this.h()},l(q){l=d(q,"DIV",{class:!0});var p=k(l);o=d(p,"DIV",{class:!0});var F=k(o);r=d(F,"P",{class:!0});var Y=k(r);h=W(Y,b),Y.forEach(n),F.forEach(n),_=B(p),w=d(p,"FORM",{class:!0});var Z=k(w);f=d(Z,"DIV",{class:!0});var G=k(f);v=d(G,"LABEL",{for:!0,class:!0});var J=k(v);U=W(J,"Team 1"),J.forEach(n),T=B(G),E=d(G,"INPUT",{id:!0,name:!0,type:!0,class:!0}),G.forEach(n),S=B(Z),L=d(Z,"DIV",{class:!0});var x=k(L);V=d(x,"LABEL",{for:!0,class:!0});var le=k(V);Q=W(le,"Team 2"),le.forEach(n),M=B(x),s=d(x,"INPUT",{id:!0,name:!0,type:!0,class:!0}),x.forEach(n),Z.forEach(n),j=B(p),p.forEach(n),this.h()},h(){a(r,"class","text-2xl mb-2 font-bold"),a(o,"class","text-left"),a(v,"for",N=`${e[19].id}-1`),a(v,"class","cursor-pointer"),a(E,"id",H=`${e[19].id}-1`),a(E,"name","team"),E.value="1",a(E,"type","radio"),a(E,"class","ml-2 cursor-pointer"),E.checked=g=e[19].team===1,a(f,"class","bg-blue-600 hover:bg-blue-500 text-white inline-block cursor-pointer py-2 px-4"),X(f,"bg-blue-300",e[19].team===2),a(V,"for",z=`${e[19].id}-2`),a(V,"class","cursor-pointer"),a(s,"id",I=`${e[19].id}-2`),a(s,"name","team"),s.value="2",a(s,"type","radio"),a(s,"class","ml-2 cursor-pointer"),s.checked=C=e[19].team===2,a(L,"class","bg-blue-600 hover:bg-blue-500 text-white inline-block cursor-pointer py-2 px-4"),X(L,"bg-blue-300",e[19].team===1),a(w,"class","text-right"),a(l,"class","grid grid-cols-2"),X(l,"bg-gray-200",e[7]===e[19].id)},m(q,p){R(q,l,p),u(l,o),u(o,r),u(r,h),u(l,_),u(l,w),u(w,f),u(f,v),u(v,U),u(f,T),u(f,E),u(w,S),u(w,L),u(L,V),u(V,Q),u(L,M),u(L,s),u(l,j),y||($=[ee(E,"click",ce(e[15])),ee(f,"click",function(){fe(e[9](e[19],1))&&e[9](e[19],1).apply(this,arguments)}),ee(s,"click",ce(e[14])),ee(L,"click",function(){fe(e[9](e[19],2))&&e[9](e[19],2).apply(this,arguments)})],y=!0)},p(q,p){e=q,p&64&&b!==(b=e[19].name+"")&&ie(h,b),p&64&&N!==(N=`${e[19].id}-1`)&&a(v,"for",N),p&64&&H!==(H=`${e[19].id}-1`)&&a(E,"id",H),p&64&&g!==(g=e[19].team===1)&&(E.checked=g),p&64&&X(f,"bg-blue-300",e[19].team===2),p&64&&z!==(z=`${e[19].id}-2`)&&a(V,"for",z),p&64&&I!==(I=`${e[19].id}-2`)&&a(s,"id",I),p&64&&C!==(C=e[19].team===2)&&(s.checked=C),p&64&&X(L,"bg-blue-300",e[19].team===1),p&192&&X(l,"bg-gray-200",e[7]===e[19].id)},d(q){q&&n(l),y=!1,ke($)}}}function et(e){let l,o,r,b,h,_,w,f,v,U,N,T,E,H,g,S,L,V=ne(e[6],1)+"",Q,z,M=ne(e[6],2)+"",s,I,C,j,y,$,q,p,F,Y,Z,G,J,x,le,de,se=Object.keys(me),D=[];for(let t=0;t<se.length;t+=1)D[t]=Oe(De(e,se,t));let ae=e[6],O=[];for(let t=0;t<ae.length;t+=1)O[t]=Re(je(e,ae,t));return{c(){l=m("h1"),o=P("Room "),r=P(e[0]),b=A(),h=m("div"),_=m("input"),w=A(),f=m("div"),v=m("label"),U=P("Words"),N=A(),T=m("select");for(let t=0;t<D.length;t+=1)D[t].c();H=A(),g=m("div"),S=m("h1"),L=P("Team 1: "),Q=P(V),z=P(" - Team 2: "),s=P(M),I=A();for(let t=0;t<O.length;t+=1)O[t].c();C=A(),j=m("div"),y=m("button"),$=P("Start"),p=A(),F=m("div"),Y=m("img"),Z=A(),G=m("div"),J=m("a"),x=P("Exit"),this.h()},l(t){l=d(t,"H1",{class:!0});var c=k(l);o=W(c,"Room "),r=W(c,e[0]),c.forEach(n),b=B(t),h=d(t,"DIV",{class:!0});var i=k(h);_=d(i,"INPUT",{class:!0,type:!0,placeholder:!0}),i.forEach(n),w=B(t),f=d(t,"DIV",{class:!0});var K=k(f);v=d(K,"LABEL",{for:!0});var he=k(v);U=W(he,"Words"),he.forEach(n),N=B(K),T=d(K,"SELECT",{id:!0,class:!0});var _e=k(T);for(let te=0;te<D.length;te+=1)D[te].l(_e);_e.forEach(n),K.forEach(n),H=B(t),g=d(t,"DIV",{class:!0});var re=k(g);S=d(re,"H1",{class:!0});var oe=k(S);L=W(oe,"Team 1: "),Q=W(oe,V),z=W(oe," - Team 2: "),s=W(oe,M),oe.forEach(n),I=B(re);for(let te=0;te<O.length;te+=1)O[te].l(re);re.forEach(n),C=B(t),j=d(t,"DIV",{class:!0});var pe=k(j);y=d(pe,"BUTTON",{class:!0});var be=k(y);$=W(be,"Start"),be.forEach(n),pe.forEach(n),p=B(t),F=d(t,"DIV",{class:!0});var ve=k(F);Y=d(ve,"IMG",{class:!0,alt:!0}),ve.forEach(n),Z=B(t),G=d(t,"DIV",{class:!0});var ge=k(G);J=d(ge,"A",{href:!0,class:!0});var Ie=k(J);x=W(Ie,"Exit"),Ie.forEach(n),ge.forEach(n),this.h()},h(){a(l,"class","text-5xl text-center mb-4"),a(_,"class","bg-gray-200 focus:bg-white w-full py-2 px-4"),a(_,"type","text"),a(_,"placeholder","Enter Name"),a(h,"class","max-w-sm mx-auto"),a(v,"for","words"),a(T,"id","words"),a(T,"class","bg-gray-200 focus:bg-white w-full py-2 px-4"),a(f,"class","max-w-sm mx-auto mt-2"),a(S,"class","text-3xl text-center mb-2"),a(g,"class","mt-2 mb-4 max-w-md mx-auto"),a(y,"class","bg-blue-600 text-white text-lg py-2 px-4"),y.disabled=q=e[6].length<2,X(y,"bg-blue-100",e[6].length<2),X(y,"hover:bg-blue-500",e[6].length>1),a(j,"class","text-center"),a(Y,"class","inline-block"),a(Y,"alt","QRCode"),a(F,"class","text-center mt-4"),a(J,"href",`${Ve}/`),a(J,"class","bg-blue-600 hover:bg-blue-500 text-white text-lg mt-4 py-2 px-8"),a(G,"class","flex mt-4 justify-center")},m(t,c){R(t,l,c),u(l,o),u(l,r),R(t,b,c),R(t,h,c),u(h,_),e[16](_),Ee(_,e[3]),R(t,w,c),R(t,f,c),u(f,v),u(v,U),u(f,N),u(f,T);for(let i=0;i<D.length;i+=1)D[i].m(T,null);we(T,e[2].words),R(t,H,c),R(t,g,c),u(g,S),u(S,L),u(S,Q),u(S,z),u(S,s),u(g,I);for(let i=0;i<O.length;i+=1)O[i].m(g,null);R(t,C,c),R(t,j,c),u(j,y),u(y,$),R(t,p,c),R(t,F,c),u(F,Y),e[18](Y),R(t,Z,c),R(t,G,c),u(G,J),u(J,x),le||(de=[ee(_,"input",e[17]),ee(_,"change",e[8]),ee(T,"change",ce(function(){fe(e[5])&&e[5].apply(this,arguments)})),ee(y,"click",Ke)],le=!0)},p(t,c){if(e=t,c&1&&ie(r,e[0]),c&8&&_.value!==e[3]&&Ee(_,e[3]),c&0){se=Object.keys(me);let i;for(i=0;i<se.length;i+=1){const K=De(e,se,i);D[i]?D[i].p(K,c):(D[i]=Oe(K),D[i].c(),D[i].m(T,null))}for(;i<D.length;i+=1)D[i].d(1);D.length=se.length}if(c&4&&E!==(E=e[2].words)&&we(T,e[2].words),c&64&&V!==(V=ne(e[6],1)+"")&&ie(Q,V),c&64&&M!==(M=ne(e[6],2)+"")&&ie(s,M),c&704){ae=e[6];let i;for(i=0;i<ae.length;i+=1){const K=je(e,ae,i);O[i]?O[i].p(K,c):(O[i]=Re(K),O[i].c(),O[i].m(g,null))}for(;i<O.length;i+=1)O[i].d(1);O.length=ae.length}c&64&&q!==(q=e[6].length<2)&&(y.disabled=q),c&64&&X(y,"bg-blue-100",e[6].length<2),c&64&&X(y,"hover:bg-blue-500",e[6].length>1)},d(t){t&&n(l),t&&n(b),t&&n(h),e[16](null),t&&n(w),t&&n(f),ye(D,t),t&&n(H),t&&n(g),ye(O,t),t&&n(C),t&&n(j),t&&n(p),t&&n(F),e[18](null),t&&n(Z),t&&n(G),le=!1,ke(de)}}}function tt(e){let l,o;return l=new Qe({props:{$$slots:{default:[et]},$$scope:{ctx:e}}}),{c(){Pe(l.$$.fragment)},l(r){We(l.$$.fragment,r)},m(r,b){Ae(l,r,b),o=!0},p(r,[b]){const h={};b&33554687&&(h.$$scope={dirty:b,ctx:r}),l.$set(h)},i(r){o||(Be(l.$$.fragment,r),o=!0)},o(r){qe(l.$$.fragment,r),o=!1},d(r){Ge(l,r)}}}function nt(e){return{props:{roomId:e.page.query.get("room")}}}function ne(e,l){return e.filter(o=>o.team===l).length}function lt(e,l,o){let r,b,h,_,w,f,v;ue(e,Xe,s=>o(2,w=s)),ue(e,Ye,s=>o(12,f=s)),ue(e,Ze,s=>o(13,v=s));let{roomId:U}=l,N;async function T(){const s=await Le(),I=ze();I&&s.change(C=>{const j=C.byId[I]||(C.byId[I]=$e(I));j.name=N})}let E;function H(s,I){return async function(j){s.team!==I&&(await Le()).change($=>{$.byId[s.id].team=I})}}let g,S;He(()=>{Fe(U)});function L(s){Te.call(this,e,s)}function V(s){Te.call(this,e,s)}function Q(s){Se[s?"unshift":"push"](()=>{E=s,o(4,E)})}function z(){N=this.value,o(3,N)}function M(s){Se[s?"unshift":"push"](()=>{g=s,o(1,g)})}return e.$$set=s=>{"roomId"in s&&o(0,U=s.roomId)},e.$$.update=()=>{e.$$.dirty&8192&&o(7,r=v==null?void 0:v.id),e.$$.dirty&6144&&o(6,h=Object.values(f.byId).sort(b)),e.$$.dirty&5&&w.started&&xe(`${Ve}/game?room=${U}`),e.$$.dirty&4&&o(5,_=async s=>{const I=s.currentTarget.value;I!==w.words&&(await Je()).change(j=>{j.words=I})}),e.$$.dirty&1027&&g&&S!==U&&(o(10,S=U),new window.QRious({element:g,size:500,value:location.href}))},o(11,b=(s,I)=>s.id.localeCompare(I.id)),[U,g,w,N,E,_,h,r,T,H,S,b,f,v,L,V,Q,z,M]}class ut extends Ue{constructor(l){super();Ce(this,l,lt,tt,Ne,{roomId:0})}}export{ut as default,nt as load};
