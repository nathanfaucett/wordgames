var Jr=Object.defineProperty;var Xr=(r,e,t)=>e in r?Jr(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Y=(r,e,t)=>(Xr(r,typeof e!="symbol"?e+"":e,t),t);function Ye(){}function Kr(r,e){for(const t in e)r[t]=e[t];return r}function Bn(r){return r()}function kn(){return Object.create(null)}function rt(r){r.forEach(Bn)}function zr(r){return typeof r=="function"}function jr(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}function Qr(r){return Object.keys(r).length===0}function Rn(r,...e){if(r==null)return Ye;const t=r.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function zo(r){let e;return Rn(r,t=>e=t)(),e}function jo(r,e,t){r.$$.on_destroy.push(Rn(e,t))}function Qo(r,e,t,i){if(r){const u=Cn(r,e,t,i);return r[0](u)}}function Cn(r,e,t,i){return r[1]&&i?Kr(t.ctx.slice(),r[1](i(e))):t.ctx}function Zo(r,e,t,i){if(r[2]&&i){const u=r[2](i(t));if(e.dirty===void 0)return u;if(typeof u=="object"){const m=[],_=Math.max(e.dirty.length,u.length);for(let h=0;h<_;h+=1)m[h]=e.dirty[h]|u[h];return m}return e.dirty|u}return e.dirty}function es(r,e,t,i,u,m){if(u){const _=Cn(e,t,i,m);r.p(_,u)}}function ts(r){if(r.ctx.length>32){const e=[],t=r.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}let bt=!1;function Zr(){bt=!0}function ei(){bt=!1}function ti(r,e,t,i){for(;r<e;){const u=r+(e-r>>1);t(u)<=i?r=u+1:e=u}return r}function ni(r){if(r.hydrate_init)return;r.hydrate_init=!0;let e=r.childNodes;if(r.nodeName==="HEAD"){const v=[];for(let b=0;b<e.length;b++){const C=e[b];C.claim_order!==void 0&&v.push(C)}e=v}const t=new Int32Array(e.length+1),i=new Int32Array(e.length);t[0]=-1;let u=0;for(let v=0;v<e.length;v++){const b=e[v].claim_order,C=(u>0&&e[t[u]].claim_order<=b?u+1:ti(1,u,a=>e[t[a]].claim_order,b))-1;i[v]=t[C]+1;const n=C+1;t[n]=v,u=Math.max(n,u)}const m=[],_=[];let h=e.length-1;for(let v=t[u]+1;v!=0;v=i[v-1]){for(m.push(e[v-1]);h>=v;h--)_.push(e[h]);h--}for(;h>=0;h--)_.push(e[h]);m.reverse(),_.sort((v,b)=>v.claim_order-b.claim_order);for(let v=0,b=0;v<_.length;v++){for(;b<m.length&&_[v].claim_order>=m[b].claim_order;)b++;const C=b<m.length?m[b]:null;r.insertBefore(_[v],C)}}function ri(r,e){if(bt){for(ni(r),(r.actual_end_child===void 0||r.actual_end_child!==null&&r.actual_end_child.parentElement!==r)&&(r.actual_end_child=r.firstChild);r.actual_end_child!==null&&r.actual_end_child.claim_order===void 0;)r.actual_end_child=r.actual_end_child.nextSibling;e!==r.actual_end_child?(e.claim_order!==void 0||e.parentNode!==r)&&r.insertBefore(e,r.actual_end_child):r.actual_end_child=e.nextSibling}else(e.parentNode!==r||e.nextSibling!==null)&&r.appendChild(e)}function ns(r,e,t){bt&&!t?ri(r,e):(e.parentNode!==r||e.nextSibling!=t)&&r.insertBefore(e,t||null)}function ii(r){r.parentNode.removeChild(r)}function rs(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function oi(r){return document.createElement(r)}function si(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Jt(r){return document.createTextNode(r)}function is(){return Jt(" ")}function os(){return Jt("")}function ss(r,e,t,i){return r.addEventListener(e,t,i),()=>r.removeEventListener(e,t,i)}function as(r){return function(e){return e.preventDefault(),r.call(this,e)}}function us(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function ai(r){return Array.from(r.childNodes)}function ui(r){r.claim_info===void 0&&(r.claim_info={last_index:0,total_claimed:0})}function Nn(r,e,t,i,u=!1){ui(r);const m=(()=>{for(let _=r.claim_info.last_index;_<r.length;_++){const h=r[_];if(e(h)){const v=t(h);return v===void 0?r.splice(_,1):r[_]=v,u||(r.claim_info.last_index=_),h}}for(let _=r.claim_info.last_index-1;_>=0;_--){const h=r[_];if(e(h)){const v=t(h);return v===void 0?r.splice(_,1):r[_]=v,u?v===void 0&&r.claim_info.last_index--:r.claim_info.last_index=_,h}}return i()})();return m.claim_order=r.claim_info.total_claimed,r.claim_info.total_claimed+=1,m}function On(r,e,t,i){return Nn(r,u=>u.nodeName===e,u=>{const m=[];for(let _=0;_<u.attributes.length;_++){const h=u.attributes[_];t[h.name]||m.push(h.name)}m.forEach(_=>u.removeAttribute(_))},()=>i(e))}function cs(r,e,t){return On(r,e,t,oi)}function fs(r,e,t){return On(r,e,t,si)}function ci(r,e){return Nn(r,t=>t.nodeType===3,t=>{const i=""+e;if(t.data.startsWith(i)){if(t.data.length!==i.length)return t.splitText(i.length)}else t.data=i},()=>Jt(e),!0)}function ls(r){return ci(r," ")}function hs(r,e){e=""+e,r.wholeText!==e&&(r.data=e)}function ds(r,e){r.value=e==null?"":e}function ps(r,e){for(let t=0;t<r.options.length;t+=1){const i=r.options[t];if(i.__value===e){i.selected=!0;return}}r.selectedIndex=-1}function _s(r,e,t){r.classList[t?"add":"remove"](e)}function ms(r,e=document.body){return Array.from(e.querySelectorAll(r))}let At;function Et(r){At=r}function Xt(){if(!At)throw new Error("Function called outside component initialization");return At}function ys(r){Xt().$$.on_mount.push(r)}function gs(r){Xt().$$.after_update.push(r)}function vs(r,e){Xt().$$.context.set(r,e)}function ws(r,e){const t=r.$$.callbacks[e.type];t&&t.slice().forEach(i=>i.call(this,e))}const it=[],Fn=[],St=[],Kt=[],fi=Promise.resolve();let zt=!1;function li(){zt||(zt=!0,fi.then(Pn))}function jt(r){St.push(r)}function xs(r){Kt.push(r)}let Qt=!1;const Zt=new Set;function Pn(){if(!Qt){Qt=!0;do{for(let r=0;r<it.length;r+=1){const e=it[r];Et(e),hi(e.$$)}for(Et(null),it.length=0;Fn.length;)Fn.pop()();for(let r=0;r<St.length;r+=1){const e=St[r];Zt.has(e)||(Zt.add(e),e())}St.length=0}while(it.length);for(;Kt.length;)Kt.pop()();zt=!1,Qt=!1,Zt.clear()}}function hi(r){if(r.fragment!==null){r.update(),rt(r.before_update);const e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(jt)}}const It=new Set;let De;function bs(){De={r:0,c:[],p:De}}function As(){De.r||rt(De.c),De=De.p}function Ln(r,e){r&&r.i&&(It.delete(r),r.i(e))}function Es(r,e,t,i){if(r&&r.o){if(It.has(r))return;It.add(r),De.c.push(()=>{It.delete(r),i&&(t&&r.d(1),i())}),r.o(e)}}const Ss=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function Is(r,e){r.d(1),e.delete(r.key)}function Ts(r,e,t,i,u,m,_,h,v,b,C,n){let a=r.length,l=m.length,y=a;const T={};for(;y--;)T[r[y].key]=y;const S=[],I=new Map,L=new Map;for(y=l;y--;){const $=n(u,m,y),V=t($);let q=_.get(V);q?i&&q.p($,e):(q=b(V,$),q.c()),I.set(V,S[y]=q),V in T&&L.set(V,Math.abs(y-T[V]))}const M=new Set,J=new Set;function O($){Ln($,1),$.m(h,C),_.set($.key,$),C=$.first,l--}for(;a&&l;){const $=S[l-1],V=r[a-1],q=$.key,H=V.key;$===V?(C=$.first,a--,l--):I.has(H)?!_.has(q)||M.has(q)?O($):J.has(H)?a--:L.get(q)>L.get(H)?(J.add(q),O($)):(M.add(H),a--):(v(V,_),a--)}for(;a--;){const $=r[a];I.has($.key)||v($,_)}for(;l;)O(S[l-1]);return S}function Bs(r,e){const t={},i={},u={$$scope:1};let m=r.length;for(;m--;){const _=r[m],h=e[m];if(h){for(const v in _)v in h||(i[v]=1);for(const v in h)u[v]||(t[v]=h[v],u[v]=1);r[m]=h}else for(const v in _)u[v]=1}for(const _ in i)_ in t||(t[_]=void 0);return t}function ks(r){return typeof r=="object"&&r!==null?r:{}}function Rs(r,e,t){const i=r.$$.props[e];i!==void 0&&(r.$$.bound[i]=t,t(r.$$.ctx[i]))}function Cs(r){r&&r.c()}function Ns(r,e){r&&r.l(e)}function di(r,e,t,i){const{fragment:u,on_mount:m,on_destroy:_,after_update:h}=r.$$;u&&u.m(e,t),i||jt(()=>{const v=m.map(Bn).filter(zr);_?_.push(...v):rt(v),r.$$.on_mount=[]}),h.forEach(jt)}function pi(r,e){const t=r.$$;t.fragment!==null&&(rt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function _i(r,e){r.$$.dirty[0]===-1&&(it.push(r),li(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function Os(r,e,t,i,u,m,_,h=[-1]){const v=At;Et(r);const b=r.$$={fragment:null,ctx:null,props:m,update:Ye,not_equal:u,bound:kn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(v?v.$$.context:[])),callbacks:kn(),dirty:h,skip_bound:!1,root:e.target||v.$$.root};_&&_(b.root);let C=!1;if(b.ctx=t?t(r,e.props||{},(n,a,...l)=>{const y=l.length?l[0]:a;return b.ctx&&u(b.ctx[n],b.ctx[n]=y)&&(!b.skip_bound&&b.bound[n]&&b.bound[n](y),C&&_i(r,n)),a}):[],b.update(),C=!0,rt(b.before_update),b.fragment=i?i(b.ctx):!1,e.target){if(e.hydrate){Zr();const n=ai(e.target);b.fragment&&b.fragment.l(n),n.forEach(ii)}else b.fragment&&b.fragment.c();e.intro&&Ln(r.$$.fragment),di(r,e.target,e.anchor,e.customElement),ei(),Pn()}Et(v)}class Fs{$destroy(){pi(this,1),this.$destroy=Ye}$on(e,t){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const u=i.indexOf(t);u!==-1&&i.splice(u,1)}}$set(e){this.$$set&&!Qr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Je=[];function Ps(r,e=Ye){let t;const i=new Set;function u(h){if(jr(r,h)&&(r=h,t)){const v=!Je.length;for(const b of i)b[1](),Je.push(b,r);if(v){for(let b=0;b<Je.length;b+=2)Je[b][0](Je[b+1]);Je.length=0}}}function m(h){u(h(r))}function _(h,v=Ye){const b=[h,v];return i.add(b),i.size===1&&(t=e(u)||Ye),h(r),()=>{i.delete(b),i.size===0&&(t(),t=null)}}return{set:u,update:m,subscribe:_}}const Me=Math.pow(2,31)-1|0;function mi(r,e){return r[0]=(e&4278190080)>>24,r[1]=(e&16711680)>>16,r[2]=(e&65280)>>8,r[3]=e&255,r}function yi(r){return r!=null&&typeof r.toJS=="function"?r.toJS():r}function gi(r){return r!=null&&typeof r.toJSON=="function"?r.toJSON():r}const en={},Tt={};class Bt{constructor(e,t){if(e!==en)throw new TypeError("Options can only be created with the some or none functions");this._value=t}static some(e){return ue(e)}static none(){return ce()}static from(e){return e!=null?ue(e):ce()}static fromResult(e){return e.isOk()?ue(e.unwrap()):ce()}isNone(){return this._value===Tt}isSome(){return!this.isNone()}expect(e){if(this.isSome())return this._value;throw new Error(typeof e=="function"?e():e)}unwrap(){return this.expect("Tried to unwrap value of none Option")}unwrapOr(e){return this.isSome()?this._value:e}unwrapOrElse(e){return this.isSome()?this._value:e()}map(e){return this.isSome()?ue(e(this._value)):ce()}mapOr(e,t){return this.isSome()?ue(e(this._value)):ue(t)}mapOrElse(e,t){return this.isSome()?ue(e(this._value)):ue(t())}flatMap(e){return this.isSome()?e(this._value):ce()}flatMapOr(e,t){return this.isSome()?e(this._value):t}flatMapOrElse(e,t){return this.isSome()?e(this._value):t()}and(e){return this.isSome()?e:ce()}andThen(e){return this.isSome()?e(this._value):ce()}or(e){return this.isNone()?e:this}orElse(e){return this.isNone()?e():this}xor(e){const t=this.isSome(),i=e.isSome();return t&&!i?this:!t&&i?e:ce()}filter(e){return this.isSome()&&e(this._value)?this:ce()}getOrInsert(e){return this.isNone()&&(this._value=e),this}getOrInsertWith(e){return this.isNone()&&(this._value=e()),this}take(){if(this.isSome()){const e=this._value;return this._value=Tt,ue(e)}else return ce()}from(e){return e!=null?this._value=e:this.clear(),this}replace(e){return this._value=e,this}clear(){return this._value=Tt,this}fromResult(e){return e.isOk()?ue(e.unwrap()):ce()}ifSome(e,t){return this.isSome()?e(this._value):t&&t(),this}ifNone(e,t){return this.isNone()?e():t&&t(this._value),this}fromJSON(e){return Bt.from(e)}toJSON(){return this.map(gi).unwrapOr(null)}toJS(){return this.map(yi).unwrapOr(null)}}const ue=r=>new Bt(en,r),ce=()=>new Bt(en,Tt);class K{constructor(e){this._index=0,this._iter=e}[Symbol.iterator](){return this}iter(){return this}next(){return this._iter.next()}nextWithIndex(){const e=this._iter.next();return e.done?e:{value:[e.value,this._index++]}}enumerate(){throw new Error("iter/Enumerate was not imported!")}peekable(){throw new Error("iter/Peekable was not imported!")}forEach(e){throw new Error("iter/ForEach was not imported!")}map(e){throw new Error("iter/Map was not imported!")}merge(e){throw new Error("iter/Merge was not imported!")}concat(e){return this.merge(e)}filter(e){throw new Error("iter/Filter was not imported!")}step(e){throw new Error("iter/Step was not imported!")}skip(e){throw new Error("iter/Skip was not imported!")}take(e){throw new Error("iter/Take was not imported!")}toMap(e,t){throw new Error("iter/ToMap was not imported!")}count(){return this.reduce(0,e=>e+1)}consume(){let e=this.next();for(;!e.done;)e=this.next();return this}toArray(){return this.reduce([],(e,t)=>(e.push(t),e))}join(e){return this.toArray().join(e)}indexOf(e){let t=this.next(),i=0;for(;!t.done;){if(t.value===e)return i;i++,t=this.next()}return-1}findIndex(e){let t=this.nextWithIndex();for(;!t.done;){const[i,u]=t.value;if(e(i,u))return u;t=this.nextWithIndex()}return-1}find(e){let t=this.nextWithIndex();for(;!t.done;){const[i,u]=t.value;if(e(i,u))return ue(i);t=this.nextWithIndex()}return ce()}findAll(e){return this.filter(e)}nth(e=0){let t=this.next();for(e<0&&(e=0);!t.done;){if(e--<=0)return ue(t.value);t=this.next()}return ce()}first(){return this.nth(0)}last(){let e=this.next();for(;!e.done;){const t=this.next();if(t.done)return ue(e.value);e=t}return ce()}any(e){return this.findIndex(e)!==-1}some(e){return this.any(e)}none(e){return this.findIndex(e)===-1}all(e){let t=this.nextWithIndex();for(;!t.done;){const[i,u]=t.value;if(!e(i,u))return!1;t=this.nextWithIndex()}return!0}unflatten(e){throw new Error("iter/Unflatten was not imported!")}reduce(e,t){let i=this.next();for(;!i.done;){const u=i.value;e=t(e,u,this._index-1),i=this.next()}return e}reverse(){return kt(this.toArray().reverse())}}function kt(r){return r!=null?typeof r[Symbol.iterator]=="function"?new K(r[Symbol.iterator]()):typeof r.next=="function"?r instanceof K?r:new K(r):kt(typeof r=="object"?Object.entries(r):[r]):kt([])}class vi extends K{constructor(e){super(e)}next(){const e=super.nextWithIndex();return e.done?e:{value:wi(e.value)}}}K.prototype.enumerate=function(){return new vi(this)};function wi(r){const e=r[0],t=r;return t[0]=r[1],t[1]=e,t}class xi extends K{constructor(e,t){super(e);this._fn=t}next(){let e=super.nextWithIndex();for(;!e.done;){const[t,i]=e.value;if(this._fn(t,i))return{done:!1,value:t};e=super.nextWithIndex()}return{done:!0,value:void 0}}}K.prototype.filter=function(e){return new xi(this,e)};class bi extends K{constructor(e,t){super(e);this._fn=([i,u])=>(t(i,u),i)}next(){const e=super.nextWithIndex();return e.done?e:{done:!1,value:this._fn(e.value)}}}K.prototype.forEach=function(e){return new bi(this,e)};class Ai extends K{constructor(e,t){super(e);this._fn=([i,u])=>t(i,u)}next(){const e=super.nextWithIndex();return e.done?e:{done:!1,value:this._fn(e.value)}}}K.prototype.map=function(e){return new Ai(this,e)};class Ei extends K{constructor(e,t){super(e);this._other=t}next(){const e=super.next();return e.done?this._other.next():e}}K.prototype.merge=function(e){return new Ei(this,e)};class Si extends K{constructor(){super(...arguments);this.peeked=[]}unpeekAll(){return this.peeked.length=0,this}unpeek(){return this.peeked.length>0?ue(this.peeked.shift()):ce()}peek(e=0){if(e<this.peeked.length)return ue(this.peeked[e]);{let t=this.peeked.length-e-1,i=super.next();for(;!i.done&&(this.peeked.push(i.value),!(--t<=0));)i=super.next();return i.done?ce():ue(i.value)}}next(){const e=this.unpeek();if(e.isSome())return{done:!1,value:e.unwrap()};const t=super.next();return t.done?t:{done:!1,value:t.value}}}K.prototype.peekable=function(){return new Si(this)};class Ii extends K{constructor(e,t){super(e);this._skipped=0,this._skip=(t<=0?0:t)|0}next(){let e=super.next();for(;!e.done;)if(this._skipped<=this._skip)this._skipped+=1,e=super.next();else return e;return{done:!0,value:void 0}}}K.prototype.skip=function r(r){return new Ii(this,r)};class Ti extends K{constructor(e,t){super(e);this._stepped=0,this._step=t<=0?1:t|0}next(){let e=super.next();for(;!e.done;)if(this._stepped<this._step)this._stepped+=1,e=super.next();else return this._stepped=0,e;return{done:!0,value:void 0}}}K.prototype.step=function r(r){return new Ti(this,r)};class Bi extends K{constructor(e,t){super(e);this._taken=0,this._count=(t<=0?0:t)|0}next(){return this._taken<this._count?(this._taken+=1,super.next()):{done:!0,value:void 0}}}K.prototype.take=function(e){return new Bi(this,e)};const ki=r=>r,Ri=r=>r;class Ci extends K{constructor(e,t=ki,i=Ri){super(e);this._map=([u,m])=>[t(u,m),i(u,m)]}toObject(){return this.reduce({},(e,t)=>(e[t[0]]=t[1],e))}next(){const e=super.nextWithIndex();return e.done?e:{done:!1,value:this._map(e.value)}}}K.prototype.toMap=function(e,t){return new Ci(this,e,t)};class Ni extends K{constructor(e,t){super(e);this._fn=t}next(){return this._fn(this._iter)}}K.prototype.unflatten=function(e){return new Ni(this,e)};var Xe;(function(r){r[r.Forward=0]="Forward",r[r.Backward=1]="Backward"})(Xe||(Xe={}));class tn{constructor(e,t,i=1){this.start=e,this.end=t,this.step=Math.abs(i),this.direction=e>t?Xe.Backward:Xe.Forward}static from(e,t,i=1){return new tn(e,t,i)}getStart(){return this.start}getEnd(){return this.end}getStep(){return this.step}getDirection(){return this.direction}contains(e){return this.start<=e&&e<=this.end}isEmpty(){return this.direction===Xe.Forward?this.start>this.end:this.start<this.end}iter(){return new K(this)}[Symbol.iterator](){return this}next(){if(this.isEmpty())return{done:!0,value:void 0};{const e=this.start;return this.direction===Xe.Forward?this.start+=this.step:this.start-=this.step,{done:!1,value:e}}}}const Ls=tn.from;class Oi extends K{constructor(e){super(e);this.rng=e}iter(){return new K(this)}next(){return{done:!1,value:this.rng.nextFloat()}}}class Fi extends K{constructor(e,t=0,i=1){super(e);this.rng=e,this.min=t,this.max=i}iter(){return new K(this)}nextFloat(){return this.rng.nextFloatInRange(this.min,this.max)}next(){return{done:!1,value:this.nextFloat()}}}class Pi extends K{constructor(e,t=0,i=Me){super(e);this.rng=e,this.min=t|0,this.max=i|0}iter(){return new K(this)}nextInt(){return this.rng.nextIntInRange(this.min,this.max)}next(){return{done:!1,value:this.nextInt()}}}const Li=new Uint8Array(4);class nn{nextFloat(){return this.nextInt()/Me}nextFloatInRange(e=0,t=1){return e+this.nextFloat()*(t-e)}nextIntInRange(e=0,t=Me){return Math.round(this.nextFloatInRange(e,t))}shuffle(e){const t=e.length;for(let i=0;i<t;i++){const u=i+this.nextIntInRange(0,t-i-1),m=e[i];e[i]=e[u],e[u]=m}return e}fromArray(e){return e.length?ue(e[this.nextIntInRange(0,e.length-1)]):ce()}keyFromObject(e){return this.fromArray(Object.keys(e))}valueFromObject(e){return this.fromArray(Object.values(e))}fillBytes(e){const t=Li;for(let i=0,u=e.length;i<u;i++){const m=i%4;m===0&&mi(t,this.nextInt()),e[i]=t[m]}return e}[Symbol.iterator](){return this}iter(){return new K(this)}next(){return{done:!1,value:this.nextInt()}}float(){return new Oi(this)}uniformFloat(e=0,t=1){return new Fi(this,e,t)}uniformInt(e=0,t=Me){return new Pi(this,e,t)}}class Di extends nn{nextInt(){return Math.random()*Me|0}nextFloat(){return Math.random()}}class Dn extends nn{constructor(e=423257940){super();this.seed=e}setSeed(e=423257940){return this.seed=e,this}nextInt(){return this.seed=Math.imul(48271,this.seed)|0%Me,this.seed&Me}}const Mi=new Dn;class rn extends nn{constructor(e,t,i,u){super();this.x=423257940,this.y=2829571177,this.z=2541948421,this.w=289122235,this.set(e,t,i,u)}static fromSeed(e){return new rn().setSeed(e)}setSeed(e){const t=Mi.setSeed(e);return this.set(t.nextInt(),t.nextInt(),t.nextInt(),t.nextInt())}set(e=423257940,t=2829571177,i=2541948421,u=289122235){return this.x=e|0,this.y=t|0,this.z=i|0,this.w=u|0,this}nextInt(){const e=this.x,t=e^e<<11;this.x=this.y,this.y=this.z,this.z=this.w;const i=this.w;return this.w=i^i>>19^(t^t>>8),this.w}}new Dn;new rn;const Ui=new Di;let on=Ui;function $i(r,e){return on.nextIntInRange(r,e)}function Vi(r){return on.fromArray(r)}function Ds(){return on.nextFloat()}var Ie=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Rt(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ot={exports:{}};(function(r){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function u(v,b,C){this.fn=v,this.context=b,this.once=C||!1}function m(v,b,C,n,a){if(typeof C!="function")throw new TypeError("The listener must be a function");var l=new u(C,n||v,a),y=t?t+b:b;return v._events[y]?v._events[y].fn?v._events[y]=[v._events[y],l]:v._events[y].push(l):(v._events[y]=l,v._eventsCount++),v}function _(v,b){--v._eventsCount==0?v._events=new i:delete v._events[b]}function h(){this._events=new i,this._eventsCount=0}h.prototype.eventNames=function(){var b=[],C,n;if(this._eventsCount===0)return b;for(n in C=this._events)e.call(C,n)&&b.push(t?n.slice(1):n);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(C)):b},h.prototype.listeners=function(b){var C=t?t+b:b,n=this._events[C];if(!n)return[];if(n.fn)return[n.fn];for(var a=0,l=n.length,y=new Array(l);a<l;a++)y[a]=n[a].fn;return y},h.prototype.listenerCount=function(b){var C=t?t+b:b,n=this._events[C];return n?n.fn?1:n.length:0},h.prototype.emit=function(b,C,n,a,l,y){var T=t?t+b:b;if(!this._events[T])return!1;var S=this._events[T],I=arguments.length,L,M;if(S.fn){switch(S.once&&this.removeListener(b,S.fn,void 0,!0),I){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,C),!0;case 3:return S.fn.call(S.context,C,n),!0;case 4:return S.fn.call(S.context,C,n,a),!0;case 5:return S.fn.call(S.context,C,n,a,l),!0;case 6:return S.fn.call(S.context,C,n,a,l,y),!0}for(M=1,L=new Array(I-1);M<I;M++)L[M-1]=arguments[M];S.fn.apply(S.context,L)}else{var J=S.length,O;for(M=0;M<J;M++)switch(S[M].once&&this.removeListener(b,S[M].fn,void 0,!0),I){case 1:S[M].fn.call(S[M].context);break;case 2:S[M].fn.call(S[M].context,C);break;case 3:S[M].fn.call(S[M].context,C,n);break;case 4:S[M].fn.call(S[M].context,C,n,a);break;default:if(!L)for(O=1,L=new Array(I-1);O<I;O++)L[O-1]=arguments[O];S[M].fn.apply(S[M].context,L)}}return!0},h.prototype.on=function(b,C,n){return m(this,b,C,n,!1)},h.prototype.once=function(b,C,n){return m(this,b,C,n,!0)},h.prototype.removeListener=function(b,C,n,a){var l=t?t+b:b;if(!this._events[l])return this;if(!C)return _(this,l),this;var y=this._events[l];if(y.fn)y.fn===C&&(!a||y.once)&&(!n||y.context===n)&&_(this,l);else{for(var T=0,S=[],I=y.length;T<I;T++)(y[T].fn!==C||a&&!y[T].once||n&&y[T].context!==n)&&S.push(y[T]);S.length?this._events[l]=S.length===1?S[0]:S:_(this,l)}return this},h.prototype.removeAllListeners=function(b){var C;return b?(C=t?t+b:b,this._events[C]&&_(this,C)):(this._events=new i,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,r.exports=h})(ot);var Ms=ot.exports;const Ue="/";class Mn{constructor(e,t,i,u){Y(this,"graph");Y(this,"parent");Y(this,"key");Y(this,"state");this.graph=e,this.parent=t,this.key=i,this.state=u}getPath(){return this.parent?this.parent.getPath()+Ue+this.key:this.key}getChildPath(e){return this.getPath()+Ue+e}}class $e extends Mn{constructor(e,t,i,u,m){super(e,t,i,m);Y(this,"value");this.value=u}isEmpty(){return this.value==null||this.value instanceof Oe&&this.value.isEmpty()}toJSON(){return this.value instanceof Oe?this.value.toJSON():{value:this.value,state:this.state}}toGraphJSON(e={}){return an(this,e)}}class ye extends Mn{constructor(){super(...arguments);Y(this,"children",new Map)}isEmpty(){return this.children.size===0||Array.from(this.children.values()).every(e=>e.isEmpty())}toJSON(){return{state:this.state}}toGraphJSON(e={}){return an(this,e)}}class Oe{constructor(e,t,i){Y(this,"graph");Y(this,"path");Y(this,"state");this.graph=e,this.path=t,this.state=i}get value(){return this.getValue()}get node(){return this.getNode()}getValue(){return this.graph.getPathValue(this.path)}getNode(){return this.graph.getPathNode(this.path)}isEmpty(){const e=this.getNode();return e?e.isEmpty():!0}toJSON(){return{id:this.path,state:this.state}}}class st{constructor(e,t,i){Y(this,"graph");Y(this,"parent");Y(this,"key");this.graph=e,this.parent=t,this.key=i}static fromPath(e,t=""){return t.split(Ue).reduce((i,u)=>new st(e,i,u),null)}set(e){return this.graph.setAtPath(this.getPath(),e),this}get(e){return new st(this.graph,this,e)}getValue(){return this.graph.getPathValue(this.getPath())}getNode(){return this.graph.getPathNode(this.getPath())}on(e){const t=u=>{const m=this.getNode();m&&Object.keys(u).some(_=>_.startsWith(m.getPath()))&&e(un(m.graph,m,m.getPath()))};this.graph.on("change",t);const i=this.getValue();return i&&e(i),()=>{this.graph.off("change",t)}}once(e){const t=this.getValue();if(t)e(t);else{const i=u=>{const m=this.getNode();m&&Object.keys(u).some(_=>_.startsWith(m.getPath()))&&(this.graph.off("change",i),e(un(m.graph,m,m.getPath())))};this.graph.on("change",i)}}getPath(){return this.parent?this.parent.getPath()+Ue+this.key:this.key}getChildPath(e){return this.getPath()+Ue+e}}class Us extends ot.exports.EventEmitter{constructor(){super(...arguments);Y(this,"entries",new Map);Y(this,"state",Date.now());Y(this,"invalidStates",[]);Y(this,"invalidStateTimeoutId");Y(this,"lastMaxInvalidState",1/0)}getEntries(){return this.entries}get(e){return new st(this,null,e)}getPathValue(e,t=!0){return un(this,Un(this,e),e,t)}getPathNode(e){return Un(this,e)}setAtPath(e,t){this.state=Date.now();const i=this.setInternal(e,t,this.state),u=i.toGraphJSON();return this.emit("set",u),this.emit("change",u),this}merge(e){const t=Date.now(),i=this.invalidStates.length,u={};let m=t,_=!1;for(const[h,v]of Object.entries(e))if(v.state<=t)this.mergeInternal(h,v),u[h]=v,_=!0;else{const b=this.invalidStates.findIndex(([C,n])=>v.state<n.state);m=Math.max(m,v.state),b===-1?this.invalidStates.push([h,v]):this.invalidStates.splice(b,0,[h,v])}return i!==this.invalidStates.length&&this.handleInvalidStates(t,m),_&&(this.state=t,this.emit("change",u)),this}toJSON(){return Array.from(this.entries.values()).reduce((e,t)=>t.toGraphJSON(e),{})}mergeInternal(e,t){const i=t.state,u=this.getPathNode(e);if(!("value"in t)&&!("id"in t))(!u||u instanceof $e)&&(u&&this.deleteInternal(e),this.getOrCreateNode(e,i));else{const m="value"in t?t.value:new Oe(this,t.id,i);u instanceof $e?$n(u.value,u.state,m,i)&&(u.value=m,u.state=i):u instanceof ye?$n(new Oe(this,u.getPath(),i),u.state,m,i)&&(this.deleteInternal(e),this.getOrCreateEdge(e,i).value=m):this.getOrCreateEdge(e,i).value=m}}handleInvalidStates(e,t){t<this.lastMaxInvalidState&&(this.lastMaxInvalidState=t,clearTimeout(this.invalidStateTimeoutId),this.invalidStateTimeoutId=void 0),!this.invalidStateTimeoutId&&(this.invalidStateTimeoutId=setTimeout(()=>{const i=Date.now(),u=this.invalidStates,m={};this.invalidStateTimeoutId=void 0;let _=-1;for(let h=u.length-1;h>=0;h--){const[v,b]=u[h];b.state<=i&&(this.mergeInternal(v,b),m[v]=b,_=h)}_!==-1&&(u.splice(_,u.length-_),this.state=i,this.emit("change",m)),u.length&&this.handleInvalidStates(i,u[0][1].state)},t-e))}deleteInternal(e){const t=this.getPathNode(e);if(t instanceof ye)for(const i of t.children.keys())this.deleteInternal(t.getChildPath(i));t&&this.entries.delete(t.getPath())}setInternal(e,t,i){let u=this.getPathNode(e);if(t!=null&&typeof t=="object"){if(t instanceof st)return(u instanceof ye||!u)&&(u&&this.deleteInternal(u.getPath()),u=this.getOrCreateEdge(e,i)),u.value=new Oe(this,t.getPath(),i),u.state=i,u;(u instanceof $e||!u)&&(u&&this.deleteInternal(u.getPath()),u=this.getOrCreateNode(e,i));for(const[m,_]of Object.entries(t))u.children.set(m,this.setInternal(u.getChildPath(m),_,i));return u}else return(u instanceof ye||!u)&&(u&&this.deleteInternal(u.getPath()),u=this.getOrCreateEdge(e,i)),u.value=t,u.state=i,u}getOrCreateNode(e,t){const i=e.split(Ue),u=i.shift();let m=this.entries.get(u);return m instanceof ye||(m=new ye(this,null,u,this.state),this.entries.set(u,m)),i.reduce((_,h)=>{const v=_.children.get(h);if(v instanceof ye)return v;if(v instanceof $e&&v.value instanceof Oe){const C=v.value.getNode();if(C instanceof ye)return C}const b=new ye(this,_,h,t);return _.children.set(h,b),this.entries.set(b.getPath(),b),b},m)}getOrCreateEdge(e,t){const[i,u]=Hi(e),m=i?this.getOrCreateNode(i,t):null;let _=m==null?void 0:m.children.get(u);return _ instanceof $e||(_=new $e(this,m,u,null,t),m==null||m.children.set(u,_),this.entries.set(e,_)),_}}function Hi(r){const e=r.lastIndexOf("/");return e===-1?[void 0,r]:[r.substring(0,e),r.substring(e+1)]}function qi(r){return sn(r,new Map)}function sn(r,e){if(!r)return;const t=e.get(r);if(t)return t;if(r instanceof $e)if(r.value instanceof Oe){const i=sn(r.value.getNode(),e)||null;return e.set(r,i),i}else{const i=r.value;return e.set(r,i),i}else if(r instanceof ye){const i={};e.set(r,i);for(const u of r.children.keys())i[u]=sn(r.children.get(u),e)||null;return i}e.set(r,void 0)}function an(r,e){if(e[r.getPath()]=r.toJSON(),r instanceof ye)for(const t of r.children.values())an(t,e);return e}function un(r,e,t,i=!0){let u;return e&&(u=qi(e),t=e.getPath()),u===void 0&&i&&r.emit("get",t),u}function Un(r,e){const t=e.split(Ue),i=t.shift(),u=r.getEntries().get(i);if(u)return cn(t,u)}function cn(r,e){if(r.length===0)return e;if(e instanceof ye){const t=r.shift(),i=e.children.get(t);if(i)return cn(r,i)}else if(e.value instanceof Oe){const t=e.value.getNode();if(t)return cn(r,t)}}function $n(r,e,t,i){return i>=e&&(e===i?JSON.stringify(t)>JSON.stringify(r):!0)}var Vn={},Ct={};Ct.byteLength=Yi;Ct.toByteArray=Xi;Ct.fromByteArray=ji;var be=[],ge=[],Gi=typeof Uint8Array!="undefined"?Uint8Array:Array,fn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ke=0,Wi=fn.length;Ke<Wi;++Ke)be[Ke]=fn[Ke],ge[fn.charCodeAt(Ke)]=Ke;ge["-".charCodeAt(0)]=62;ge["_".charCodeAt(0)]=63;function Hn(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=r.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function Yi(r){var e=Hn(r),t=e[0],i=e[1];return(t+i)*3/4-i}function Ji(r,e,t){return(e+t)*3/4-t}function Xi(r){var e,t=Hn(r),i=t[0],u=t[1],m=new Gi(Ji(r,i,u)),_=0,h=u>0?i-4:i,v;for(v=0;v<h;v+=4)e=ge[r.charCodeAt(v)]<<18|ge[r.charCodeAt(v+1)]<<12|ge[r.charCodeAt(v+2)]<<6|ge[r.charCodeAt(v+3)],m[_++]=e>>16&255,m[_++]=e>>8&255,m[_++]=e&255;return u===2&&(e=ge[r.charCodeAt(v)]<<2|ge[r.charCodeAt(v+1)]>>4,m[_++]=e&255),u===1&&(e=ge[r.charCodeAt(v)]<<10|ge[r.charCodeAt(v+1)]<<4|ge[r.charCodeAt(v+2)]>>2,m[_++]=e>>8&255,m[_++]=e&255),m}function Ki(r){return be[r>>18&63]+be[r>>12&63]+be[r>>6&63]+be[r&63]}function zi(r,e,t){for(var i,u=[],m=e;m<t;m+=3)i=(r[m]<<16&16711680)+(r[m+1]<<8&65280)+(r[m+2]&255),u.push(Ki(i));return u.join("")}function ji(r){for(var e,t=r.length,i=t%3,u=[],m=16383,_=0,h=t-i;_<h;_+=m)u.push(zi(r,_,_+m>h?h:_+m));return i===1?(e=r[t-1],u.push(be[e>>2]+be[e<<4&63]+"==")):i===2&&(e=(r[t-2]<<8)+r[t-1],u.push(be[e>>10]+be[e>>4&63]+be[e<<2&63]+"=")),u.join("")}var ln={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ln.read=function(r,e,t,i,u){var m,_,h=u*8-i-1,v=(1<<h)-1,b=v>>1,C=-7,n=t?u-1:0,a=t?-1:1,l=r[e+n];for(n+=a,m=l&(1<<-C)-1,l>>=-C,C+=h;C>0;m=m*256+r[e+n],n+=a,C-=8);for(_=m&(1<<-C)-1,m>>=-C,C+=i;C>0;_=_*256+r[e+n],n+=a,C-=8);if(m===0)m=1-b;else{if(m===v)return _?NaN:(l?-1:1)*(1/0);_=_+Math.pow(2,i),m=m-b}return(l?-1:1)*_*Math.pow(2,m-i)};ln.write=function(r,e,t,i,u,m){var _,h,v,b=m*8-u-1,C=(1<<b)-1,n=C>>1,a=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=i?0:m-1,y=i?1:-1,T=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,_=C):(_=Math.floor(Math.log(e)/Math.LN2),e*(v=Math.pow(2,-_))<1&&(_--,v*=2),_+n>=1?e+=a/v:e+=a*Math.pow(2,1-n),e*v>=2&&(_++,v/=2),_+n>=C?(h=0,_=C):_+n>=1?(h=(e*v-1)*Math.pow(2,u),_=_+n):(h=e*Math.pow(2,n-1)*Math.pow(2,u),_=0));u>=8;r[t+l]=h&255,l+=y,h/=256,u-=8);for(_=_<<u|h,b+=u;b>0;r[t+l]=_&255,l+=y,_/=256,b-=8);r[t+l-y]|=T*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const e=Ct,t=ln,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=h,r.SlowBuffer=L,r.INSPECT_MAX_BYTES=50;const u=2147483647;r.kMaxLength=u,h.TYPED_ARRAY_SUPPORT=m(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const c=new Uint8Array(1),o={foo:function(){return 42}};return Object.setPrototypeOf(o,Uint8Array.prototype),Object.setPrototypeOf(c,o),c.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function _(c){if(c>u)throw new RangeError('The value "'+c+'" is invalid for option "size"');const o=new Uint8Array(c);return Object.setPrototypeOf(o,h.prototype),o}function h(c,o,s){if(typeof c=="number"){if(typeof o=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return n(c)}return v(c,o,s)}h.poolSize=8192;function v(c,o,s){if(typeof c=="string")return a(c,o);if(ArrayBuffer.isView(c))return y(c);if(c==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c);if(_e(c,ArrayBuffer)||c&&_e(c.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(_e(c,SharedArrayBuffer)||c&&_e(c.buffer,SharedArrayBuffer)))return T(c,o,s);if(typeof c=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const p=c.valueOf&&c.valueOf();if(p!=null&&p!==c)return h.from(p,o,s);const x=S(c);if(x)return x;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof c[Symbol.toPrimitive]=="function")return h.from(c[Symbol.toPrimitive]("string"),o,s);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof c)}h.from=function(c,o,s){return v(c,o,s)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function b(c){if(typeof c!="number")throw new TypeError('"size" argument must be of type number');if(c<0)throw new RangeError('The value "'+c+'" is invalid for option "size"')}function C(c,o,s){return b(c),c<=0?_(c):o!==void 0?typeof s=="string"?_(c).fill(o,s):_(c).fill(o):_(c)}h.alloc=function(c,o,s){return C(c,o,s)};function n(c){return b(c),_(c<0?0:I(c)|0)}h.allocUnsafe=function(c){return n(c)},h.allocUnsafeSlow=function(c){return n(c)};function a(c,o){if((typeof o!="string"||o==="")&&(o="utf8"),!h.isEncoding(o))throw new TypeError("Unknown encoding: "+o);const s=M(c,o)|0;let p=_(s);const x=p.write(c,o);return x!==s&&(p=p.slice(0,x)),p}function l(c){const o=c.length<0?0:I(c.length)|0,s=_(o);for(let p=0;p<o;p+=1)s[p]=c[p]&255;return s}function y(c){if(_e(c,Uint8Array)){const o=new Uint8Array(c);return T(o.buffer,o.byteOffset,o.byteLength)}return l(c)}function T(c,o,s){if(o<0||c.byteLength<o)throw new RangeError('"offset" is outside of buffer bounds');if(c.byteLength<o+(s||0))throw new RangeError('"length" is outside of buffer bounds');let p;return o===void 0&&s===void 0?p=new Uint8Array(c):s===void 0?p=new Uint8Array(c,o):p=new Uint8Array(c,o,s),Object.setPrototypeOf(p,h.prototype),p}function S(c){if(h.isBuffer(c)){const o=I(c.length)|0,s=_(o);return s.length===0||c.copy(s,0,0,o),s}if(c.length!==void 0)return typeof c.length!="number"||Ge(c.length)?_(0):l(c);if(c.type==="Buffer"&&Array.isArray(c.data))return l(c.data)}function I(c){if(c>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return c|0}function L(c){return+c!=c&&(c=0),h.alloc(+c)}h.isBuffer=function(o){return o!=null&&o._isBuffer===!0&&o!==h.prototype},h.compare=function(o,s){if(_e(o,Uint8Array)&&(o=h.from(o,o.offset,o.byteLength)),_e(s,Uint8Array)&&(s=h.from(s,s.offset,s.byteLength)),!h.isBuffer(o)||!h.isBuffer(s))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(o===s)return 0;let p=o.length,x=s.length;for(let B=0,k=Math.min(p,x);B<k;++B)if(o[B]!==s[B]){p=o[B],x=s[B];break}return p<x?-1:x<p?1:0},h.isEncoding=function(o){switch(String(o).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(o,s){if(!Array.isArray(o))throw new TypeError('"list" argument must be an Array of Buffers');if(o.length===0)return h.alloc(0);let p;if(s===void 0)for(s=0,p=0;p<o.length;++p)s+=o[p].length;const x=h.allocUnsafe(s);let B=0;for(p=0;p<o.length;++p){let k=o[p];if(_e(k,Uint8Array))B+k.length>x.length?(h.isBuffer(k)||(k=h.from(k)),k.copy(x,B)):Uint8Array.prototype.set.call(x,k,B);else if(h.isBuffer(k))k.copy(x,B);else throw new TypeError('"list" argument must be an Array of Buffers');B+=k.length}return x};function M(c,o){if(h.isBuffer(c))return c.length;if(ArrayBuffer.isView(c)||_e(c,ArrayBuffer))return c.byteLength;if(typeof c!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof c);const s=c.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&s===0)return 0;let x=!1;for(;;)switch(o){case"ascii":case"latin1":case"binary":return s;case"utf8":case"utf-8":return Ve(c).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s*2;case"hex":return s>>>1;case"base64":return qe(c).length;default:if(x)return p?-1:Ve(c).length;o=(""+o).toLowerCase(),x=!0}}h.byteLength=M;function J(c,o,s){let p=!1;if((o===void 0||o<0)&&(o=0),o>this.length||((s===void 0||s>this.length)&&(s=this.length),s<=0)||(s>>>=0,o>>>=0,s<=o))return"";for(c||(c="utf8");;)switch(c){case"hex":return Ut(this,o,s);case"utf8":case"utf-8":return he(this,o,s);case"ascii":return Be(this,o,s);case"latin1":case"binary":return lt(this,o,s);case"base64":return pe(this,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $t(this,o,s);default:if(p)throw new TypeError("Unknown encoding: "+c);c=(c+"").toLowerCase(),p=!0}}h.prototype._isBuffer=!0;function O(c,o,s){const p=c[o];c[o]=c[s],c[s]=p}h.prototype.swap16=function(){const o=this.length;if(o%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let s=0;s<o;s+=2)O(this,s,s+1);return this},h.prototype.swap32=function(){const o=this.length;if(o%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let s=0;s<o;s+=4)O(this,s,s+3),O(this,s+1,s+2);return this},h.prototype.swap64=function(){const o=this.length;if(o%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let s=0;s<o;s+=8)O(this,s,s+7),O(this,s+1,s+6),O(this,s+2,s+5),O(this,s+3,s+4);return this},h.prototype.toString=function(){const o=this.length;return o===0?"":arguments.length===0?he(this,0,o):J.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(o){if(!h.isBuffer(o))throw new TypeError("Argument must be a Buffer");return this===o?!0:h.compare(this,o)===0},h.prototype.inspect=function(){let o="";const s=r.INSPECT_MAX_BYTES;return o=this.toString("hex",0,s).replace(/(.{2})/g,"$1 ").trim(),this.length>s&&(o+=" ... "),"<Buffer "+o+">"},i&&(h.prototype[i]=h.prototype.inspect),h.prototype.compare=function(o,s,p,x,B){if(_e(o,Uint8Array)&&(o=h.from(o,o.offset,o.byteLength)),!h.isBuffer(o))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof o);if(s===void 0&&(s=0),p===void 0&&(p=o?o.length:0),x===void 0&&(x=0),B===void 0&&(B=this.length),s<0||p>o.length||x<0||B>this.length)throw new RangeError("out of range index");if(x>=B&&s>=p)return 0;if(x>=B)return-1;if(s>=p)return 1;if(s>>>=0,p>>>=0,x>>>=0,B>>>=0,this===o)return 0;let k=B-x,G=p-s;const ne=Math.min(k,G),ee=this.slice(x,B),te=o.slice(s,p);for(let z=0;z<ne;++z)if(ee[z]!==te[z]){k=ee[z],G=te[z];break}return k<G?-1:G<k?1:0};function $(c,o,s,p,x){if(c.length===0)return-1;if(typeof s=="string"?(p=s,s=0):s>2147483647?s=2147483647:s<-2147483648&&(s=-2147483648),s=+s,Ge(s)&&(s=x?0:c.length-1),s<0&&(s=c.length+s),s>=c.length){if(x)return-1;s=c.length-1}else if(s<0)if(x)s=0;else return-1;if(typeof o=="string"&&(o=h.from(o,p)),h.isBuffer(o))return o.length===0?-1:V(c,o,s,p,x);if(typeof o=="number")return o=o&255,typeof Uint8Array.prototype.indexOf=="function"?x?Uint8Array.prototype.indexOf.call(c,o,s):Uint8Array.prototype.lastIndexOf.call(c,o,s):V(c,[o],s,p,x);throw new TypeError("val must be string, number or Buffer")}function V(c,o,s,p,x){let B=1,k=c.length,G=o.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(c.length<2||o.length<2)return-1;B=2,k/=2,G/=2,s/=2}function ne(te,z){return B===1?te[z]:te.readUInt16BE(z*B)}let ee;if(x){let te=-1;for(ee=s;ee<k;ee++)if(ne(c,ee)===ne(o,te===-1?0:ee-te)){if(te===-1&&(te=ee),ee-te+1===G)return te*B}else te!==-1&&(ee-=ee-te),te=-1}else for(s+G>k&&(s=k-G),ee=s;ee>=0;ee--){let te=!0;for(let z=0;z<G;z++)if(ne(c,ee+z)!==ne(o,z)){te=!1;break}if(te)return ee}return-1}h.prototype.includes=function(o,s,p){return this.indexOf(o,s,p)!==-1},h.prototype.indexOf=function(o,s,p){return $(this,o,s,p,!0)},h.prototype.lastIndexOf=function(o,s,p){return $(this,o,s,p,!1)};function q(c,o,s,p){s=Number(s)||0;const x=c.length-s;p?(p=Number(p),p>x&&(p=x)):p=x;const B=o.length;p>B/2&&(p=B/2);let k;for(k=0;k<p;++k){const G=parseInt(o.substr(k*2,2),16);if(Ge(G))return k;c[s+k]=G}return k}function H(c,o,s,p){return Ce(Ve(o,c.length-s),c,s,p)}function oe(c,o,s,p){return Ce(He(o),c,s,p)}function se(c,o,s,p){return Ce(qe(o),c,s,p)}function le(c,o,s,p){return Ce(et(o,c.length-s),c,s,p)}h.prototype.write=function(o,s,p,x){if(s===void 0)x="utf8",p=this.length,s=0;else if(p===void 0&&typeof s=="string")x=s,p=this.length,s=0;else if(isFinite(s))s=s>>>0,isFinite(p)?(p=p>>>0,x===void 0&&(x="utf8")):(x=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const B=this.length-s;if((p===void 0||p>B)&&(p=B),o.length>0&&(p<0||s<0)||s>this.length)throw new RangeError("Attempt to write outside buffer bounds");x||(x="utf8");let k=!1;for(;;)switch(x){case"hex":return q(this,o,s,p);case"utf8":case"utf-8":return H(this,o,s,p);case"ascii":case"latin1":case"binary":return oe(this,o,s,p);case"base64":return se(this,o,s,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,o,s,p);default:if(k)throw new TypeError("Unknown encoding: "+x);x=(""+x).toLowerCase(),k=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pe(c,o,s){return o===0&&s===c.length?e.fromByteArray(c):e.fromByteArray(c.slice(o,s))}function he(c,o,s){s=Math.min(c.length,s);const p=[];let x=o;for(;x<s;){const B=c[x];let k=null,G=B>239?4:B>223?3:B>191?2:1;if(x+G<=s){let ne,ee,te,z;switch(G){case 1:B<128&&(k=B);break;case 2:ne=c[x+1],(ne&192)==128&&(z=(B&31)<<6|ne&63,z>127&&(k=z));break;case 3:ne=c[x+1],ee=c[x+2],(ne&192)==128&&(ee&192)==128&&(z=(B&15)<<12|(ne&63)<<6|ee&63,z>2047&&(z<55296||z>57343)&&(k=z));break;case 4:ne=c[x+1],ee=c[x+2],te=c[x+3],(ne&192)==128&&(ee&192)==128&&(te&192)==128&&(z=(B&15)<<18|(ne&63)<<12|(ee&63)<<6|te&63,z>65535&&z<1114112&&(k=z))}}k===null?(k=65533,G=1):k>65535&&(k-=65536,p.push(k>>>10&1023|55296),k=56320|k&1023),p.push(k),x+=G}return Qe(p)}const Se=4096;function Qe(c){const o=c.length;if(o<=Se)return String.fromCharCode.apply(String,c);let s="",p=0;for(;p<o;)s+=String.fromCharCode.apply(String,c.slice(p,p+=Se));return s}function Be(c,o,s){let p="";s=Math.min(c.length,s);for(let x=o;x<s;++x)p+=String.fromCharCode(c[x]&127);return p}function lt(c,o,s){let p="";s=Math.min(c.length,s);for(let x=o;x<s;++x)p+=String.fromCharCode(c[x]);return p}function Ut(c,o,s){const p=c.length;(!o||o<0)&&(o=0),(!s||s<0||s>p)&&(s=p);let x="";for(let B=o;B<s;++B)x+=vt[c[B]];return x}function $t(c,o,s){const p=c.slice(o,s);let x="";for(let B=0;B<p.length-1;B+=2)x+=String.fromCharCode(p[B]+p[B+1]*256);return x}h.prototype.slice=function(o,s){const p=this.length;o=~~o,s=s===void 0?p:~~s,o<0?(o+=p,o<0&&(o=0)):o>p&&(o=p),s<0?(s+=p,s<0&&(s=0)):s>p&&(s=p),s<o&&(s=o);const x=this.subarray(o,s);return Object.setPrototypeOf(x,h.prototype),x};function Z(c,o,s){if(c%1!=0||c<0)throw new RangeError("offset is not uint");if(c+o>s)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(o,s,p){o=o>>>0,s=s>>>0,p||Z(o,s,this.length);let x=this[o],B=1,k=0;for(;++k<s&&(B*=256);)x+=this[o+k]*B;return x},h.prototype.readUintBE=h.prototype.readUIntBE=function(o,s,p){o=o>>>0,s=s>>>0,p||Z(o,s,this.length);let x=this[o+--s],B=1;for(;s>0&&(B*=256);)x+=this[o+--s]*B;return x},h.prototype.readUint8=h.prototype.readUInt8=function(o,s){return o=o>>>0,s||Z(o,1,this.length),this[o]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(o,s){return o=o>>>0,s||Z(o,2,this.length),this[o]|this[o+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(o,s){return o=o>>>0,s||Z(o,2,this.length),this[o]<<8|this[o+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(o,s){return o=o>>>0,s||Z(o,4,this.length),(this[o]|this[o+1]<<8|this[o+2]<<16)+this[o+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(o,s){return o=o>>>0,s||Z(o,4,this.length),this[o]*16777216+(this[o+1]<<16|this[o+2]<<8|this[o+3])},h.prototype.readBigUInt64LE=ve(function(o){o=o>>>0,Re(o,"offset");const s=this[o],p=this[o+7];(s===void 0||p===void 0)&&Le(o,this.length-8);const x=s+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24,B=this[++o]+this[++o]*2**8+this[++o]*2**16+p*2**24;return BigInt(x)+(BigInt(B)<<BigInt(32))}),h.prototype.readBigUInt64BE=ve(function(o){o=o>>>0,Re(o,"offset");const s=this[o],p=this[o+7];(s===void 0||p===void 0)&&Le(o,this.length-8);const x=s*2**24+this[++o]*2**16+this[++o]*2**8+this[++o],B=this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+p;return(BigInt(x)<<BigInt(32))+BigInt(B)}),h.prototype.readIntLE=function(o,s,p){o=o>>>0,s=s>>>0,p||Z(o,s,this.length);let x=this[o],B=1,k=0;for(;++k<s&&(B*=256);)x+=this[o+k]*B;return B*=128,x>=B&&(x-=Math.pow(2,8*s)),x},h.prototype.readIntBE=function(o,s,p){o=o>>>0,s=s>>>0,p||Z(o,s,this.length);let x=s,B=1,k=this[o+--x];for(;x>0&&(B*=256);)k+=this[o+--x]*B;return B*=128,k>=B&&(k-=Math.pow(2,8*s)),k},h.prototype.readInt8=function(o,s){return o=o>>>0,s||Z(o,1,this.length),this[o]&128?(255-this[o]+1)*-1:this[o]},h.prototype.readInt16LE=function(o,s){o=o>>>0,s||Z(o,2,this.length);const p=this[o]|this[o+1]<<8;return p&32768?p|4294901760:p},h.prototype.readInt16BE=function(o,s){o=o>>>0,s||Z(o,2,this.length);const p=this[o+1]|this[o]<<8;return p&32768?p|4294901760:p},h.prototype.readInt32LE=function(o,s){return o=o>>>0,s||Z(o,4,this.length),this[o]|this[o+1]<<8|this[o+2]<<16|this[o+3]<<24},h.prototype.readInt32BE=function(o,s){return o=o>>>0,s||Z(o,4,this.length),this[o]<<24|this[o+1]<<16|this[o+2]<<8|this[o+3]},h.prototype.readBigInt64LE=ve(function(o){o=o>>>0,Re(o,"offset");const s=this[o],p=this[o+7];(s===void 0||p===void 0)&&Le(o,this.length-8);const x=this[o+4]+this[o+5]*2**8+this[o+6]*2**16+(p<<24);return(BigInt(x)<<BigInt(32))+BigInt(s+this[++o]*2**8+this[++o]*2**16+this[++o]*2**24)}),h.prototype.readBigInt64BE=ve(function(o){o=o>>>0,Re(o,"offset");const s=this[o],p=this[o+7];(s===void 0||p===void 0)&&Le(o,this.length-8);const x=(s<<24)+this[++o]*2**16+this[++o]*2**8+this[++o];return(BigInt(x)<<BigInt(32))+BigInt(this[++o]*2**24+this[++o]*2**16+this[++o]*2**8+p)}),h.prototype.readFloatLE=function(o,s){return o=o>>>0,s||Z(o,4,this.length),t.read(this,o,!0,23,4)},h.prototype.readFloatBE=function(o,s){return o=o>>>0,s||Z(o,4,this.length),t.read(this,o,!1,23,4)},h.prototype.readDoubleLE=function(o,s){return o=o>>>0,s||Z(o,8,this.length),t.read(this,o,!0,52,8)},h.prototype.readDoubleBE=function(o,s){return o=o>>>0,s||Z(o,8,this.length),t.read(this,o,!1,52,8)};function ae(c,o,s,p,x,B){if(!h.isBuffer(c))throw new TypeError('"buffer" argument must be a Buffer instance');if(o>x||o<B)throw new RangeError('"value" argument is out of bounds');if(s+p>c.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(o,s,p,x){if(o=+o,s=s>>>0,p=p>>>0,!x){const G=Math.pow(2,8*p)-1;ae(this,o,s,p,G,0)}let B=1,k=0;for(this[s]=o&255;++k<p&&(B*=256);)this[s+k]=o/B&255;return s+p},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(o,s,p,x){if(o=+o,s=s>>>0,p=p>>>0,!x){const G=Math.pow(2,8*p)-1;ae(this,o,s,p,G,0)}let B=p-1,k=1;for(this[s+B]=o&255;--B>=0&&(k*=256);)this[s+B]=o/k&255;return s+p},h.prototype.writeUint8=h.prototype.writeUInt8=function(o,s,p){return o=+o,s=s>>>0,p||ae(this,o,s,1,255,0),this[s]=o&255,s+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(o,s,p){return o=+o,s=s>>>0,p||ae(this,o,s,2,65535,0),this[s]=o&255,this[s+1]=o>>>8,s+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(o,s,p){return o=+o,s=s>>>0,p||ae(this,o,s,2,65535,0),this[s]=o>>>8,this[s+1]=o&255,s+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(o,s,p){return o=+o,s=s>>>0,p||ae(this,o,s,4,4294967295,0),this[s+3]=o>>>24,this[s+2]=o>>>16,this[s+1]=o>>>8,this[s]=o&255,s+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(o,s,p){return o=+o,s=s>>>0,p||ae(this,o,s,4,4294967295,0),this[s]=o>>>24,this[s+1]=o>>>16,this[s+2]=o>>>8,this[s+3]=o&255,s+4};function ht(c,o,s,p,x){gt(o,p,x,c,s,7);let B=Number(o&BigInt(4294967295));c[s++]=B,B=B>>8,c[s++]=B,B=B>>8,c[s++]=B,B=B>>8,c[s++]=B;let k=Number(o>>BigInt(32)&BigInt(4294967295));return c[s++]=k,k=k>>8,c[s++]=k,k=k>>8,c[s++]=k,k=k>>8,c[s++]=k,s}function dt(c,o,s,p,x){gt(o,p,x,c,s,7);let B=Number(o&BigInt(4294967295));c[s+7]=B,B=B>>8,c[s+6]=B,B=B>>8,c[s+5]=B,B=B>>8,c[s+4]=B;let k=Number(o>>BigInt(32)&BigInt(4294967295));return c[s+3]=k,k=k>>8,c[s+2]=k,k=k>>8,c[s+1]=k,k=k>>8,c[s]=k,s+8}h.prototype.writeBigUInt64LE=ve(function(o,s=0){return ht(this,o,s,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=ve(function(o,s=0){return dt(this,o,s,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(o,s,p,x){if(o=+o,s=s>>>0,!x){const ne=Math.pow(2,8*p-1);ae(this,o,s,p,ne-1,-ne)}let B=0,k=1,G=0;for(this[s]=o&255;++B<p&&(k*=256);)o<0&&G===0&&this[s+B-1]!==0&&(G=1),this[s+B]=(o/k>>0)-G&255;return s+p},h.prototype.writeIntBE=function(o,s,p,x){if(o=+o,s=s>>>0,!x){const ne=Math.pow(2,8*p-1);ae(this,o,s,p,ne-1,-ne)}let B=p-1,k=1,G=0;for(this[s+B]=o&255;--B>=0&&(k*=256);)o<0&&G===0&&this[s+B+1]!==0&&(G=1),this[s+B]=(o/k>>0)-G&255;return s+p},h.prototype.writeInt8=function(o,s,p){return o=+o,s=s>>>0,p||ae(this,o,s,1,127,-128),o<0&&(o=255+o+1),this[s]=o&255,s+1},h.prototype.writeInt16LE=function(o,s,p){return o=+o,s=s>>>0,p||ae(this,o,s,2,32767,-32768),this[s]=o&255,this[s+1]=o>>>8,s+2},h.prototype.writeInt16BE=function(o,s,p){return o=+o,s=s>>>0,p||ae(this,o,s,2,32767,-32768),this[s]=o>>>8,this[s+1]=o&255,s+2},h.prototype.writeInt32LE=function(o,s,p){return o=+o,s=s>>>0,p||ae(this,o,s,4,2147483647,-2147483648),this[s]=o&255,this[s+1]=o>>>8,this[s+2]=o>>>16,this[s+3]=o>>>24,s+4},h.prototype.writeInt32BE=function(o,s,p){return o=+o,s=s>>>0,p||ae(this,o,s,4,2147483647,-2147483648),o<0&&(o=4294967295+o+1),this[s]=o>>>24,this[s+1]=o>>>16,this[s+2]=o>>>8,this[s+3]=o&255,s+4},h.prototype.writeBigInt64LE=ve(function(o,s=0){return ht(this,o,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=ve(function(o,s=0){return dt(this,o,s,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pt(c,o,s,p,x,B){if(s+p>c.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("Index out of range")}function _t(c,o,s,p,x){return o=+o,s=s>>>0,x||pt(c,o,s,4),t.write(c,o,s,p,23,4),s+4}h.prototype.writeFloatLE=function(o,s,p){return _t(this,o,s,!0,p)},h.prototype.writeFloatBE=function(o,s,p){return _t(this,o,s,!1,p)};function mt(c,o,s,p,x){return o=+o,s=s>>>0,x||pt(c,o,s,8),t.write(c,o,s,p,52,8),s+8}h.prototype.writeDoubleLE=function(o,s,p){return mt(this,o,s,!0,p)},h.prototype.writeDoubleBE=function(o,s,p){return mt(this,o,s,!1,p)},h.prototype.copy=function(o,s,p,x){if(!h.isBuffer(o))throw new TypeError("argument should be a Buffer");if(p||(p=0),!x&&x!==0&&(x=this.length),s>=o.length&&(s=o.length),s||(s=0),x>0&&x<p&&(x=p),x===p||o.length===0||this.length===0)return 0;if(s<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("sourceEnd out of bounds");x>this.length&&(x=this.length),o.length-s<x-p&&(x=o.length-s+p);const B=x-p;return this===o&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(s,p,x):Uint8Array.prototype.set.call(o,this.subarray(p,x),s),B},h.prototype.fill=function(o,s,p,x){if(typeof o=="string"){if(typeof s=="string"?(x=s,s=0,p=this.length):typeof p=="string"&&(x=p,p=this.length),x!==void 0&&typeof x!="string")throw new TypeError("encoding must be a string");if(typeof x=="string"&&!h.isEncoding(x))throw new TypeError("Unknown encoding: "+x);if(o.length===1){const k=o.charCodeAt(0);(x==="utf8"&&k<128||x==="latin1")&&(o=k)}}else typeof o=="number"?o=o&255:typeof o=="boolean"&&(o=Number(o));if(s<0||this.length<s||this.length<p)throw new RangeError("Out of range index");if(p<=s)return this;s=s>>>0,p=p===void 0?this.length:p>>>0,o||(o=0);let B;if(typeof o=="number")for(B=s;B<p;++B)this[B]=o;else{const k=h.isBuffer(o)?o:h.from(o,x),G=k.length;if(G===0)throw new TypeError('The value "'+o+'" is invalid for argument "value"');for(B=0;B<p-s;++B)this[B+s]=k[B%G]}return this};const ke={};function Ze(c,o,s){ke[c]=class extends s{constructor(){super();Object.defineProperty(this,"message",{value:o.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${c}]`,this.stack,delete this.name}get code(){return c}set code(x){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:x,writable:!0})}toString(){return`${this.name} [${c}]: ${this.message}`}}}Ze("ERR_BUFFER_OUT_OF_BOUNDS",function(c){return c?`${c} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ze("ERR_INVALID_ARG_TYPE",function(c,o){return`The "${c}" argument must be of type number. Received type ${typeof o}`},TypeError),Ze("ERR_OUT_OF_RANGE",function(c,o,s){let p=`The value of "${c}" is out of range.`,x=s;return Number.isInteger(s)&&Math.abs(s)>2**32?x=yt(String(s)):typeof s=="bigint"&&(x=String(s),(s>BigInt(2)**BigInt(32)||s<-(BigInt(2)**BigInt(32)))&&(x=yt(x)),x+="n"),p+=` It must be ${o}. Received ${x}`,p},RangeError);function yt(c){let o="",s=c.length;const p=c[0]==="-"?1:0;for(;s>=p+4;s-=3)o=`_${c.slice(s-3,s)}${o}`;return`${c.slice(0,s)}${o}`}function Vt(c,o,s){Re(o,"offset"),(c[o]===void 0||c[o+s]===void 0)&&Le(o,c.length-(s+1))}function gt(c,o,s,p,x,B){if(c>s||c<o){const k=typeof o=="bigint"?"n":"";let G;throw B>3?o===0||o===BigInt(0)?G=`>= 0${k} and < 2${k} ** ${(B+1)*8}${k}`:G=`>= -(2${k} ** ${(B+1)*8-1}${k}) and < 2 ** ${(B+1)*8-1}${k}`:G=`>= ${o}${k} and <= ${s}${k}`,new ke.ERR_OUT_OF_RANGE("value",G,c)}Vt(p,x,B)}function Re(c,o){if(typeof c!="number")throw new ke.ERR_INVALID_ARG_TYPE(o,"number",c)}function Le(c,o,s){throw Math.floor(c)!==c?(Re(c,s),new ke.ERR_OUT_OF_RANGE(s||"offset","an integer",c)):o<0?new ke.ERR_BUFFER_OUT_OF_BOUNDS:new ke.ERR_OUT_OF_RANGE(s||"offset",`>= ${s?1:0} and <= ${o}`,c)}const xe=/[^+/0-9A-Za-z-_]/g;function Ht(c){if(c=c.split("=")[0],c=c.trim().replace(xe,""),c.length<2)return"";for(;c.length%4!=0;)c=c+"=";return c}function Ve(c,o){o=o||1/0;let s;const p=c.length;let x=null;const B=[];for(let k=0;k<p;++k){if(s=c.charCodeAt(k),s>55295&&s<57344){if(!x){if(s>56319){(o-=3)>-1&&B.push(239,191,189);continue}else if(k+1===p){(o-=3)>-1&&B.push(239,191,189);continue}x=s;continue}if(s<56320){(o-=3)>-1&&B.push(239,191,189),x=s;continue}s=(x-55296<<10|s-56320)+65536}else x&&(o-=3)>-1&&B.push(239,191,189);if(x=null,s<128){if((o-=1)<0)break;B.push(s)}else if(s<2048){if((o-=2)<0)break;B.push(s>>6|192,s&63|128)}else if(s<65536){if((o-=3)<0)break;B.push(s>>12|224,s>>6&63|128,s&63|128)}else if(s<1114112){if((o-=4)<0)break;B.push(s>>18|240,s>>12&63|128,s>>6&63|128,s&63|128)}else throw new Error("Invalid code point")}return B}function He(c){const o=[];for(let s=0;s<c.length;++s)o.push(c.charCodeAt(s)&255);return o}function et(c,o){let s,p,x;const B=[];for(let k=0;k<c.length&&!((o-=2)<0);++k)s=c.charCodeAt(k),p=s>>8,x=s%256,B.push(x),B.push(p);return B}function qe(c){return e.toByteArray(Ht(c))}function Ce(c,o,s,p){let x;for(x=0;x<p&&!(x+s>=o.length||x>=c.length);++x)o[x+s]=c[x];return x}function _e(c,o){return c instanceof o||c!=null&&c.constructor!=null&&c.constructor.name!=null&&c.constructor.name===o.name}function Ge(c){return c!==c}const vt=function(){const c="0123456789abcdef",o=new Array(256);for(let s=0;s<16;++s){const p=s*16;for(let x=0;x<16;++x)o[p+x]=c[s]+c[x]}return o}();function ve(c){return typeof BigInt=="undefined"?wt:c}function wt(){throw new Error("BigInt not supported")}})(Vn);const Qi=6e4,Zi=3*6e4;class Vs extends ot.exports.EventEmitter{constructor(e,t={}){super();Y(this,"peer");Y(this,"maxConnections",6);Y(this,"syncMS",Qi);Y(this,"messageLastSeenDeleteMS",Zi);Y(this,"messageId",0);Y(this,"messages",new Map);Y(this,"payloadsToSend",[]);Y(this,"onData",(e,t)=>{if(typeof e=="string"||Vn.Buffer.isBuffer(e)){const i=JSON.parse(e.toString()),u=`${i.from}-${i.id}`;this.messages.has(u)||(this.messages.set(u,Date.now()),this.peer.broadcast(e),this.emit("data",i.payload,i.from))}});Y(this,"onDiscover",e=>{this.peer.getConnections().has(e)||(this.needsConnection()?this.peer.connectToInBackground(e):this.peer.connectTo(e).then(()=>{const t=Array.from(this.peer.getConnections().keys());t.length>1&&this.peer.disconnectFrom(qn(t,e))}))});Y(this,"onConnection",()=>{this.payloadsToSend.length&&(this.payloadsToSend.forEach(e=>this.broadcastInternal(e)),this.payloadsToSend.length=0)});Y(this,"onSync",()=>{this.needsConnection()&&this.peer.announce(),this.cleanOldMessages(),this.sync()});this.peer=e,this.peer.on("data",this.onData),this.peer.on("join",this.onDiscover),this.peer.on("announce",this.onDiscover),this.peer.on("connection",this.onConnection),this.peer.once("connect",this.onSync),typeof t.maxConnections=="number"&&t.maxConnections>0&&(this.maxConnections=t.maxConnections),typeof t.syncMS=="number"&&t.syncMS>5e3&&(this.syncMS=t.syncMS),typeof t.messageLastSeenDeleteMS=="number"&&t.messageLastSeenDeleteMS>0&&(this.messageLastSeenDeleteMS=t.messageLastSeenDeleteMS),this.sync()}getPeer(){return this.peer}broadcast(e){if(this.peer.getConnections().size===0)this.payloadsToSend.push(e);else return this.broadcastInternal(e)}broadcastInternal(e){const t=this.peer.getId(),i=this.messageId++,u=`${t}-${i}`;return this.messages.set(u,Date.now()),this.peer.broadcast(JSON.stringify({id:i,from:t,payload:e})),this}needsConnection(){return this.peer.getConnections().size<this.maxConnections}sync(){setTimeout(this.onSync,$i(this.syncMS*.5,this.syncMS))}cleanOldMessages(){if(this.messages.size){const e=Date.now();for(const[t,i]of this.messages.entries())e-i>this.messageLastSeenDeleteMS&&this.messages.delete(t)}}}function qn(r,e){const t=Vi(r).unwrap();return t===e?qn(r,e):t}var eo=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,to=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],hn=function(e){var t=e,i=e.indexOf("["),u=e.indexOf("]");i!=-1&&u!=-1&&(e=e.substring(0,i)+e.substring(i,u).replace(/:/g,";")+e.substring(u,e.length));for(var m=eo.exec(e||""),_={},h=14;h--;)_[to[h]]=m[h]||"";return i!=-1&&u!=-1&&(_.source=t,_.host=_.host.substring(1,_.host.length-1).replace(/;/g,":"),_.authority=_.authority.replace("[","").replace("]","").replace(/;/g,":"),_.ipv6uri=!0),_.pathNames=no(_,_.path),_.queryKey=ro(_,_.query),_};function no(r,e){var t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.substr(0,1)=="/"||e.length===0)&&i.splice(0,1),e.substr(e.length-1,1)=="/"&&i.splice(i.length-1,1),i}function ro(r,e){var t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,u,m){u&&(t[u]=m)}),t}function io(r,e="",t){let i=r;t=t||typeof location!="undefined"&&location,r==null&&(r=t.protocol+"//"+t.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=t.protocol+r:r=t.host+r),/^(https?|wss?):\/\//.test(r)||(typeof t!="undefined"?r=t.protocol+"//"+r:r="https://"+r),i=hn(r)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const m=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+m+":"+i.port+e,i.href=i.protocol+"://"+m+(t&&t.port===i.port?"":":"+i.port),i}var dn={exports:{}};try{dn.exports=typeof XMLHttpRequest!="undefined"&&"withCredentials"in new XMLHttpRequest}catch{dn.exports=!1}var oo=dn.exports,Fe=(()=>typeof self!="undefined"?self:typeof window!="undefined"?window:Function("return this")())();function Gn(r){const e=r.xdomain;try{if(typeof XMLHttpRequest!="undefined"&&(!e||oo))return new XMLHttpRequest}catch{}if(!e)try{return new Fe[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function Wn(r,...e){return e.reduce((t,i)=>(r.hasOwnProperty(i)&&(t[i]=r[i]),t),{})}const so=setTimeout,ao=clearTimeout;function Nt(r,e){e.useNativeTimers?(r.setTimeoutFn=so.bind(Fe),r.clearTimeoutFn=ao.bind(Fe)):(r.setTimeoutFn=setTimeout.bind(Fe),r.clearTimeoutFn=clearTimeout.bind(Fe))}var ze=de;function de(r){if(r)return uo(r)}function uo(r){for(var e in de.prototype)r[e]=de.prototype[e];return r}de.prototype.on=de.prototype.addEventListener=function(r,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(e),this};de.prototype.once=function(r,e){function t(){this.off(r,t),e.apply(this,arguments)}return t.fn=e,this.on(r,t),this};de.prototype.off=de.prototype.removeListener=de.prototype.removeAllListeners=de.prototype.removeEventListener=function(r,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+r];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var i,u=0;u<t.length;u++)if(i=t[u],i===e||i.fn===e){t.splice(u,1);break}return t.length===0&&delete this._callbacks["$"+r],this};de.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+r],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,u=t.length;i<u;++i)t[i].apply(this,e)}return this};de.prototype.emitReserved=de.prototype.emit;de.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]};de.prototype.hasListeners=function(r){return!!this.listeners(r).length};const Ae=Object.create(null);Ae.open="0";Ae.close="1";Ae.ping="2";Ae.pong="3";Ae.message="4";Ae.upgrade="5";Ae.noop="6";const Ot=Object.create(null);Object.keys(Ae).forEach(r=>{Ot[Ae[r]]=r});const co={type:"error",data:"parser error"},fo=typeof Blob=="function"||typeof Blob!="undefined"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",lo=typeof ArrayBuffer=="function",ho=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,Yn=({type:r,data:e},t,i)=>fo&&e instanceof Blob?t?i(e):Jn(e,i):lo&&(e instanceof ArrayBuffer||ho(e))?t?i(e):Jn(new Blob([e]),i):i(Ae[r]+(e||"")),Jn=(r,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+i)},t.readAsDataURL(r)};var Xn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",at=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var Ft=0;Ft<Xn.length;Ft++)at[Xn.charCodeAt(Ft)]=Ft;var po=function(r){var e=r.length*.75,t=r.length,i,u=0,m,_,h,v;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var b=new ArrayBuffer(e),C=new Uint8Array(b);for(i=0;i<t;i+=4)m=at[r.charCodeAt(i)],_=at[r.charCodeAt(i+1)],h=at[r.charCodeAt(i+2)],v=at[r.charCodeAt(i+3)],C[u++]=m<<2|_>>4,C[u++]=(_&15)<<4|h>>2,C[u++]=(h&3)<<6|v&63;return b};const _o=typeof ArrayBuffer=="function",Kn=(r,e)=>{if(typeof r!="string")return{type:"message",data:zn(r,e)};const t=r.charAt(0);return t==="b"?{type:"message",data:mo(r.substring(1),e)}:Ot[t]?r.length>1?{type:Ot[t],data:r.substring(1)}:{type:Ot[t]}:co},mo=(r,e)=>{if(_o){const t=po(r);return zn(t,e)}else return{base64:!0,data:r}},zn=(r,e)=>{switch(e){case"blob":return r instanceof ArrayBuffer?new Blob([r]):r;case"arraybuffer":default:return r}},jn=String.fromCharCode(30),yo=(r,e)=>{const t=r.length,i=new Array(t);let u=0;r.forEach((m,_)=>{Yn(m,!1,h=>{i[_]=h,++u===t&&e(i.join(jn))})})},go=(r,e)=>{const t=r.split(jn),i=[];for(let u=0;u<t.length;u++){const m=Kn(t[u],e);if(i.push(m),m.type==="error")break}return i},Qn=4;class Zn extends ze{constructor(e){super();this.writable=!1,Nt(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const i=new Error(e);return i.type="TransportError",i.description=t,super.emit("error",i),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(e){const t=Kn(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emit("packet",e)}onClose(){this.readyState="closed",super.emit("close")}}var er="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Pt=64,tr={},nr=0,Pe=0,rr;function pn(r){var e="";do e=er[r%Pt]+e,r=Math.floor(r/Pt);while(r>0);return e}function vo(r){var e=0;for(Pe=0;Pe<r.length;Pe++)e=e*Pt+tr[r.charAt(Pe)];return e}function _n(){var r=pn(+new Date);return r!==rr?(nr=0,rr=r):r+"."+pn(nr++)}for(;Pe<Pt;Pe++)tr[er[Pe]]=Pe;_n.encode=pn;_n.decode=vo;var ir=_n,ut={};ut.encode=function(r){var e="";for(var t in r)r.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(r[t]));return e};ut.decode=function(r){for(var e={},t=r.split("&"),i=0,u=t.length;i<u;i++){var m=t[i].split("=");e[decodeURIComponent(m[0])]=decodeURIComponent(m[1])}return e};class wo extends Zn{constructor(){super(...arguments);this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose(),!1;this.onPacket(i)};go(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,yo(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let i="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=ir()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&(t==="https"&&Number(this.opts.port)!==443||t==="http"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port);const u=ut.encode(e),m=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(m?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(u.length?"?"+u:"")}}function xo(){}const bo=function(){return new Gn({xdomain:!1}).responseType!=null}();class Ao extends wo{constructor(e){super(e);if(typeof location!="undefined"){const i=location.protocol==="https:";let u=location.port;u||(u=i?"443":"80"),this.xd=typeof location!="undefined"&&e.hostname!==location.hostname||u!==e.port,this.xs=e.secure!==i}const t=e&&e.forceBase64;this.supportsBinary=bo&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Ee(this.uri(),e)}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",u=>{this.onError("xhr post error",u)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",t=>{this.onError("xhr poll error",t)}),this.pollXhr=e}}class Ee extends ze{constructor(e,t){super();Nt(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=t.async!==!1,this.data=t.data!==void 0?t.data:null,this.create()}create(){const e=Wn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Gn(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let i in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.opts.extraHeaders[i])}}catch{}if(this.method==="POST")try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{t.readyState===4&&(t.status===200||t.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof t.status=="number"?t.status:0)},0))},t.send(this.data)}catch(i){this.setTimeoutFn(()=>{this.onError(i)},0);return}typeof document!="undefined"&&(this.index=Ee.requestsCount++,Ee.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr=="undefined"||this.xhr===null)){if(this.xhr.onreadystatechange=xo,e)try{this.xhr.abort()}catch{}typeof document!="undefined"&&delete Ee.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&this.onData(e)}abort(){this.cleanup()}}Ee.requestsCount=0;Ee.requests={};if(typeof document!="undefined"){if(typeof attachEvent=="function")attachEvent("onunload",or);else if(typeof addEventListener=="function"){const r="onpagehide"in Fe?"pagehide":"unload";addEventListener(r,or,!1)}}function or(){for(let r in Ee.requests)Ee.requests.hasOwnProperty(r)&&Ee.requests[r].abort()}const Eo=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),ct=Fe.WebSocket||Fe.MozWebSocket,sr=!0,So="arraybuffer",ar=typeof navigator!="undefined"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class mn extends Zn{constructor(e){super(e);this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,i=ar?{}:Wn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=sr&&!ar?t?new ct(e,t):new ct(e):new ct(e,t,i)}catch(u){return this.emit("error",u)}this.ws.binaryType=this.socket.binaryType||So,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],u=t===e.length-1;Yn(i,this.supportsBinary,m=>{const _={};try{sr&&this.ws.send(m)}catch{}u&&Eo(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws!="undefined"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let i="";this.opts.port&&(t==="wss"&&Number(this.opts.port)!==443||t==="ws"&&Number(this.opts.port)!==80)&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=ir()),this.supportsBinary||(e.b64=1);const u=ut.encode(e),m=this.opts.hostname.indexOf(":")!==-1;return t+"://"+(m?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(u.length?"?"+u:"")}check(){return!!ct&&!("__initialize"in ct&&this.name===mn.prototype.name)}}const Io={websocket:mn,polling:Ao};class Te extends ze{constructor(e,t={}){super();e&&typeof e=="object"&&(t=e,e=null),e?(e=hn(e),t.hostname=e.host,t.secure=e.protocol==="https"||e.protocol==="wss",t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=hn(t.host).host),Nt(this,t),this.secure=t.secure!=null?t.secure:typeof location!="undefined"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location!="undefined"?location.hostname:"localhost"),this.port=t.port||(typeof location!="undefined"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=ut.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=To(this.opts.query);t.EIO=Qn,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Io[e](i)}open(){let e;if(this.opts.rememberUpgrade&&Te.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else e=this.transports[0];this.readyState="opening";try{e=this.createTransport(e)}catch{this.transports.shift(),this.open();return}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){let t=this.createTransport(e),i=!1;Te.priorWebsocketSuccess=!1;const u=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",n=>{if(!i)if(n.type==="pong"&&n.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Te.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(C(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const a=new Error("probe error");a.transport=t.name,this.emitReserved("upgradeError",a)}}))};function m(){i||(i=!0,C(),t.close(),t=null)}const _=n=>{const a=new Error("probe error: "+n);a.transport=t.name,m(),this.emitReserved("upgradeError",a)};function h(){_("transport closed")}function v(){_("socket closed")}function b(n){t&&n.name!==t.name&&m()}const C=()=>{t.removeListener("open",u),t.removeListener("error",_),t.removeListener("close",h),this.off("close",v),this.off("upgrading",b)};t.once("open",u),t.once("error",_),t.once("close",h),this.once("close",v),this.once("upgrading",b),t.open()}onOpen(){if(this.readyState="open",Te.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,t,i){return this.sendPacket("message",e,t,i),this}send(e,t,i){return this.sendPacket("message",e,t,i),this}sendPacket(e,t,i,u){if(typeof t=="function"&&(u=t,t=void 0),typeof i=="function"&&(u=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const m={type:e,data:t,options:i};this.emitReserved("packetCreate",m),this.writeBuffer.push(m),u&&this.once("flush",u),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}onError(e){Te.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let i=0;const u=e.length;for(;i<u;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}}Te.protocol=Qn;function To(r){const e={};for(let t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}Te.protocol;const Bo=typeof ArrayBuffer=="function",ko=r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,ur=Object.prototype.toString,Ro=typeof Blob=="function"||typeof Blob!="undefined"&&ur.call(Blob)==="[object BlobConstructor]",Co=typeof File=="function"||typeof File!="undefined"&&ur.call(File)==="[object FileConstructor]";function yn(r){return Bo&&(r instanceof ArrayBuffer||ko(r))||Ro&&r instanceof Blob||Co&&r instanceof File}function Lt(r,e){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let t=0,i=r.length;t<i;t++)if(Lt(r[t]))return!0;return!1}if(yn(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Lt(r.toJSON(),!0);for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&Lt(r[t]))return!0;return!1}function No(r){const e=[],t=r.data,i=r;return i.data=gn(t,e),i.attachments=e.length,{packet:i,buffers:e}}function gn(r,e){if(!r)return r;if(yn(r)){const t={_placeholder:!0,num:e.length};return e.push(r),t}else if(Array.isArray(r)){const t=new Array(r.length);for(let i=0;i<r.length;i++)t[i]=gn(r[i],e);return t}else if(typeof r=="object"&&!(r instanceof Date)){const t={};for(const i in r)r.hasOwnProperty(i)&&(t[i]=gn(r[i],e));return t}return r}function Oo(r,e){return r.data=vn(r.data,e),r.attachments=void 0,r}function vn(r,e){if(!r)return r;if(r&&r._placeholder)return e[r.num];if(Array.isArray(r))for(let t=0;t<r.length;t++)r[t]=vn(r[t],e);else if(typeof r=="object")for(const t in r)r.hasOwnProperty(t)&&(r[t]=vn(r[t],e));return r}const Fo=5;var X;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(X||(X={}));class Po{encode(e){return(e.type===X.EVENT||e.type===X.ACK)&&Lt(e)?(e.type=e.type===X.EVENT?X.BINARY_EVENT:X.BINARY_ACK,this.encodeAsBinary(e)):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===X.BINARY_EVENT||e.type===X.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data)),t}encodeAsBinary(e){const t=No(e),i=this.encodeAsString(t.packet),u=t.buffers;return u.unshift(i),u}}class wn extends ze{constructor(){super()}add(e){let t;if(typeof e=="string")t=this.decodeString(e),t.type===X.BINARY_EVENT||t.type===X.BINARY_ACK?(this.reconstructor=new Do(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t);else if(yn(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(X[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===X.BINARY_EVENT||i.type===X.BINARY_ACK){const m=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const _=e.substring(m,t);if(_!=Number(_)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(_)}if(e.charAt(t+1)==="/"){const m=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(m,t)}else i.nsp="/";const u=e.charAt(t+1);if(u!==""&&Number(u)==u){const m=t+1;for(;++t;){const _=e.charAt(t);if(_==null||Number(_)!=_){--t;break}if(t===e.length)break}i.id=Number(e.substring(m,t+1))}if(e.charAt(++t)){const m=Lo(e.substr(t));if(wn.isPayloadValid(i.type,m))i.data=m;else throw new Error("invalid payload")}return i}static isPayloadValid(e,t){switch(e){case X.CONNECT:return typeof t=="object";case X.DISCONNECT:return t===void 0;case X.CONNECT_ERROR:return typeof t=="string"||typeof t=="object";case X.EVENT:case X.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case X.ACK:case X.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}function Lo(r){try{return JSON.parse(r)}catch{return!1}}class Do{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=Oo(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Mo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",protocol:Fo,get PacketType(){return X},Encoder:Po,Decoder:wn});function we(r,e,t){return r.on(e,t),function(){r.off(e,t)}}const Uo=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class cr extends ze{constructor(e,t,i){super();this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[we(e,"open",this.onopen.bind(this)),we(e,"packet",this.onpacket.bind(this)),we(e,"error",this.onerror.bind(this)),we(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Uo.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const i={type:X.EVENT,data:t};i.options={},i.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"&&(this.acks[this.ids]=t.pop(),i.id=this.ids++);const u=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!u||!this.connected)||(this.connected?this.packet(i):this.sendBuffer.push(i)),this.flags={},this}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:X.CONNECT,data:e})}):this.packet({type:X.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case X.CONNECT:if(e.data&&e.data.sid){const u=e.data.sid;this.onconnect(u)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case X.EVENT:this.onevent(e);break;case X.BINARY_EVENT:this.onevent(e);break;case X.ACK:this.onack(e);break;case X.BINARY_ACK:this.onack(e);break;case X.DISCONNECT:this.ondisconnect();break;case X.CONNECT_ERROR:const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let i=!1;return function(...u){i||(i=!0,t.packet({type:X.ACK,id:e,data:u}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:X.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var $o=je;function je(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}je.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*r);r=(Math.floor(e*10)&1)==0?r-t:r+t}return Math.min(r,this.max)|0};je.prototype.reset=function(){this.attempts=0};je.prototype.setMin=function(r){this.ms=r};je.prototype.setMax=function(r){this.max=r};je.prototype.setJitter=function(r){this.jitter=r};class xn extends ze{constructor(e,t){var i;super();this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,Nt(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new $o({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const u=t.parser||Mo;this.encoder=new u.Encoder,this.decoder=new u.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Te(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const u=we(t,"open",function(){i.onopen(),e&&e()}),m=we(t,"error",_=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",_),e?e(_):i.maybeReconnectOnOpen()});if(this._timeout!==!1){const _=this._timeout;_===0&&u();const h=this.setTimeoutFn(()=>{u(),t.close(),t.emit("error",new Error("timeout"))},_);this.opts.autoUnref&&h.unref(),this.subs.push(function(){clearTimeout(h)})}return this.subs.push(u),this.subs.push(m),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(we(e,"ping",this.onping.bind(this)),we(e,"data",this.ondata.bind(this)),we(e,"error",this.onerror.bind(this)),we(e,"close",this.onclose.bind(this)),we(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i||(i=new cr(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(u=>{u?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",u)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(function(){clearTimeout(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const ft={};function Dt(r,e){typeof r=="object"&&(e=r,r=void 0),e=e||{};const t=io(r,e.path||"/socket.io"),i=t.source,u=t.id,m=t.path,_=ft[u]&&m in ft[u].nsps,h=e.forceNew||e["force new connection"]||e.multiplex===!1||_;let v;return h?v=new xn(i,e):(ft[u]||(ft[u]=new xn(i,e)),v=ft[u]),t.query&&!e.query&&(e.query=t.queryKey),v.socket(t.path,e)}Object.assign(Dt,{Manager:xn,Socket:cr,io:Dt,connect:Dt});class Hs extends ot.exports.EventEmitter{constructor(e,t={}){super();Y(this,"socket");Y(this,"connections",new Map);Y(this,"SimplePeer");Y(this,"onSignal",(e,t)=>{let i=this.connections.get(t);e.type==="offer"&&(i==null?void 0:i.initiator)&&(this.disconnectFrom(t,!1),i=void 0),i||(i=this.createConnection(t,!1)),i.destroyed||i.signal(e)});Y(this,"onConnect",()=>{this.emit("connect",this.socket.id)});Y(this,"onDisonnect",()=>{this.emit("disconnect");for(const[e,t]of this.connections.entries())this.emit("disconnection",t,e),t.destroy();this.connections.clear()});Y(this,"onJoin",e=>{e!==this.socket.id&&this.emit("join",e)});Y(this,"onAnnounce",e=>{e!==this.socket.id&&this.emit("announce",e)});Y(this,"onLeave",(e,t)=>{this.disconnectFrom(e)});this.SimplePeer=e,this.socket=Dt(`${t.origin||"wss://mesh.aicacia.com"}/${t.namespace||""}`),this.socket.on("signal",this.onSignal),this.socket.on("connect",this.onConnect),this.socket.on("disconnect",this.onDisonnect),this.socket.on("join",this.onJoin),this.socket.on("announce",this.onAnnounce),this.socket.on("leave",this.onLeave)}getId(){return this.socket.id}isConnected(){return this.socket.connected}connected(){return Vo(this.socket)}getConnections(){return this.connections}send(e,t){const i=this.connections.get(e);return(i==null?void 0:i.connected)&&i.send(t),this}broadcast(e){for(const t of this.connections.values())t.connected&&t.send(e);return this}announce(){return this.socket.emit("announce"),this}get(e){return this.connections.get(e)}connectToInBackground(e){return this.getOrCreateConnection(e,!0),this}connectTo(e){const t=this.getOrCreateConnection(e,!0);return new Promise((i,u)=>{if(t.connected)i(t);else{const m=()=>{v(),i(t)},_=()=>{v(),u()},h=b=>{v(),u(b)},v=()=>{t.off("connect",m),t.off("disconnect",_),t.off("error",h)};t.once("connect",m),t.once("disconnect",_),t.once("error",h)}})}disconnectFrom(e,t=!0){const i=this.connections.get(e);return i&&(t&&this.emit("disconnection",i,e),this.connections.delete(e),i.destroy()),this}getOrCreateConnection(e,t){const i=this.connections.get(e);return i||this.createConnection(e,t)}createConnection(e,t){const i=new this.SimplePeer({initiator:t,trickle:!1});return i.on("signal",u=>{this.socket.emit("signal",e,u)}),i.on("data",u=>{this.emit("data",u,e)}),i.on("error",u=>{this.disconnectFrom(e),this.emit("error",u)}),i.on("connect",()=>{this.emit("connection",i,e)}),i.on("disconnect",()=>{this.disconnectFrom(e)}),this.connections.set(e,i),i}}function Vo(r){return new Promise((e,t)=>{if(r.connected)e(r);else{const i=()=>{_(),e(r)},u=()=>{_(),t()},m=h=>{_(),t(h)},_=()=>{r.off("connect",i),r.off("disconnect",u),r.off("error",m)};r.once("connect",i),r.once("disconnect",u),r.once("error",m)}})}var fr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(r,e){(function(t){r.exports=t()})(function(){return function t(i,u,m){function _(b,C){if(!u[b]){if(!i[b]){var n=typeof Rt=="function"&&Rt;if(!C&&n)return n(b,!0);if(h)return h(b,!0);var a=new Error("Cannot find module '"+b+"'");throw a.code="MODULE_NOT_FOUND",a}var l=u[b]={exports:{}};i[b][0].call(l.exports,function(y){var T=i[b][1][y];return _(T||y)},l,l.exports,t,i,u,m)}return u[b].exports}for(var h=typeof Rt=="function"&&Rt,v=0;v<m.length;v++)_(m[v]);return _}({1:[function(t,i,u){(function(m){var _=m.MutationObserver||m.WebKitMutationObserver,h;if(_){var v=0,b=new _(y),C=m.document.createTextNode("");b.observe(C,{characterData:!0}),h=function(){C.data=v=++v%2}}else if(!m.setImmediate&&typeof m.MessageChannel!="undefined"){var n=new m.MessageChannel;n.port1.onmessage=y,h=function(){n.port2.postMessage(0)}}else"document"in m&&"onreadystatechange"in m.document.createElement("script")?h=function(){var S=m.document.createElement("script");S.onreadystatechange=function(){y(),S.onreadystatechange=null,S.parentNode.removeChild(S),S=null},m.document.documentElement.appendChild(S)}:h=function(){setTimeout(y,0)};var a,l=[];function y(){a=!0;for(var S,I,L=l.length;L;){for(I=l,l=[],S=-1;++S<L;)I[S]();L=l.length}a=!1}i.exports=T;function T(S){l.push(S)===1&&!a&&h()}}).call(this,typeof Ie!="undefined"?Ie:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(t,i,u){var m=t(1);function _(){}var h={},v=["REJECTED"],b=["FULFILLED"],C=["PENDING"];i.exports=n;function n(O){if(typeof O!="function")throw new TypeError("resolver must be a function");this.state=C,this.queue=[],this.outcome=void 0,O!==_&&T(this,O)}n.prototype.catch=function(O){return this.then(null,O)},n.prototype.then=function(O,$){if(typeof O!="function"&&this.state===b||typeof $!="function"&&this.state===v)return this;var V=new this.constructor(_);if(this.state!==C){var q=this.state===b?O:$;l(V,q,this.outcome)}else this.queue.push(new a(V,O,$));return V};function a(O,$,V){this.promise=O,typeof $=="function"&&(this.onFulfilled=$,this.callFulfilled=this.otherCallFulfilled),typeof V=="function"&&(this.onRejected=V,this.callRejected=this.otherCallRejected)}a.prototype.callFulfilled=function(O){h.resolve(this.promise,O)},a.prototype.otherCallFulfilled=function(O){l(this.promise,this.onFulfilled,O)},a.prototype.callRejected=function(O){h.reject(this.promise,O)},a.prototype.otherCallRejected=function(O){l(this.promise,this.onRejected,O)};function l(O,$,V){m(function(){var q;try{q=$(V)}catch(H){return h.reject(O,H)}q===O?h.reject(O,new TypeError("Cannot resolve promise with itself")):h.resolve(O,q)})}h.resolve=function(O,$){var V=S(y,$);if(V.status==="error")return h.reject(O,V.value);var q=V.value;if(q)T(O,q);else{O.state=b,O.outcome=$;for(var H=-1,oe=O.queue.length;++H<oe;)O.queue[H].callFulfilled($)}return O},h.reject=function(O,$){O.state=v,O.outcome=$;for(var V=-1,q=O.queue.length;++V<q;)O.queue[V].callRejected($);return O};function y(O){var $=O&&O.then;if(O&&(typeof O=="object"||typeof O=="function")&&typeof $=="function")return function(){$.apply(O,arguments)}}function T(O,$){var V=!1;function q(le){V||(V=!0,h.reject(O,le))}function H(le){V||(V=!0,h.resolve(O,le))}function oe(){$(H,q)}var se=S(oe);se.status==="error"&&q(se.value)}function S(O,$){var V={};try{V.value=O($),V.status="success"}catch(q){V.status="error",V.value=q}return V}n.resolve=I;function I(O){return O instanceof this?O:h.resolve(new this(_),O)}n.reject=L;function L(O){var $=new this(_);return h.reject($,O)}n.all=M;function M(O){var $=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var V=O.length,q=!1;if(!V)return this.resolve([]);for(var H=new Array(V),oe=0,se=-1,le=new this(_);++se<V;)pe(O[se],se);return le;function pe(he,Se){$.resolve(he).then(Qe,function(Be){q||(q=!0,h.reject(le,Be))});function Qe(Be){H[Se]=Be,++oe===V&&!q&&(q=!0,h.resolve(le,H))}}}n.race=J;function J(O){var $=this;if(Object.prototype.toString.call(O)!=="[object Array]")return this.reject(new TypeError("must be an array"));var V=O.length,q=!1;if(!V)return this.resolve([]);for(var H=-1,oe=new this(_);++H<V;)se(O[H]);return oe;function se(le){$.resolve(le).then(function(pe){q||(q=!0,h.resolve(oe,pe))},function(pe){q||(q=!0,h.reject(oe,pe))})}}},{"1":1}],3:[function(t,i,u){(function(m){typeof m.Promise!="function"&&(m.Promise=t(2))}).call(this,typeof Ie!="undefined"?Ie:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(t,i,u){var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};function _(f,g){if(!(f instanceof g))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var v=h();function b(){try{if(!v||!v.open)return!1;var f=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),g=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!f||g)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function C(f,g){f=f||[],g=g||{};try{return new Blob(f,g)}catch(w){if(w.name!=="TypeError")throw w;for(var d=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,A=new d,E=0;E<f.length;E+=1)A.append(f[E]);return A.getBlob(g.type)}}typeof Promise=="undefined"&&t(3);var n=Promise;function a(f,g){g&&f.then(function(d){g(null,d)},function(d){g(d)})}function l(f,g,d){typeof g=="function"&&f.then(g),typeof d=="function"&&f.catch(d)}function y(f){return typeof f!="string"&&(console.warn(f+" used as a key, but it is not a string."),f=String(f)),f}function T(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var S="local-forage-detect-blob-support",I=void 0,L={},M=Object.prototype.toString,J="readonly",O="readwrite";function $(f){for(var g=f.length,d=new ArrayBuffer(g),A=new Uint8Array(d),E=0;E<g;E++)A[E]=f.charCodeAt(E);return d}function V(f){return new n(function(g){var d=f.transaction(S,O),A=C([""]);d.objectStore(S).put(A,"key"),d.onabort=function(E){E.preventDefault(),E.stopPropagation(),g(!1)},d.oncomplete=function(){var E=navigator.userAgent.match(/Chrome\/(\d+)/),w=navigator.userAgent.match(/Edge\//);g(w||!E||parseInt(E[1],10)>=43)}}).catch(function(){return!1})}function q(f){return typeof I=="boolean"?n.resolve(I):V(f).then(function(g){return I=g,I})}function H(f){var g=L[f.name],d={};d.promise=new n(function(A,E){d.resolve=A,d.reject=E}),g.deferredOperations.push(d),g.dbReady?g.dbReady=g.dbReady.then(function(){return d.promise}):g.dbReady=d.promise}function oe(f){var g=L[f.name],d=g.deferredOperations.pop();if(d)return d.resolve(),d.promise}function se(f,g){var d=L[f.name],A=d.deferredOperations.pop();if(A)return A.reject(g),A.promise}function le(f,g){return new n(function(d,A){if(L[f.name]=L[f.name]||ae(),f.db)if(g)H(f),f.db.close();else return d(f.db);var E=[f.name];g&&E.push(f.version);var w=v.open.apply(v,E);g&&(w.onupgradeneeded=function(R){var N=w.result;try{N.createObjectStore(f.storeName),R.oldVersion<=1&&N.createObjectStore(S)}catch(F){if(F.name==="ConstraintError")console.warn('The database "'+f.name+'" has been upgraded from version '+R.oldVersion+" to version "+R.newVersion+', but the storage "'+f.storeName+'" already exists.');else throw F}}),w.onerror=function(R){R.preventDefault(),A(w.error)},w.onsuccess=function(){var R=w.result;R.onversionchange=function(N){N.target.close()},d(R),oe(f)}})}function pe(f){return le(f,!1)}function he(f){return le(f,!0)}function Se(f,g){if(!f.db)return!0;var d=!f.db.objectStoreNames.contains(f.storeName),A=f.version<f.db.version,E=f.version>f.db.version;if(A&&(f.version!==g&&console.warn('The database "'+f.name+`" can't be downgraded from version `+f.db.version+" to version "+f.version+"."),f.version=f.db.version),E||d){if(d){var w=f.db.version+1;w>f.version&&(f.version=w)}return!0}return!1}function Qe(f){return new n(function(g,d){var A=new FileReader;A.onerror=d,A.onloadend=function(E){var w=btoa(E.target.result||"");g({__local_forage_encoded_blob:!0,data:w,type:f.type})},A.readAsBinaryString(f)})}function Be(f){var g=$(atob(f.data));return C([g],{type:f.type})}function lt(f){return f&&f.__local_forage_encoded_blob}function Ut(f){var g=this,d=g._initReady().then(function(){var A=L[g._dbInfo.name];if(A&&A.dbReady)return A.dbReady});return l(d,f,f),d}function $t(f){H(f);for(var g=L[f.name],d=g.forages,A=0;A<d.length;A++){var E=d[A];E._dbInfo.db&&(E._dbInfo.db.close(),E._dbInfo.db=null)}return f.db=null,pe(f).then(function(w){return f.db=w,Se(f)?he(f):w}).then(function(w){f.db=g.db=w;for(var R=0;R<d.length;R++)d[R]._dbInfo.db=w}).catch(function(w){throw se(f,w),w})}function Z(f,g,d,A){A===void 0&&(A=1);try{var E=f.db.transaction(f.storeName,g);d(null,E)}catch(w){if(A>0&&(!f.db||w.name==="InvalidStateError"||w.name==="NotFoundError"))return n.resolve().then(function(){if(!f.db||w.name==="NotFoundError"&&!f.db.objectStoreNames.contains(f.storeName)&&f.version<=f.db.version)return f.db&&(f.version=f.db.version+1),he(f)}).then(function(){return $t(f).then(function(){Z(f,g,d,A-1)})}).catch(d);d(w)}}function ae(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ht(f){var g=this,d={db:null};if(f)for(var A in f)d[A]=f[A];var E=L[d.name];E||(E=ae(),L[d.name]=E),E.forages.push(g),g._initReady||(g._initReady=g.ready,g.ready=Ut);var w=[];function R(){return n.resolve()}for(var N=0;N<E.forages.length;N++){var F=E.forages[N];F!==g&&w.push(F._initReady().catch(R))}var P=E.forages.slice(0);return n.all(w).then(function(){return d.db=E.db,pe(d)}).then(function(D){return d.db=D,Se(d,g._defaultConfig.version)?he(d):D}).then(function(D){d.db=E.db=D,g._dbInfo=d;for(var U=0;U<P.length;U++){var W=P[U];W!==g&&(W._dbInfo.db=d.db,W._dbInfo.version=d.version)}})}function dt(f,g){var d=this;f=y(f);var A=new n(function(E,w){d.ready().then(function(){Z(d._dbInfo,J,function(R,N){if(R)return w(R);try{var F=N.objectStore(d._dbInfo.storeName),P=F.get(f);P.onsuccess=function(){var D=P.result;D===void 0&&(D=null),lt(D)&&(D=Be(D)),E(D)},P.onerror=function(){w(P.error)}}catch(D){w(D)}})}).catch(w)});return a(A,g),A}function pt(f,g){var d=this,A=new n(function(E,w){d.ready().then(function(){Z(d._dbInfo,J,function(R,N){if(R)return w(R);try{var F=N.objectStore(d._dbInfo.storeName),P=F.openCursor(),D=1;P.onsuccess=function(){var U=P.result;if(U){var W=U.value;lt(W)&&(W=Be(W));var j=f(W,U.key,D++);j!==void 0?E(j):U.continue()}else E()},P.onerror=function(){w(P.error)}}catch(U){w(U)}})}).catch(w)});return a(A,g),A}function _t(f,g,d){var A=this;f=y(f);var E=new n(function(w,R){var N;A.ready().then(function(){return N=A._dbInfo,M.call(g)==="[object Blob]"?q(N.db).then(function(F){return F?g:Qe(g)}):g}).then(function(F){Z(A._dbInfo,O,function(P,D){if(P)return R(P);try{var U=D.objectStore(A._dbInfo.storeName);F===null&&(F=void 0);var W=U.put(F,f);D.oncomplete=function(){F===void 0&&(F=null),w(F)},D.onabort=D.onerror=function(){var j=W.error?W.error:W.transaction.error;R(j)}}catch(j){R(j)}})}).catch(R)});return a(E,d),E}function mt(f,g){var d=this;f=y(f);var A=new n(function(E,w){d.ready().then(function(){Z(d._dbInfo,O,function(R,N){if(R)return w(R);try{var F=N.objectStore(d._dbInfo.storeName),P=F.delete(f);N.oncomplete=function(){E()},N.onerror=function(){w(P.error)},N.onabort=function(){var D=P.error?P.error:P.transaction.error;w(D)}}catch(D){w(D)}})}).catch(w)});return a(A,g),A}function ke(f){var g=this,d=new n(function(A,E){g.ready().then(function(){Z(g._dbInfo,O,function(w,R){if(w)return E(w);try{var N=R.objectStore(g._dbInfo.storeName),F=N.clear();R.oncomplete=function(){A()},R.onabort=R.onerror=function(){var P=F.error?F.error:F.transaction.error;E(P)}}catch(P){E(P)}})}).catch(E)});return a(d,f),d}function Ze(f){var g=this,d=new n(function(A,E){g.ready().then(function(){Z(g._dbInfo,J,function(w,R){if(w)return E(w);try{var N=R.objectStore(g._dbInfo.storeName),F=N.count();F.onsuccess=function(){A(F.result)},F.onerror=function(){E(F.error)}}catch(P){E(P)}})}).catch(E)});return a(d,f),d}function yt(f,g){var d=this,A=new n(function(E,w){if(f<0){E(null);return}d.ready().then(function(){Z(d._dbInfo,J,function(R,N){if(R)return w(R);try{var F=N.objectStore(d._dbInfo.storeName),P=!1,D=F.openKeyCursor();D.onsuccess=function(){var U=D.result;if(!U){E(null);return}f===0||P?E(U.key):(P=!0,U.advance(f))},D.onerror=function(){w(D.error)}}catch(U){w(U)}})}).catch(w)});return a(A,g),A}function Vt(f){var g=this,d=new n(function(A,E){g.ready().then(function(){Z(g._dbInfo,J,function(w,R){if(w)return E(w);try{var N=R.objectStore(g._dbInfo.storeName),F=N.openKeyCursor(),P=[];F.onsuccess=function(){var D=F.result;if(!D){A(P);return}P.push(D.key),D.continue()},F.onerror=function(){E(F.error)}}catch(D){E(D)}})}).catch(E)});return a(d,f),d}function gt(f,g){g=T.apply(this,arguments);var d=this.config();f=typeof f!="function"&&f||{},f.name||(f.name=f.name||d.name,f.storeName=f.storeName||d.storeName);var A=this,E;if(!f.name)E=n.reject("Invalid arguments");else{var w=f.name===d.name&&A._dbInfo.db,R=w?n.resolve(A._dbInfo.db):pe(f).then(function(N){var F=L[f.name],P=F.forages;F.db=N;for(var D=0;D<P.length;D++)P[D]._dbInfo.db=N;return N});f.storeName?E=R.then(function(N){if(!!N.objectStoreNames.contains(f.storeName)){var F=N.version+1;H(f);var P=L[f.name],D=P.forages;N.close();for(var U=0;U<D.length;U++){var W=D[U];W._dbInfo.db=null,W._dbInfo.version=F}var j=new n(function(Q,ie){var re=v.open(f.name,F);re.onerror=function(me){var nt=re.result;nt.close(),ie(me)},re.onupgradeneeded=function(){var me=re.result;me.deleteObjectStore(f.storeName)},re.onsuccess=function(){var me=re.result;me.close(),Q(me)}});return j.then(function(Q){P.db=Q;for(var ie=0;ie<D.length;ie++){var re=D[ie];re._dbInfo.db=Q,oe(re._dbInfo)}}).catch(function(Q){throw(se(f,Q)||n.resolve()).catch(function(){}),Q})}}):E=R.then(function(N){H(f);var F=L[f.name],P=F.forages;N.close();for(var D=0;D<P.length;D++){var U=P[D];U._dbInfo.db=null}var W=new n(function(j,Q){var ie=v.deleteDatabase(f.name);ie.onerror=function(){var re=ie.result;re&&re.close(),Q(ie.error)},ie.onblocked=function(){console.warn('dropInstance blocked for database "'+f.name+'" until all open connections are closed')},ie.onsuccess=function(){var re=ie.result;re&&re.close(),j(re)}});return W.then(function(j){F.db=j;for(var Q=0;Q<P.length;Q++){var ie=P[Q];oe(ie._dbInfo)}}).catch(function(j){throw(se(f,j)||n.resolve()).catch(function(){}),j})})}return a(E,g),E}var Re={_driver:"asyncStorage",_initStorage:ht,_support:b(),iterate:pt,getItem:dt,setItem:_t,removeItem:mt,clear:ke,length:Ze,key:yt,keys:Vt,dropInstance:gt};function Le(){return typeof openDatabase=="function"}var xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ht="~~local_forage_type~",Ve=/^~~local_forage_type~([^~]+)~/,He="__lfsc__:",et=He.length,qe="arbf",Ce="blob",_e="si08",Ge="ui08",vt="uic8",ve="si16",wt="si32",c="ur16",o="ui32",s="fl32",p="fl64",x=et+qe.length,B=Object.prototype.toString;function k(f){var g=f.length*.75,d=f.length,A,E=0,w,R,N,F;f[f.length-1]==="="&&(g--,f[f.length-2]==="="&&g--);var P=new ArrayBuffer(g),D=new Uint8Array(P);for(A=0;A<d;A+=4)w=xe.indexOf(f[A]),R=xe.indexOf(f[A+1]),N=xe.indexOf(f[A+2]),F=xe.indexOf(f[A+3]),D[E++]=w<<2|R>>4,D[E++]=(R&15)<<4|N>>2,D[E++]=(N&3)<<6|F&63;return P}function G(f){var g=new Uint8Array(f),d="",A;for(A=0;A<g.length;A+=3)d+=xe[g[A]>>2],d+=xe[(g[A]&3)<<4|g[A+1]>>4],d+=xe[(g[A+1]&15)<<2|g[A+2]>>6],d+=xe[g[A+2]&63];return g.length%3==2?d=d.substring(0,d.length-1)+"=":g.length%3==1&&(d=d.substring(0,d.length-2)+"=="),d}function ne(f,g){var d="";if(f&&(d=B.call(f)),f&&(d==="[object ArrayBuffer]"||f.buffer&&B.call(f.buffer)==="[object ArrayBuffer]")){var A,E=He;f instanceof ArrayBuffer?(A=f,E+=qe):(A=f.buffer,d==="[object Int8Array]"?E+=_e:d==="[object Uint8Array]"?E+=Ge:d==="[object Uint8ClampedArray]"?E+=vt:d==="[object Int16Array]"?E+=ve:d==="[object Uint16Array]"?E+=c:d==="[object Int32Array]"?E+=wt:d==="[object Uint32Array]"?E+=o:d==="[object Float32Array]"?E+=s:d==="[object Float64Array]"?E+=p:g(new Error("Failed to get type for BinaryArray"))),g(E+G(A))}else if(d==="[object Blob]"){var w=new FileReader;w.onload=function(){var R=Ht+f.type+"~"+G(this.result);g(He+Ce+R)},w.readAsArrayBuffer(f)}else try{g(JSON.stringify(f))}catch(R){console.error("Couldn't convert value into a JSON string: ",f),g(null,R)}}function ee(f){if(f.substring(0,et)!==He)return JSON.parse(f);var g=f.substring(x),d=f.substring(et,x),A;if(d===Ce&&Ve.test(g)){var E=g.match(Ve);A=E[1],g=g.substring(E[0].length)}var w=k(g);switch(d){case qe:return w;case Ce:return C([w],{type:A});case _e:return new Int8Array(w);case Ge:return new Uint8Array(w);case vt:return new Uint8ClampedArray(w);case ve:return new Int16Array(w);case c:return new Uint16Array(w);case wt:return new Int32Array(w);case o:return new Uint32Array(w);case s:return new Float32Array(w);case p:return new Float64Array(w);default:throw new Error("Unkown type: "+d)}}var te={serialize:ne,deserialize:ee,stringToBuffer:k,bufferToString:G};function z(f,g,d,A){f.executeSql("CREATE TABLE IF NOT EXISTS "+g.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],d,A)}function lr(f){var g=this,d={db:null};if(f)for(var A in f)d[A]=typeof f[A]!="string"?f[A].toString():f[A];var E=new n(function(w,R){try{d.db=openDatabase(d.name,String(d.version),d.description,d.size)}catch(N){return R(N)}d.db.transaction(function(N){z(N,d,function(){g._dbInfo=d,w()},function(F,P){R(P)})},R)});return d.serializer=te,E}function Ne(f,g,d,A,E,w){f.executeSql(d,A,E,function(R,N){N.code===N.SYNTAX_ERR?R.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[g.storeName],function(F,P){P.rows.length?w(F,N):z(F,g,function(){F.executeSql(d,A,E,w)},w)},w):w(R,N)},w)}function hr(f,g){var d=this;f=y(f);var A=new n(function(E,w){d.ready().then(function(){var R=d._dbInfo;R.db.transaction(function(N){Ne(N,R,"SELECT * FROM "+R.storeName+" WHERE key = ? LIMIT 1",[f],function(F,P){var D=P.rows.length?P.rows.item(0).value:null;D&&(D=R.serializer.deserialize(D)),E(D)},function(F,P){w(P)})})}).catch(w)});return a(A,g),A}function dr(f,g){var d=this,A=new n(function(E,w){d.ready().then(function(){var R=d._dbInfo;R.db.transaction(function(N){Ne(N,R,"SELECT * FROM "+R.storeName,[],function(F,P){for(var D=P.rows,U=D.length,W=0;W<U;W++){var j=D.item(W),Q=j.value;if(Q&&(Q=R.serializer.deserialize(Q)),Q=f(Q,j.key,W+1),Q!==void 0){E(Q);return}}E()},function(F,P){w(P)})})}).catch(w)});return a(A,g),A}function An(f,g,d,A){var E=this;f=y(f);var w=new n(function(R,N){E.ready().then(function(){g===void 0&&(g=null);var F=g,P=E._dbInfo;P.serializer.serialize(g,function(D,U){U?N(U):P.db.transaction(function(W){Ne(W,P,"INSERT OR REPLACE INTO "+P.storeName+" (key, value) VALUES (?, ?)",[f,D],function(){R(F)},function(j,Q){N(Q)})},function(W){if(W.code===W.QUOTA_ERR){if(A>0){R(An.apply(E,[f,F,d,A-1]));return}N(W)}})})}).catch(N)});return a(w,d),w}function pr(f,g,d){return An.apply(this,[f,g,d,1])}function _r(f,g){var d=this;f=y(f);var A=new n(function(E,w){d.ready().then(function(){var R=d._dbInfo;R.db.transaction(function(N){Ne(N,R,"DELETE FROM "+R.storeName+" WHERE key = ?",[f],function(){E()},function(F,P){w(P)})})}).catch(w)});return a(A,g),A}function mr(f){var g=this,d=new n(function(A,E){g.ready().then(function(){var w=g._dbInfo;w.db.transaction(function(R){Ne(R,w,"DELETE FROM "+w.storeName,[],function(){A()},function(N,F){E(F)})})}).catch(E)});return a(d,f),d}function yr(f){var g=this,d=new n(function(A,E){g.ready().then(function(){var w=g._dbInfo;w.db.transaction(function(R){Ne(R,w,"SELECT COUNT(key) as c FROM "+w.storeName,[],function(N,F){var P=F.rows.item(0).c;A(P)},function(N,F){E(F)})})}).catch(E)});return a(d,f),d}function gr(f,g){var d=this,A=new n(function(E,w){d.ready().then(function(){var R=d._dbInfo;R.db.transaction(function(N){Ne(N,R,"SELECT key FROM "+R.storeName+" WHERE id = ? LIMIT 1",[f+1],function(F,P){var D=P.rows.length?P.rows.item(0).key:null;E(D)},function(F,P){w(P)})})}).catch(w)});return a(A,g),A}function vr(f){var g=this,d=new n(function(A,E){g.ready().then(function(){var w=g._dbInfo;w.db.transaction(function(R){Ne(R,w,"SELECT key FROM "+w.storeName,[],function(N,F){for(var P=[],D=0;D<F.rows.length;D++)P.push(F.rows.item(D).key);A(P)},function(N,F){E(F)})})}).catch(E)});return a(d,f),d}function wr(f){return new n(function(g,d){f.transaction(function(A){A.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(E,w){for(var R=[],N=0;N<w.rows.length;N++)R.push(w.rows.item(N).name);g({db:f,storeNames:R})},function(E,w){d(w)})},function(A){d(A)})})}function xr(f,g){g=T.apply(this,arguments);var d=this.config();f=typeof f!="function"&&f||{},f.name||(f.name=f.name||d.name,f.storeName=f.storeName||d.storeName);var A=this,E;return f.name?E=new n(function(w){var R;f.name===d.name?R=A._dbInfo.db:R=openDatabase(f.name,"","",0),f.storeName?w({db:R,storeNames:[f.storeName]}):w(wr(R))}).then(function(w){return new n(function(R,N){w.db.transaction(function(F){function P(j){return new n(function(Q,ie){F.executeSql("DROP TABLE IF EXISTS "+j,[],function(){Q()},function(re,me){ie(me)})})}for(var D=[],U=0,W=w.storeNames.length;U<W;U++)D.push(P(w.storeNames[U]));n.all(D).then(function(){R()}).catch(function(j){N(j)})},function(F){N(F)})})}):E=n.reject("Invalid arguments"),a(E,g),E}var br={_driver:"webSQLStorage",_initStorage:lr,_support:Le(),iterate:dr,getItem:hr,setItem:pr,removeItem:_r,clear:mr,length:yr,key:gr,keys:vr,dropInstance:xr};function Ar(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function En(f,g){var d=f.name+"/";return f.storeName!==g.storeName&&(d+=f.storeName+"/"),d}function Er(){var f="_localforage_support_test";try{return localStorage.setItem(f,!0),localStorage.removeItem(f),!1}catch{return!0}}function Sr(){return!Er()||localStorage.length>0}function Ir(f){var g=this,d={};if(f)for(var A in f)d[A]=f[A];return d.keyPrefix=En(f,g._defaultConfig),Sr()?(g._dbInfo=d,d.serializer=te,n.resolve()):n.reject()}function Tr(f){var g=this,d=g.ready().then(function(){for(var A=g._dbInfo.keyPrefix,E=localStorage.length-1;E>=0;E--){var w=localStorage.key(E);w.indexOf(A)===0&&localStorage.removeItem(w)}});return a(d,f),d}function Br(f,g){var d=this;f=y(f);var A=d.ready().then(function(){var E=d._dbInfo,w=localStorage.getItem(E.keyPrefix+f);return w&&(w=E.serializer.deserialize(w)),w});return a(A,g),A}function kr(f,g){var d=this,A=d.ready().then(function(){for(var E=d._dbInfo,w=E.keyPrefix,R=w.length,N=localStorage.length,F=1,P=0;P<N;P++){var D=localStorage.key(P);if(D.indexOf(w)===0){var U=localStorage.getItem(D);if(U&&(U=E.serializer.deserialize(U)),U=f(U,D.substring(R),F++),U!==void 0)return U}}});return a(A,g),A}function Rr(f,g){var d=this,A=d.ready().then(function(){var E=d._dbInfo,w;try{w=localStorage.key(f)}catch{w=null}return w&&(w=w.substring(E.keyPrefix.length)),w});return a(A,g),A}function Cr(f){var g=this,d=g.ready().then(function(){for(var A=g._dbInfo,E=localStorage.length,w=[],R=0;R<E;R++){var N=localStorage.key(R);N.indexOf(A.keyPrefix)===0&&w.push(N.substring(A.keyPrefix.length))}return w});return a(d,f),d}function Nr(f){var g=this,d=g.keys().then(function(A){return A.length});return a(d,f),d}function Or(f,g){var d=this;f=y(f);var A=d.ready().then(function(){var E=d._dbInfo;localStorage.removeItem(E.keyPrefix+f)});return a(A,g),A}function Fr(f,g,d){var A=this;f=y(f);var E=A.ready().then(function(){g===void 0&&(g=null);var w=g;return new n(function(R,N){var F=A._dbInfo;F.serializer.serialize(g,function(P,D){if(D)N(D);else try{localStorage.setItem(F.keyPrefix+f,P),R(w)}catch(U){(U.name==="QuotaExceededError"||U.name==="NS_ERROR_DOM_QUOTA_REACHED")&&N(U),N(U)}})})});return a(E,d),E}function Pr(f,g){if(g=T.apply(this,arguments),f=typeof f!="function"&&f||{},!f.name){var d=this.config();f.name=f.name||d.name,f.storeName=f.storeName||d.storeName}var A=this,E;return f.name?E=new n(function(w){f.storeName?w(En(f,A._defaultConfig)):w(f.name+"/")}).then(function(w){for(var R=localStorage.length-1;R>=0;R--){var N=localStorage.key(R);N.indexOf(w)===0&&localStorage.removeItem(N)}}):E=n.reject("Invalid arguments"),a(E,g),E}var Lr={_driver:"localStorageWrapper",_initStorage:Ir,_support:Ar(),iterate:kr,getItem:Br,setItem:Fr,removeItem:Or,clear:Tr,length:Nr,key:Rr,keys:Cr,dropInstance:Pr},Dr=function(g,d){return g===d||typeof g=="number"&&typeof d=="number"&&isNaN(g)&&isNaN(d)},Mr=function(g,d){for(var A=g.length,E=0;E<A;){if(Dr(g[E],d))return!0;E++}return!1},Sn=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"},tt={},In={},We={INDEXEDDB:Re,WEBSQL:br,LOCALSTORAGE:Lr},Ur=[We.INDEXEDDB._driver,We.WEBSQL._driver,We.LOCALSTORAGE._driver],xt=["dropInstance"],qt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(xt),$r={description:"",driver:Ur.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Vr(f,g){f[g]=function(){var d=arguments;return f.ready().then(function(){return f[g].apply(f,d)})}}function Gt(){for(var f=1;f<arguments.length;f++){var g=arguments[f];if(g)for(var d in g)g.hasOwnProperty(d)&&(Sn(g[d])?arguments[0][d]=g[d].slice():arguments[0][d]=g[d])}return arguments[0]}var Hr=function(){function f(g){_(this,f);for(var d in We)if(We.hasOwnProperty(d)){var A=We[d],E=A._driver;this[d]=E,tt[E]||this.defineDriver(A)}this._defaultConfig=Gt({},$r),this._config=Gt({},this._defaultConfig,g),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return f.prototype.config=function(d){if((typeof d=="undefined"?"undefined":m(d))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var A in d){if(A==="storeName"&&(d[A]=d[A].replace(/\W/g,"_")),A==="version"&&typeof d[A]!="number")return new Error("Database version must be a number.");this._config[A]=d[A]}return"driver"in d&&d.driver?this.setDriver(this._config.driver):!0}else return typeof d=="string"?this._config[d]:this._config},f.prototype.defineDriver=function(d,A,E){var w=new n(function(R,N){try{var F=d._driver,P=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!d._driver){N(P);return}for(var D=qt.concat("_initStorage"),U=0,W=D.length;U<W;U++){var j=D[U],Q=!Mr(xt,j);if((Q||d[j])&&typeof d[j]!="function"){N(P);return}}var ie=function(){for(var nt=function(Wr){return function(){var Yr=new Error("Method "+Wr+" is not implemented by the current driver"),Tn=n.reject(Yr);return a(Tn,arguments[arguments.length-1]),Tn}},Wt=0,Gr=xt.length;Wt<Gr;Wt++){var Yt=xt[Wt];d[Yt]||(d[Yt]=nt(Yt))}};ie();var re=function(nt){tt[F]&&console.info("Redefining LocalForage driver: "+F),tt[F]=d,In[F]=nt,R()};"_support"in d?d._support&&typeof d._support=="function"?d._support().then(re,N):re(!!d._support):re(!0)}catch(me){N(me)}});return l(w,A,E),w},f.prototype.driver=function(){return this._driver||null},f.prototype.getDriver=function(d,A,E){var w=tt[d]?n.resolve(tt[d]):n.reject(new Error("Driver not found."));return l(w,A,E),w},f.prototype.getSerializer=function(d){var A=n.resolve(te);return l(A,d),A},f.prototype.ready=function(d){var A=this,E=A._driverSet.then(function(){return A._ready===null&&(A._ready=A._initDriver()),A._ready});return l(E,d,d),E},f.prototype.setDriver=function(d,A,E){var w=this;Sn(d)||(d=[d]);var R=this._getSupportedDrivers(d);function N(){w._config.driver=w.driver()}function F(U){return w._extend(U),N(),w._ready=w._initStorage(w._config),w._ready}function P(U){return function(){var W=0;function j(){for(;W<U.length;){var Q=U[W];return W++,w._dbInfo=null,w._ready=null,w.getDriver(Q).then(F).catch(j)}N();var ie=new Error("No available storage method found.");return w._driverSet=n.reject(ie),w._driverSet}return j()}}var D=this._driverSet!==null?this._driverSet.catch(function(){return n.resolve()}):n.resolve();return this._driverSet=D.then(function(){var U=R[0];return w._dbInfo=null,w._ready=null,w.getDriver(U).then(function(W){w._driver=W._driver,N(),w._wrapLibraryMethodsWithReady(),w._initDriver=P(R)})}).catch(function(){N();var U=new Error("No available storage method found.");return w._driverSet=n.reject(U),w._driverSet}),l(this._driverSet,A,E),this._driverSet},f.prototype.supports=function(d){return!!In[d]},f.prototype._extend=function(d){Gt(this,d)},f.prototype._getSupportedDrivers=function(d){for(var A=[],E=0,w=d.length;E<w;E++){var R=d[E];this.supports(R)&&A.push(R)}return A},f.prototype._wrapLibraryMethodsWithReady=function(){for(var d=0,A=qt.length;d<A;d++)Vr(this,qt[d])},f.prototype.createInstance=function(d){return new f(d)},f}(),qr=new Hr;i.exports=qr},{"3":3}]},{},[4])(4)})})(fr);var qs=fr.exports,Mt,Ho=new Uint8Array(16);function qo(){if(!Mt&&(Mt=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Mt))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mt(Ho)}var Go=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Wo(r){return typeof r=="string"&&Go.test(r)}var fe=[];for(var bn=0;bn<256;++bn)fe.push((bn+256).toString(16).substr(1));function Yo(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(fe[r[e+0]]+fe[r[e+1]]+fe[r[e+2]]+fe[r[e+3]]+"-"+fe[r[e+4]]+fe[r[e+5]]+"-"+fe[r[e+6]]+fe[r[e+7]]+"-"+fe[r[e+8]]+fe[r[e+9]]+"-"+fe[r[e+10]]+fe[r[e+11]]+fe[r[e+12]]+fe[r[e+13]]+fe[r[e+14]]+fe[r[e+15]]).toLowerCase();if(!Wo(t))throw TypeError("Stringified UUID is invalid");return t}function Gs(r,e,t){r=r||{};var i=r.random||(r.rng||qo)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(var u=0;u<16;++u)e[t+u]=i[u];return e}return Yo(i)}var Jo={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(r){(function(){var e=function(){this.init()};e.prototype={init:function(){var n=this||t;return n._counter=1e3,n._html5AudioPool=[],n.html5PoolSize=10,n._codecs={},n._howls=[],n._muted=!1,n._volume=1,n._canPlayEvent="canplaythrough",n._navigator=typeof window!="undefined"&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n._setup(),n},volume:function(n){var a=this||t;if(n=parseFloat(n),a.ctx||C(),typeof n!="undefined"&&n>=0&&n<=1){if(a._volume=n,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(n,t.ctx.currentTime);for(var l=0;l<a._howls.length;l++)if(!a._howls[l]._webAudio)for(var y=a._howls[l]._getSoundIds(),T=0;T<y.length;T++){var S=a._howls[l]._soundById(y[T]);S&&S._node&&(S._node.volume=S._volume*n)}return a}return a._volume},mute:function(n){var a=this||t;a.ctx||C(),a._muted=n,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(n?0:a._volume,t.ctx.currentTime);for(var l=0;l<a._howls.length;l++)if(!a._howls[l]._webAudio)for(var y=a._howls[l]._getSoundIds(),T=0;T<y.length;T++){var S=a._howls[l]._soundById(y[T]);S&&S._node&&(S._node.muted=n?!0:S._muted)}return a},stop:function(){for(var n=this||t,a=0;a<n._howls.length;a++)n._howls[a].stop();return n},unload:function(){for(var n=this||t,a=n._howls.length-1;a>=0;a--)n._howls[a].unload();return n.usingWebAudio&&n.ctx&&typeof n.ctx.close!="undefined"&&(n.ctx.close(),n.ctx=null,C()),n},codecs:function(n){return(this||t)._codecs[n.replace(/^x-/,"")]},_setup:function(){var n=this||t;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if(typeof Audio!="undefined")try{var a=new Audio;typeof a.oncanplaythrough=="undefined"&&(n._canPlayEvent="canplay")}catch{n.noAudio=!0}else n.noAudio=!0;try{var a=new Audio;a.muted&&(n.noAudio=!0)}catch{}return n.noAudio||n._setupCodecs(),n},_setupCodecs:function(){var n=this||t,a=null;try{a=typeof Audio!="undefined"?new Audio:null}catch{return n}if(!a||typeof a.canPlayType!="function")return n;var l=a.canPlayType("audio/mpeg;").replace(/^no$/,""),y=n._navigator?n._navigator.userAgent:"",T=y.match(/OPR\/([0-6].)/g),S=T&&parseInt(T[0].split("/")[1],10)<33,I=y.indexOf("Safari")!==-1&&y.indexOf("Chrome")===-1,L=y.match(/Version\/(.*?) /),M=I&&L&&parseInt(L[1],10)<15;return n._codecs={mp3:!!(!S&&(l||a.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!l,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!M&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!M&&a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},n},_unlockAudio:function(){var n=this||t;if(!(n._audioUnlocked||!n.ctx)){n._audioUnlocked=!1,n.autoUnlock=!1,!n._mobileUnloaded&&n.ctx.sampleRate!==44100&&(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var a=function(l){for(;n._html5AudioPool.length<n.html5PoolSize;)try{var y=new Audio;y._unlocked=!0,n._releaseHtml5Audio(y)}catch{n.noAudio=!0;break}for(var T=0;T<n._howls.length;T++)if(!n._howls[T]._webAudio)for(var S=n._howls[T]._getSoundIds(),I=0;I<S.length;I++){var L=n._howls[T]._soundById(S[I]);L&&L._node&&!L._node._unlocked&&(L._node._unlocked=!0,L._node.load())}n._autoResume();var M=n.ctx.createBufferSource();M.buffer=n._scratchBuffer,M.connect(n.ctx.destination),typeof M.start=="undefined"?M.noteOn(0):M.start(0),typeof n.ctx.resume=="function"&&n.ctx.resume(),M.onended=function(){M.disconnect(0),n._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var J=0;J<n._howls.length;J++)n._howls[J]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),n}},_obtainHtml5Audio:function(){var n=this||t;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise!="undefined"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(n){var a=this||t;return n._unlocked&&a._html5AudioPool.push(n),a},_autoSuspend:function(){var n=this;if(!(!n.autoSuspend||!n.ctx||typeof n.ctx.suspend=="undefined"||!t.usingWebAudio)){for(var a=0;a<n._howls.length;a++)if(n._howls[a]._webAudio){for(var l=0;l<n._howls[a]._sounds.length;l++)if(!n._howls[a]._sounds[l]._paused)return n}return n._suspendTimer&&clearTimeout(n._suspendTimer),n._suspendTimer=setTimeout(function(){if(!!n.autoSuspend){n._suspendTimer=null,n.state="suspending";var y=function(){n.state="suspended",n._resumeAfterSuspend&&(delete n._resumeAfterSuspend,n._autoResume())};n.ctx.suspend().then(y,y)}},3e4),n}},_autoResume:function(){var n=this;if(!(!n.ctx||typeof n.ctx.resume=="undefined"||!t.usingWebAudio))return n.state==="running"&&n.ctx.state!=="interrupted"&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):n.state==="suspended"||n.state==="running"&&n.ctx.state==="interrupted"?(n.ctx.resume().then(function(){n.state="running";for(var a=0;a<n._howls.length;a++)n._howls[a]._emit("resume")}),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):n.state==="suspending"&&(n._resumeAfterSuspend=!0),n}};var t=new e,i=function(n){var a=this;if(!n.src||n.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}a.init(n)};i.prototype={init:function(n){var a=this;return t.ctx||C(),a._autoplay=n.autoplay||!1,a._format=typeof n.format!="string"?n.format:[n.format],a._html5=n.html5||!1,a._muted=n.mute||!1,a._loop=n.loop||!1,a._pool=n.pool||5,a._preload=typeof n.preload=="boolean"||n.preload==="metadata"?n.preload:!0,a._rate=n.rate||1,a._sprite=n.sprite||{},a._src=typeof n.src!="string"?n.src:[n.src],a._volume=n.volume!==void 0?n.volume:1,a._xhr={method:n.xhr&&n.xhr.method?n.xhr.method:"GET",headers:n.xhr&&n.xhr.headers?n.xhr.headers:null,withCredentials:n.xhr&&n.xhr.withCredentials?n.xhr.withCredentials:!1},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=n.onend?[{fn:n.onend}]:[],a._onfade=n.onfade?[{fn:n.onfade}]:[],a._onload=n.onload?[{fn:n.onload}]:[],a._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],a._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],a._onpause=n.onpause?[{fn:n.onpause}]:[],a._onplay=n.onplay?[{fn:n.onplay}]:[],a._onstop=n.onstop?[{fn:n.onstop}]:[],a._onmute=n.onmute?[{fn:n.onmute}]:[],a._onvolume=n.onvolume?[{fn:n.onvolume}]:[],a._onrate=n.onrate?[{fn:n.onrate}]:[],a._onseek=n.onseek?[{fn:n.onseek}]:[],a._onunlock=n.onunlock?[{fn:n.onunlock}]:[],a._onresume=[],a._webAudio=t.usingWebAudio&&!a._html5,typeof t.ctx!="undefined"&&t.ctx&&t.autoUnlock&&t._unlockAudio(),t._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var n=this,a=null;if(t.noAudio){n._emit("loaderror",null,"No audio support.");return}typeof n._src=="string"&&(n._src=[n._src]);for(var l=0;l<n._src.length;l++){var y,T;if(n._format&&n._format[l])y=n._format[l];else{if(T=n._src[l],typeof T!="string"){n._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}y=/^data:audio\/([^;,]+);/i.exec(T),y||(y=/\.([^.]+)$/.exec(T.split("?",1)[0])),y&&(y=y[1].toLowerCase())}if(y||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),y&&t.codecs(y)){a=n._src[l];break}}if(!a){n._emit("loaderror",null,"No codec support for selected audio sources.");return}return n._src=a,n._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(n._html5=!0,n._webAudio=!1),new u(n),n._webAudio&&_(n),n},play:function(n,a){var l=this,y=null;if(typeof n=="number")y=n,n=null;else{if(typeof n=="string"&&l._state==="loaded"&&!l._sprite[n])return null;if(typeof n=="undefined"&&(n="__default",!l._playLock)){for(var T=0,S=0;S<l._sounds.length;S++)l._sounds[S]._paused&&!l._sounds[S]._ended&&(T++,y=l._sounds[S]._id);T===1?n=null:y=null}}var I=y?l._soundById(y):l._inactiveSound();if(!I)return null;if(y&&!n&&(n=I._sprite||"__default"),l._state!=="loaded"){I._sprite=n,I._ended=!1;var L=I._id;return l._queue.push({event:"play",action:function(){l.play(L)}}),L}if(y&&!I._paused)return a||l._loadQueue("play"),I._id;l._webAudio&&t._autoResume();var M=Math.max(0,I._seek>0?I._seek:l._sprite[n][0]/1e3),J=Math.max(0,(l._sprite[n][0]+l._sprite[n][1])/1e3-M),O=J*1e3/Math.abs(I._rate),$=l._sprite[n][0]/1e3,V=(l._sprite[n][0]+l._sprite[n][1])/1e3;I._sprite=n,I._ended=!1;var q=function(){I._paused=!1,I._seek=M,I._start=$,I._stop=V,I._loop=!!(I._loop||l._sprite[n][2])};if(M>=V){l._ended(I);return}var H=I._node;if(l._webAudio){var oe=function(){l._playLock=!1,q(),l._refreshBuffer(I);var he=I._muted||l._muted?0:I._volume;H.gain.setValueAtTime(he,t.ctx.currentTime),I._playStart=t.ctx.currentTime,typeof H.bufferSource.start=="undefined"?I._loop?H.bufferSource.noteGrainOn(0,M,86400):H.bufferSource.noteGrainOn(0,M,J):I._loop?H.bufferSource.start(0,M,86400):H.bufferSource.start(0,M,J),O!==1/0&&(l._endTimers[I._id]=setTimeout(l._ended.bind(l,I),O)),a||setTimeout(function(){l._emit("play",I._id),l._loadQueue()},0)};t.state==="running"&&t.ctx.state!=="interrupted"?oe():(l._playLock=!0,l.once("resume",oe),l._clearTimer(I._id))}else{var se=function(){H.currentTime=M,H.muted=I._muted||l._muted||t._muted||H.muted,H.volume=I._volume*t.volume(),H.playbackRate=I._rate;try{var he=H.play();if(he&&typeof Promise!="undefined"&&(he instanceof Promise||typeof he.then=="function")?(l._playLock=!0,q(),he.then(function(){l._playLock=!1,H._unlocked=!0,a?l._loadQueue():l._emit("play",I._id)}).catch(function(){l._playLock=!1,l._emit("playerror",I._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),I._ended=!0,I._paused=!0})):a||(l._playLock=!1,q(),l._emit("play",I._id)),H.playbackRate=I._rate,H.paused){l._emit("playerror",I._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}n!=="__default"||I._loop?l._endTimers[I._id]=setTimeout(l._ended.bind(l,I),O):(l._endTimers[I._id]=function(){l._ended(I),H.removeEventListener("ended",l._endTimers[I._id],!1)},H.addEventListener("ended",l._endTimers[I._id],!1))}catch(Se){l._emit("playerror",I._id,Se)}};H.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(H.src=l._src,H.load());var le=window&&window.ejecta||!H.readyState&&t._navigator.isCocoonJS;if(H.readyState>=3||le)se();else{l._playLock=!0,l._state="loading";var pe=function(){l._state="loaded",se(),H.removeEventListener(t._canPlayEvent,pe,!1)};H.addEventListener(t._canPlayEvent,pe,!1),l._clearTimer(I._id)}}return I._id},pause:function(n){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(n)}}),a;for(var l=a._getSoundIds(n),y=0;y<l.length;y++){a._clearTimer(l[y]);var T=a._soundById(l[y]);if(T&&!T._paused&&(T._seek=a.seek(l[y]),T._rateSeek=0,T._paused=!0,a._stopFade(l[y]),T._node))if(a._webAudio){if(!T._node.bufferSource)continue;typeof T._node.bufferSource.stop=="undefined"?T._node.bufferSource.noteOff(0):T._node.bufferSource.stop(0),a._cleanBuffer(T._node)}else(!isNaN(T._node.duration)||T._node.duration===1/0)&&T._node.pause();arguments[1]||a._emit("pause",T?T._id:null)}return a},stop:function(n,a){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"stop",action:function(){l.stop(n)}}),l;for(var y=l._getSoundIds(n),T=0;T<y.length;T++){l._clearTimer(y[T]);var S=l._soundById(y[T]);S&&(S._seek=S._start||0,S._rateSeek=0,S._paused=!0,S._ended=!0,l._stopFade(y[T]),S._node&&(l._webAudio?S._node.bufferSource&&(typeof S._node.bufferSource.stop=="undefined"?S._node.bufferSource.noteOff(0):S._node.bufferSource.stop(0),l._cleanBuffer(S._node)):(!isNaN(S._node.duration)||S._node.duration===1/0)&&(S._node.currentTime=S._start||0,S._node.pause(),S._node.duration===1/0&&l._clearSound(S._node))),a||l._emit("stop",S._id))}return l},mute:function(n,a){var l=this;if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"mute",action:function(){l.mute(n,a)}}),l;if(typeof a=="undefined")if(typeof n=="boolean")l._muted=n;else return l._muted;for(var y=l._getSoundIds(a),T=0;T<y.length;T++){var S=l._soundById(y[T]);S&&(S._muted=n,S._interval&&l._stopFade(S._id),l._webAudio&&S._node?S._node.gain.setValueAtTime(n?0:S._volume,t.ctx.currentTime):S._node&&(S._node.muted=t._muted?!0:n),l._emit("mute",S._id))}return l},volume:function(){var n=this,a=arguments,l,y;if(a.length===0)return n._volume;if(a.length===1||a.length===2&&typeof a[1]=="undefined"){var T=n._getSoundIds(),S=T.indexOf(a[0]);S>=0?y=parseInt(a[0],10):l=parseFloat(a[0])}else a.length>=2&&(l=parseFloat(a[0]),y=parseInt(a[1],10));var I;if(typeof l!="undefined"&&l>=0&&l<=1){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,a)}}),n;typeof y=="undefined"&&(n._volume=l),y=n._getSoundIds(y);for(var L=0;L<y.length;L++)I=n._soundById(y[L]),I&&(I._volume=l,a[2]||n._stopFade(y[L]),n._webAudio&&I._node&&!I._muted?I._node.gain.setValueAtTime(l,t.ctx.currentTime):I._node&&!I._muted&&(I._node.volume=l*t.volume()),n._emit("volume",I._id))}else return I=y?n._soundById(y):n._sounds[0],I?I._volume:0;return n},fade:function(n,a,l,y){var T=this;if(T._state!=="loaded"||T._playLock)return T._queue.push({event:"fade",action:function(){T.fade(n,a,l,y)}}),T;n=Math.min(Math.max(0,parseFloat(n)),1),a=Math.min(Math.max(0,parseFloat(a)),1),l=parseFloat(l),T.volume(n,y);for(var S=T._getSoundIds(y),I=0;I<S.length;I++){var L=T._soundById(S[I]);if(L){if(y||T._stopFade(S[I]),T._webAudio&&!L._muted){var M=t.ctx.currentTime,J=M+l/1e3;L._volume=n,L._node.gain.setValueAtTime(n,M),L._node.gain.linearRampToValueAtTime(a,J)}T._startFadeInterval(L,n,a,l,S[I],typeof y=="undefined")}}return T},_startFadeInterval:function(n,a,l,y,T,S){var I=this,L=a,M=l-a,J=Math.abs(M/.01),O=Math.max(4,J>0?y/J:y),$=Date.now();n._fadeTo=l,n._interval=setInterval(function(){var V=(Date.now()-$)/y;$=Date.now(),L+=M*V,L=Math.round(L*100)/100,M<0?L=Math.max(l,L):L=Math.min(l,L),I._webAudio?n._volume=L:I.volume(L,n._id,!0),S&&(I._volume=L),(l<a&&L<=l||l>a&&L>=l)&&(clearInterval(n._interval),n._interval=null,n._fadeTo=null,I.volume(l,n._id),I._emit("fade",n._id))},O)},_stopFade:function(n){var a=this,l=a._soundById(n);return l&&l._interval&&(a._webAudio&&l._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(l._interval),l._interval=null,a.volume(l._fadeTo,n),l._fadeTo=null,a._emit("fade",n)),a},loop:function(){var n=this,a=arguments,l,y,T;if(a.length===0)return n._loop;if(a.length===1)if(typeof a[0]=="boolean")l=a[0],n._loop=l;else return T=n._soundById(parseInt(a[0],10)),T?T._loop:!1;else a.length===2&&(l=a[0],y=parseInt(a[1],10));for(var S=n._getSoundIds(y),I=0;I<S.length;I++)T=n._soundById(S[I]),T&&(T._loop=l,n._webAudio&&T._node&&T._node.bufferSource&&(T._node.bufferSource.loop=l,l&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop,n.playing(S[I])&&(n.pause(S[I],!0),n.play(S[I],!0)))));return n},rate:function(){var n=this,a=arguments,l,y;if(a.length===0)y=n._sounds[0]._id;else if(a.length===1){var T=n._getSoundIds(),S=T.indexOf(a[0]);S>=0?y=parseInt(a[0],10):l=parseFloat(a[0])}else a.length===2&&(l=parseFloat(a[0]),y=parseInt(a[1],10));var I;if(typeof l=="number"){if(n._state!=="loaded"||n._playLock)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,a)}}),n;typeof y=="undefined"&&(n._rate=l),y=n._getSoundIds(y);for(var L=0;L<y.length;L++)if(I=n._soundById(y[L]),I){n.playing(y[L])&&(I._rateSeek=n.seek(y[L]),I._playStart=n._webAudio?t.ctx.currentTime:I._playStart),I._rate=l,n._webAudio&&I._node&&I._node.bufferSource?I._node.bufferSource.playbackRate.setValueAtTime(l,t.ctx.currentTime):I._node&&(I._node.playbackRate=l);var M=n.seek(y[L]),J=(n._sprite[I._sprite][0]+n._sprite[I._sprite][1])/1e3-M,O=J*1e3/Math.abs(I._rate);(n._endTimers[y[L]]||!I._paused)&&(n._clearTimer(y[L]),n._endTimers[y[L]]=setTimeout(n._ended.bind(n,I),O)),n._emit("rate",I._id)}}else return I=n._soundById(y),I?I._rate:n._rate;return n},seek:function(){var n=this,a=arguments,l,y;if(a.length===0)n._sounds.length&&(y=n._sounds[0]._id);else if(a.length===1){var T=n._getSoundIds(),S=T.indexOf(a[0]);S>=0?y=parseInt(a[0],10):n._sounds.length&&(y=n._sounds[0]._id,l=parseFloat(a[0]))}else a.length===2&&(l=parseFloat(a[0]),y=parseInt(a[1],10));if(typeof y=="undefined")return 0;if(typeof l=="number"&&(n._state!=="loaded"||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,a)}}),n;var I=n._soundById(y);if(I)if(typeof l=="number"&&l>=0){var L=n.playing(y);L&&n.pause(y,!0),I._seek=l,I._ended=!1,n._clearTimer(y),!n._webAudio&&I._node&&!isNaN(I._node.duration)&&(I._node.currentTime=l);var M=function(){L&&n.play(y,!0),n._emit("seek",y)};if(L&&!n._webAudio){var J=function(){n._playLock?setTimeout(J,0):M()};setTimeout(J,0)}else M()}else if(n._webAudio){var O=n.playing(y)?t.ctx.currentTime-I._playStart:0,$=I._rateSeek?I._rateSeek-I._seek:0;return I._seek+($+O*Math.abs(I._rate))}else return I._node.currentTime;return n},playing:function(n){var a=this;if(typeof n=="number"){var l=a._soundById(n);return l?!l._paused:!1}for(var y=0;y<a._sounds.length;y++)if(!a._sounds[y]._paused)return!0;return!1},duration:function(n){var a=this,l=a._duration,y=a._soundById(n);return y&&(l=a._sprite[y._sprite][1]/1e3),l},state:function(){return this._state},unload:function(){for(var n=this,a=n._sounds,l=0;l<a.length;l++)a[l]._paused||n.stop(a[l]._id),n._webAudio||(n._clearSound(a[l]._node),a[l]._node.removeEventListener("error",a[l]._errorFn,!1),a[l]._node.removeEventListener(t._canPlayEvent,a[l]._loadFn,!1),a[l]._node.removeEventListener("ended",a[l]._endFn,!1),t._releaseHtml5Audio(a[l]._node)),delete a[l]._node,n._clearTimer(a[l]._id);var y=t._howls.indexOf(n);y>=0&&t._howls.splice(y,1);var T=!0;for(l=0;l<t._howls.length;l++)if(t._howls[l]._src===n._src||n._src.indexOf(t._howls[l]._src)>=0){T=!1;break}return m&&T&&delete m[n._src],t.noAudio=!1,n._state="unloaded",n._sounds=[],n=null,null},on:function(n,a,l,y){var T=this,S=T["_on"+n];return typeof a=="function"&&S.push(y?{id:l,fn:a,once:y}:{id:l,fn:a}),T},off:function(n,a,l){var y=this,T=y["_on"+n],S=0;if(typeof a=="number"&&(l=a,a=null),a||l)for(S=0;S<T.length;S++){var I=l===T[S].id;if(a===T[S].fn&&I||!a&&I){T.splice(S,1);break}}else if(n)y["_on"+n]=[];else{var L=Object.keys(y);for(S=0;S<L.length;S++)L[S].indexOf("_on")===0&&Array.isArray(y[L[S]])&&(y[L[S]]=[])}return y},once:function(n,a,l){var y=this;return y.on(n,a,l,1),y},_emit:function(n,a,l){for(var y=this,T=y["_on"+n],S=T.length-1;S>=0;S--)(!T[S].id||T[S].id===a||n==="load")&&(setTimeout(function(I){I.call(this,a,l)}.bind(y,T[S].fn),0),T[S].once&&y.off(n,T[S].fn,T[S].id));return y._loadQueue(n),y},_loadQueue:function(n){var a=this;if(a._queue.length>0){var l=a._queue[0];l.event===n&&(a._queue.shift(),a._loadQueue()),n||l.action()}return a},_ended:function(n){var a=this,l=n._sprite;if(!a._webAudio&&n._node&&!n._node.paused&&!n._node.ended&&n._node.currentTime<n._stop)return setTimeout(a._ended.bind(a,n),100),a;var y=!!(n._loop||a._sprite[l][2]);if(a._emit("end",n._id),!a._webAudio&&y&&a.stop(n._id,!0).play(n._id),a._webAudio&&y){a._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=t.ctx.currentTime;var T=(n._stop-n._start)*1e3/Math.abs(n._rate);a._endTimers[n._id]=setTimeout(a._ended.bind(a,n),T)}return a._webAudio&&!y&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,a._clearTimer(n._id),a._cleanBuffer(n._node),t._autoSuspend()),!a._webAudio&&!y&&a.stop(n._id,!0),a},_clearTimer:function(n){var a=this;if(a._endTimers[n]){if(typeof a._endTimers[n]!="function")clearTimeout(a._endTimers[n]);else{var l=a._soundById(n);l&&l._node&&l._node.removeEventListener("ended",a._endTimers[n],!1)}delete a._endTimers[n]}return a},_soundById:function(n){for(var a=this,l=0;l<a._sounds.length;l++)if(n===a._sounds[l]._id)return a._sounds[l];return null},_inactiveSound:function(){var n=this;n._drain();for(var a=0;a<n._sounds.length;a++)if(n._sounds[a]._ended)return n._sounds[a].reset();return new u(n)},_drain:function(){var n=this,a=n._pool,l=0,y=0;if(!(n._sounds.length<a)){for(y=0;y<n._sounds.length;y++)n._sounds[y]._ended&&l++;for(y=n._sounds.length-1;y>=0;y--){if(l<=a)return;n._sounds[y]._ended&&(n._webAudio&&n._sounds[y]._node&&n._sounds[y]._node.disconnect(0),n._sounds.splice(y,1),l--)}}},_getSoundIds:function(n){var a=this;if(typeof n=="undefined"){for(var l=[],y=0;y<a._sounds.length;y++)l.push(a._sounds[y]._id);return l}else return[n]},_refreshBuffer:function(n){var a=this;return n._node.bufferSource=t.ctx.createBufferSource(),n._node.bufferSource.buffer=m[a._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,t.ctx.currentTime),a},_cleanBuffer:function(n){var a=this,l=t._navigator&&t._navigator.vendor.indexOf("Apple")>=0;if(t._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),l))try{n.bufferSource.buffer=t._scratchBuffer}catch{}return n.bufferSource=null,a},_clearSound:function(n){var a=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);a||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var u=function(n){this._parent=n,this.init()};u.prototype={init:function(){var n=this,a=n._parent;return n._muted=a._muted,n._loop=a._loop,n._volume=a._volume,n._rate=a._rate,n._seek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++t._counter,a._sounds.push(n),n.create(),n},create:function(){var n=this,a=n._parent,l=t._muted||n._muted||n._parent._muted?0:n._volume;return a._webAudio?(n._node=typeof t.ctx.createGain=="undefined"?t.ctx.createGainNode():t.ctx.createGain(),n._node.gain.setValueAtTime(l,t.ctx.currentTime),n._node.paused=!0,n._node.connect(t.masterGain)):t.noAudio||(n._node=t._obtainHtml5Audio(),n._errorFn=n._errorListener.bind(n),n._node.addEventListener("error",n._errorFn,!1),n._loadFn=n._loadListener.bind(n),n._node.addEventListener(t._canPlayEvent,n._loadFn,!1),n._endFn=n._endListener.bind(n),n._node.addEventListener("ended",n._endFn,!1),n._node.src=a._src,n._node.preload=a._preload===!0?"auto":a._preload,n._node.volume=l*t.volume(),n._node.load()),n},reset:function(){var n=this,a=n._parent;return n._muted=a._muted,n._loop=a._loop,n._volume=a._volume,n._rate=a._rate,n._seek=0,n._rateSeek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++t._counter,n},_errorListener:function(){var n=this;n._parent._emit("loaderror",n._id,n._node.error?n._node.error.code:0),n._node.removeEventListener("error",n._errorFn,!1)},_loadListener:function(){var n=this,a=n._parent;a._duration=Math.ceil(n._node.duration*10)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,a._duration*1e3]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),n._node.removeEventListener(t._canPlayEvent,n._loadFn,!1)},_endListener:function(){var n=this,a=n._parent;a._duration===1/0&&(a._duration=Math.ceil(n._node.duration*10)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=a._duration*1e3),a._ended(n)),n._node.removeEventListener("ended",n._endFn,!1)}};var m={},_=function(n){var a=n._src;if(m[a]){n._duration=m[a].duration,b(n);return}if(/^data:[^;]+;base64,/.test(a)){for(var l=atob(a.split(",")[1]),y=new Uint8Array(l.length),T=0;T<l.length;++T)y[T]=l.charCodeAt(T);v(y.buffer,n)}else{var S=new XMLHttpRequest;S.open(n._xhr.method,a,!0),S.withCredentials=n._xhr.withCredentials,S.responseType="arraybuffer",n._xhr.headers&&Object.keys(n._xhr.headers).forEach(function(I){S.setRequestHeader(I,n._xhr.headers[I])}),S.onload=function(){var I=(S.status+"")[0];if(I!=="0"&&I!=="2"&&I!=="3"){n._emit("loaderror",null,"Failed loading audio file with status: "+S.status+".");return}v(S.response,n)},S.onerror=function(){n._webAudio&&(n._html5=!0,n._webAudio=!1,n._sounds=[],delete m[a],n.load())},h(S)}},h=function(n){try{n.send()}catch{n.onerror()}},v=function(n,a){var l=function(){a._emit("loaderror",null,"Decoding audio data failed.")},y=function(T){T&&a._sounds.length>0?(m[a._src]=T,b(a,T)):l()};typeof Promise!="undefined"&&t.ctx.decodeAudioData.length===1?t.ctx.decodeAudioData(n).then(y).catch(l):t.ctx.decodeAudioData(n,y,l)},b=function(n,a){a&&!n._duration&&(n._duration=a.duration),Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,n._duration*1e3]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue())},C=function(){if(!!t.usingWebAudio){try{typeof AudioContext!="undefined"?t.ctx=new AudioContext:typeof webkitAudioContext!="undefined"?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch{t.usingWebAudio=!1}t.ctx||(t.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),a=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),l=a?parseInt(a[1],10):null;if(n&&l&&l<9){var y=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());t._navigator&&!y&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain=typeof t.ctx.createGain=="undefined"?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.setValueAtTime(t._muted?0:t._volume,t.ctx.currentTime),t.masterGain.connect(t.ctx.destination)),t._setup()}};r.Howler=t,r.Howl=i,typeof Ie!="undefined"?(Ie.HowlerGlobal=e,Ie.Howler=t,Ie.Howl=i,Ie.Sound=u):typeof window!="undefined"&&(window.HowlerGlobal=e,window.Howler=t,window.Howl=i,window.Sound=u)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var i=this;if(!i.ctx||!i.ctx.listener)return i;for(var u=i._howls.length-1;u>=0;u--)i._howls[u].stereo(t);return i},HowlerGlobal.prototype.pos=function(t,i,u){var m=this;if(!m.ctx||!m.ctx.listener)return m;if(i=typeof i!="number"?m._pos[1]:i,u=typeof u!="number"?m._pos[2]:u,typeof t=="number")m._pos=[t,i,u],typeof m.ctx.listener.positionX!="undefined"?(m.ctx.listener.positionX.setTargetAtTime(m._pos[0],Howler.ctx.currentTime,.1),m.ctx.listener.positionY.setTargetAtTime(m._pos[1],Howler.ctx.currentTime,.1),m.ctx.listener.positionZ.setTargetAtTime(m._pos[2],Howler.ctx.currentTime,.1)):m.ctx.listener.setPosition(m._pos[0],m._pos[1],m._pos[2]);else return m._pos;return m},HowlerGlobal.prototype.orientation=function(t,i,u,m,_,h){var v=this;if(!v.ctx||!v.ctx.listener)return v;var b=v._orientation;if(i=typeof i!="number"?b[1]:i,u=typeof u!="number"?b[2]:u,m=typeof m!="number"?b[3]:m,_=typeof _!="number"?b[4]:_,h=typeof h!="number"?b[5]:h,typeof t=="number")v._orientation=[t,i,u,m,_,h],typeof v.ctx.listener.forwardX!="undefined"?(v.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),v.ctx.listener.forwardY.setTargetAtTime(i,Howler.ctx.currentTime,.1),v.ctx.listener.forwardZ.setTargetAtTime(u,Howler.ctx.currentTime,.1),v.ctx.listener.upX.setTargetAtTime(m,Howler.ctx.currentTime,.1),v.ctx.listener.upY.setTargetAtTime(_,Howler.ctx.currentTime,.1),v.ctx.listener.upZ.setTargetAtTime(h,Howler.ctx.currentTime,.1)):v.ctx.listener.setOrientation(t,i,u,m,_,h);else return b;return v},Howl.prototype.init=function(t){return function(i){var u=this;return u._orientation=i.orientation||[1,0,0],u._stereo=i.stereo||null,u._pos=i.pos||null,u._pannerAttr={coneInnerAngle:typeof i.coneInnerAngle!="undefined"?i.coneInnerAngle:360,coneOuterAngle:typeof i.coneOuterAngle!="undefined"?i.coneOuterAngle:360,coneOuterGain:typeof i.coneOuterGain!="undefined"?i.coneOuterGain:0,distanceModel:typeof i.distanceModel!="undefined"?i.distanceModel:"inverse",maxDistance:typeof i.maxDistance!="undefined"?i.maxDistance:1e4,panningModel:typeof i.panningModel!="undefined"?i.panningModel:"HRTF",refDistance:typeof i.refDistance!="undefined"?i.refDistance:1,rolloffFactor:typeof i.rolloffFactor!="undefined"?i.rolloffFactor:1},u._onstereo=i.onstereo?[{fn:i.onstereo}]:[],u._onpos=i.onpos?[{fn:i.onpos}]:[],u._onorientation=i.onorientation?[{fn:i.onorientation}]:[],t.call(this,i)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,i){var u=this;if(!u._webAudio)return u;if(u._state!=="loaded")return u._queue.push({event:"stereo",action:function(){u.stereo(t,i)}}),u;var m=typeof Howler.ctx.createStereoPanner=="undefined"?"spatial":"stereo";if(typeof i=="undefined")if(typeof t=="number")u._stereo=t,u._pos=[t,0,0];else return u._stereo;for(var _=u._getSoundIds(i),h=0;h<_.length;h++){var v=u._soundById(_[h]);if(v)if(typeof t=="number")v._stereo=t,v._pos=[t,0,0],v._node&&(v._pannerAttr.panningModel="equalpower",(!v._panner||!v._panner.pan)&&e(v,m),m==="spatial"?typeof v._panner.positionX!="undefined"?(v._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):v._panner.setPosition(t,0,0):v._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),u._emit("stereo",v._id);else return v._stereo}return u},Howl.prototype.pos=function(t,i,u,m){var _=this;if(!_._webAudio)return _;if(_._state!=="loaded")return _._queue.push({event:"pos",action:function(){_.pos(t,i,u,m)}}),_;if(i=typeof i!="number"?0:i,u=typeof u!="number"?-.5:u,typeof m=="undefined")if(typeof t=="number")_._pos=[t,i,u];else return _._pos;for(var h=_._getSoundIds(m),v=0;v<h.length;v++){var b=_._soundById(h[v]);if(b)if(typeof t=="number")b._pos=[t,i,u],b._node&&((!b._panner||b._panner.pan)&&e(b,"spatial"),typeof b._panner.positionX!="undefined"?(b._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),b._panner.positionY.setValueAtTime(i,Howler.ctx.currentTime),b._panner.positionZ.setValueAtTime(u,Howler.ctx.currentTime)):b._panner.setPosition(t,i,u)),_._emit("pos",b._id);else return b._pos}return _},Howl.prototype.orientation=function(t,i,u,m){var _=this;if(!_._webAudio)return _;if(_._state!=="loaded")return _._queue.push({event:"orientation",action:function(){_.orientation(t,i,u,m)}}),_;if(i=typeof i!="number"?_._orientation[1]:i,u=typeof u!="number"?_._orientation[2]:u,typeof m=="undefined")if(typeof t=="number")_._orientation=[t,i,u];else return _._orientation;for(var h=_._getSoundIds(m),v=0;v<h.length;v++){var b=_._soundById(h[v]);if(b)if(typeof t=="number")b._orientation=[t,i,u],b._node&&(b._panner||(b._pos||(b._pos=_._pos||[0,0,-.5]),e(b,"spatial")),typeof b._panner.orientationX!="undefined"?(b._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),b._panner.orientationY.setValueAtTime(i,Howler.ctx.currentTime),b._panner.orientationZ.setValueAtTime(u,Howler.ctx.currentTime)):b._panner.setOrientation(t,i,u)),_._emit("orientation",b._id);else return b._orientation}return _},Howl.prototype.pannerAttr=function(){var t=this,i=arguments,u,m,_;if(!t._webAudio)return t;if(i.length===0)return t._pannerAttr;if(i.length===1)if(typeof i[0]=="object")u=i[0],typeof m=="undefined"&&(u.pannerAttr||(u.pannerAttr={coneInnerAngle:u.coneInnerAngle,coneOuterAngle:u.coneOuterAngle,coneOuterGain:u.coneOuterGain,distanceModel:u.distanceModel,maxDistance:u.maxDistance,refDistance:u.refDistance,rolloffFactor:u.rolloffFactor,panningModel:u.panningModel}),t._pannerAttr={coneInnerAngle:typeof u.pannerAttr.coneInnerAngle!="undefined"?u.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof u.pannerAttr.coneOuterAngle!="undefined"?u.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof u.pannerAttr.coneOuterGain!="undefined"?u.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof u.pannerAttr.distanceModel!="undefined"?u.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof u.pannerAttr.maxDistance!="undefined"?u.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof u.pannerAttr.refDistance!="undefined"?u.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof u.pannerAttr.rolloffFactor!="undefined"?u.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof u.pannerAttr.panningModel!="undefined"?u.pannerAttr.panningModel:t._panningModel});else return _=t._soundById(parseInt(i[0],10)),_?_._pannerAttr:t._pannerAttr;else i.length===2&&(u=i[0],m=parseInt(i[1],10));for(var h=t._getSoundIds(m),v=0;v<h.length;v++)if(_=t._soundById(h[v]),_){var b=_._pannerAttr;b={coneInnerAngle:typeof u.coneInnerAngle!="undefined"?u.coneInnerAngle:b.coneInnerAngle,coneOuterAngle:typeof u.coneOuterAngle!="undefined"?u.coneOuterAngle:b.coneOuterAngle,coneOuterGain:typeof u.coneOuterGain!="undefined"?u.coneOuterGain:b.coneOuterGain,distanceModel:typeof u.distanceModel!="undefined"?u.distanceModel:b.distanceModel,maxDistance:typeof u.maxDistance!="undefined"?u.maxDistance:b.maxDistance,refDistance:typeof u.refDistance!="undefined"?u.refDistance:b.refDistance,rolloffFactor:typeof u.rolloffFactor!="undefined"?u.rolloffFactor:b.rolloffFactor,panningModel:typeof u.panningModel!="undefined"?u.panningModel:b.panningModel};var C=_._panner;C?(C.coneInnerAngle=b.coneInnerAngle,C.coneOuterAngle=b.coneOuterAngle,C.coneOuterGain=b.coneOuterGain,C.distanceModel=b.distanceModel,C.maxDistance=b.maxDistance,C.refDistance=b.refDistance,C.rolloffFactor=b.rolloffFactor,C.panningModel=b.panningModel):(_._pos||(_._pos=t._pos||[0,0,-.5]),e(_,"spatial"))}return t},Sound.prototype.init=function(t){return function(){var i=this,u=i._parent;i._orientation=u._orientation,i._stereo=u._stereo,i._pos=u._pos,i._pannerAttr=u._pannerAttr,t.call(this),i._stereo?u.stereo(i._stereo):i._pos&&u.pos(i._pos[0],i._pos[1],i._pos[2],i._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var i=this,u=i._parent;return i._orientation=u._orientation,i._stereo=u._stereo,i._pos=u._pos,i._pannerAttr=u._pannerAttr,i._stereo?u.stereo(i._stereo):i._pos?u.pos(i._pos[0],i._pos[1],i._pos[2],i._id):i._panner&&(i._panner.disconnect(0),i._panner=void 0,u._refreshBuffer(i)),t.call(this)}}(Sound.prototype.reset);var e=function(t,i){i=i||"spatial",i==="spatial"?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,typeof t._panner.positionX!="undefined"?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),typeof t._panner.orientationX!="undefined"?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}})()})(Jo);export{as as $,ys as A,Kr as B,Ps as C,Qo as D,ms as E,ri as F,es as G,ts as H,Zo as I,Ye as J,ds as K,ss as L,rt as M,_s as N,si as O,fs as P,Ts as Q,Is as R,Fs as S,jo as T,Ls as U,Ds as V,Fn as W,Rs as X,xs as Y,rn as Z,Ss as _,ai as a,zr as a0,ps as a1,rs as a2,ws as a3,Us as a4,Hs as a5,Vs as a6,Ms as a7,qs as a8,Gs as a9,zo as aa,Jo as ab,us as b,cs as c,ii as d,oi as e,ns as f,ci as g,hs as h,Os as i,Cs as j,is as k,os as l,Ns as m,ls as n,di as o,Bs as p,ks as q,bs as r,jr as s,Jt as t,Es as u,pi as v,As as w,Ln as x,vs as y,gs as z};
