var Mt=Object.defineProperty;var At=Object.getOwnPropertySymbols;var Jt=Object.prototype.hasOwnProperty,Pt=Object.prototype.propertyIsEnumerable;var jt=(f,t,y)=>t in f?Mt(f,t,{enumerable:!0,configurable:!0,writable:!0,value:y}):f[t]=y,z=(f,t)=>{for(var y in t||(t={}))Jt.call(t,y)&&jt(f,y,t[y]);if(At)for(var y of At(t))Pt.call(t,y)&&jt(f,y,t[y]);return f};function X(){}function Ft(f,t){for(const y in t)f[y]=t[y];return f}function Tt(f){return f()}function Et(){return Object.create(null)}function Q(f){f.forEach(Tt)}function Rt(f){return typeof f=="function"}function Wt(f,t){return f!=f?t==t:f!==t||f&&typeof f=="object"||typeof f=="function"}function Kt(f){return Object.keys(f).length===0}function $t(f,...t){if(f==null)return X;const y=f.subscribe(...t);return y.unsubscribe?()=>y.unsubscribe():y}function Ce(f){let t;return $t(f,y=>t=y)(),t}function Ue(f,t,y){f.$$.on_destroy.push($t(t,y))}function Me(f,t,y,p){if(f){const e=Ot(f,t,y,p);return f[0](e)}}function Ot(f,t,y,p){return f[1]&&p?Ft(y.ctx.slice(),f[1](p(t))):y.ctx}function Je(f,t,y,p){if(f[2]&&p){const e=f[2](p(y));if(t.dirty===void 0)return e;if(typeof e=="object"){const r=[],n=Math.max(t.dirty.length,e.length);for(let o=0;o<n;o+=1)r[o]=t.dirty[o]|e[o];return r}return t.dirty|e}return t.dirty}function Pe(f,t,y,p,e,r){if(e){const n=Ot(t,y,p,r);f.p(n,e)}}function Fe(f){if(f.ctx.length>32){const t=[],y=f.ctx.length/32;for(let p=0;p<y;p++)t[p]=-1;return t}return-1}let nt=!1;function Ht(){nt=!0}function qt(){nt=!1}function Lt(f,t,y,p){for(;f<t;){const e=f+(t-f>>1);y(e)<=p?f=e+1:t=e}return f}function zt(f){if(f.hydrate_init)return;f.hydrate_init=!0;let t=f.childNodes;if(f.nodeName==="HEAD"){const u=[];for(let i=0;i<t.length;i++){const d=t[i];d.claim_order!==void 0&&u.push(d)}t=u}const y=new Int32Array(t.length+1),p=new Int32Array(t.length);y[0]=-1;let e=0;for(let u=0;u<t.length;u++){const i=t[u].claim_order,d=(e>0&&t[y[e]].claim_order<=i?e+1:Lt(1,e,b=>t[y[b]].claim_order,i))-1;p[u]=y[d]+1;const h=d+1;y[h]=u,e=Math.max(h,e)}const r=[],n=[];let o=t.length-1;for(let u=y[e]+1;u!=0;u=p[u-1]){for(r.push(t[u-1]);o>=u;o--)n.push(t[o]);o--}for(;o>=0;o--)n.push(t[o]);r.reverse(),n.sort((u,i)=>u.claim_order-i.claim_order);for(let u=0,i=0;u<n.length;u++){for(;i<r.length&&n[u].claim_order>=r[i].claim_order;)i++;const d=i<r.length?r[i]:null;f.insertBefore(n[u],d)}}function Xt(f,t){if(nt){for(zt(f),(f.actual_end_child===void 0||f.actual_end_child!==null&&f.actual_end_child.parentElement!==f)&&(f.actual_end_child=f.firstChild);f.actual_end_child!==null&&f.actual_end_child.claim_order===void 0;)f.actual_end_child=f.actual_end_child.nextSibling;t!==f.actual_end_child?(t.claim_order!==void 0||t.parentNode!==f)&&f.insertBefore(t,f.actual_end_child):f.actual_end_child=t.nextSibling}else(t.parentNode!==f||t.nextSibling!==null)&&f.appendChild(t)}function Re(f,t,y){nt&&!y?Xt(f,t):(t.parentNode!==f||t.nextSibling!=y)&&f.insertBefore(t,y||null)}function Vt(f){f.parentNode.removeChild(f)}function We(f,t){for(let y=0;y<f.length;y+=1)f[y]&&f[y].d(t)}function Yt(f){return document.createElement(f)}function Qt(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function ct(f){return document.createTextNode(f)}function Ke(){return ct(" ")}function He(){return ct("")}function qe(f,t,y,p){return f.addEventListener(t,y,p),()=>f.removeEventListener(t,y,p)}function Le(f){return function(t){return t.preventDefault(),f.call(this,t)}}function ze(f,t,y){y==null?f.removeAttribute(t):f.getAttribute(t)!==y&&f.setAttribute(t,y)}function Zt(f){return Array.from(f.childNodes)}function te(f){f.claim_info===void 0&&(f.claim_info={last_index:0,total_claimed:0})}function Dt(f,t,y,p,e=!1){te(f);const r=(()=>{for(let n=f.claim_info.last_index;n<f.length;n++){const o=f[n];if(t(o)){const u=y(o);return u===void 0?f.splice(n,1):f[n]=u,e||(f.claim_info.last_index=n),o}}for(let n=f.claim_info.last_index-1;n>=0;n--){const o=f[n];if(t(o)){const u=y(o);return u===void 0?f.splice(n,1):f[n]=u,e?u===void 0&&f.claim_info.last_index--:f.claim_info.last_index=n,o}}return p()})();return r.claim_order=f.claim_info.total_claimed,f.claim_info.total_claimed+=1,r}function Nt(f,t,y,p){return Dt(f,e=>e.nodeName===t,e=>{const r=[];for(let n=0;n<e.attributes.length;n++){const o=e.attributes[n];y[o.name]||r.push(o.name)}r.forEach(n=>e.removeAttribute(n))},()=>p(t))}function Xe(f,t,y){return Nt(f,t,y,Yt)}function Ve(f,t,y){return Nt(f,t,y,Qt)}function ee(f,t){return Dt(f,y=>y.nodeType===3,y=>{const p=""+t;if(y.data.startsWith(p)){if(y.data.length!==p.length)return y.splitText(p.length)}else y.data=p},()=>ct(t),!0)}function Ye(f){return ee(f," ")}function Qe(f,t){t=""+t,f.wholeText!==t&&(f.data=t)}function Ze(f,t){f.value=t==null?"":t}function tn(f,t){for(let y=0;y<f.options.length;y+=1){const p=f.options[y];if(p.__value===t){p.selected=!0;return}}f.selectedIndex=-1}function en(f,t,y){f.classList[y?"add":"remove"](t)}let rt;function it(f){rt=f}function lt(){if(!rt)throw new Error("Function called outside component initialization");return rt}function nn(f){lt().$$.on_mount.push(f)}function rn(f){lt().$$.after_update.push(f)}function on(f,t){lt().$$.context.set(f,t)}function un(f,t){const y=f.$$.callbacks[t.type];y&&y.slice().forEach(p=>p.call(this,t))}const Z=[],It=[],ot=[],ht=[],ne=Promise.resolve();let pt=!1;function re(){pt||(pt=!0,ne.then(Bt))}function dt(f){ot.push(f)}function an(f){ht.push(f)}let yt=!1;const wt=new Set;function Bt(){if(!yt){yt=!0;do{for(let f=0;f<Z.length;f+=1){const t=Z[f];it(t),ie(t.$$)}for(it(null),Z.length=0;It.length;)It.pop()();for(let f=0;f<ot.length;f+=1){const t=ot[f];wt.has(t)||(wt.add(t),t())}ot.length=0}while(Z.length);for(;ht.length;)ht.pop()();pt=!1,yt=!1,wt.clear()}}function ie(f){if(f.fragment!==null){f.update(),Q(f.before_update);const t=f.dirty;f.dirty=[-1],f.fragment&&f.fragment.p(f.ctx,t),f.after_update.forEach(dt)}}const ut=new Set;let q;function sn(){q={r:0,c:[],p:q}}function fn(){q.r||Q(q.c),q=q.p}function Gt(f,t){f&&f.i&&(ut.delete(f),f.i(t))}function cn(f,t,y,p){if(f&&f.o){if(ut.has(f))return;ut.add(f),q.c.push(()=>{ut.delete(f),p&&(y&&f.d(1),p())}),f.o(t)}}function ln(f,t){f.d(1),t.delete(f.key)}function hn(f,t,y,p,e,r,n,o,u,i,d,h){let b=f.length,_=r.length,w=b;const s={};for(;w--;)s[f[w].key]=w;const x=[],j=new Map,l=new Map;for(w=_;w--;){const A=h(e,r,w),E=y(A);let T=n.get(E);T?p&&T.p(A,t):(T=i(E,A),T.c()),j.set(E,x[w]=T),E in s&&l.set(E,Math.abs(w-s[E]))}const a=new Set,c=new Set;function m(A){Gt(A,1),A.m(o,d),n.set(A.key,A),d=A.first,_--}for(;b&&_;){const A=x[_-1],E=f[b-1],T=A.key,O=E.key;A===E?(d=A.first,b--,_--):j.has(O)?!n.has(T)||a.has(T)?m(A):c.has(O)?b--:l.get(T)>l.get(O)?(c.add(T),m(A)):(a.add(O),b--):(u(E,n),b--)}for(;b--;){const A=f[b];j.has(A.key)||u(A,n)}for(;_;)m(x[_-1]);return x}function pn(f,t){const y={},p={},e={$$scope:1};let r=f.length;for(;r--;){const n=f[r],o=t[r];if(o){for(const u in n)u in o||(p[u]=1);for(const u in o)e[u]||(y[u]=o[u],e[u]=1);f[r]=o}else for(const u in n)e[u]=1}for(const n in p)n in y||(y[n]=void 0);return y}function dn(f){return typeof f=="object"&&f!==null?f:{}}function yn(f,t,y){const p=f.$$.props[t];p!==void 0&&(f.$$.bound[p]=y,y(f.$$.ctx[p]))}function wn(f){f&&f.c()}function vn(f,t){f&&f.l(t)}function oe(f,t,y,p){const{fragment:e,on_mount:r,on_destroy:n,after_update:o}=f.$$;e&&e.m(t,y),p||dt(()=>{const u=r.map(Tt).filter(Rt);n?n.push(...u):Q(u),f.$$.on_mount=[]}),o.forEach(dt)}function ue(f,t){const y=f.$$;y.fragment!==null&&(Q(y.on_destroy),y.fragment&&y.fragment.d(t),y.on_destroy=y.fragment=null,y.ctx=[])}function ae(f,t){f.$$.dirty[0]===-1&&(Z.push(f),re(),f.$$.dirty.fill(0)),f.$$.dirty[t/31|0]|=1<<t%31}function _n(f,t,y,p,e,r,n,o=[-1]){const u=rt;it(f);const i=f.$$={fragment:null,ctx:null,props:r,update:X,not_equal:e,bound:Et(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Et(),dirty:o,skip_bound:!1,root:t.target||u.$$.root};n&&n(i.root);let d=!1;if(i.ctx=y?y(f,t.props||{},(h,b,..._)=>{const w=_.length?_[0]:b;return i.ctx&&e(i.ctx[h],i.ctx[h]=w)&&(!i.skip_bound&&i.bound[h]&&i.bound[h](w),d&&ae(f,h)),b}):[],i.update(),d=!0,Q(i.before_update),i.fragment=p?p(i.ctx):!1,t.target){if(t.hydrate){Ht();const h=Zt(t.target);i.fragment&&i.fragment.l(h),h.forEach(Vt)}else i.fragment&&i.fragment.c();t.intro&&Gt(f.$$.fragment),oe(f,t.target,t.anchor,t.customElement),qt(),Bt()}it(u)}class bn{$destroy(){ue(this,1),this.$destroy=X}$on(t,y){const p=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return p.push(y),()=>{const e=p.indexOf(y);e!==-1&&p.splice(e,1)}}$set(t){this.$$set&&!Kt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const V=[];function gn(f,t=X){let y;const p=new Set;function e(o){if(Wt(f,o)&&(f=o,y)){const u=!V.length;for(const i of p)i[1](),V.push(i,f);if(u){for(let i=0;i<V.length;i+=2)V[i][0](V[i+1]);V.length=0}}}function r(o){e(o(f))}function n(o,u=X){const i=[o,u];return p.add(i),p.size===1&&(y=t(e)||X),o(f),()=>{p.delete(i),p.size===0&&(y(),y=null)}}return{set:e,update:r,subscribe:n}}var vt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function _t(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ct={exports:{}};(function(f){(function(){function t(p,e){return e?_t(p):p.slice?t[r(p)]:function(n,o){p(n={exports:{}}),t[r(o)]=n.exports};function r(n){return n.split("/").slice(-1).toString().replace(".js","")}}var y=f;t(function(p){String.random=function(r,n){var o="";for(r=r||24,n=n||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";r-- >0;)o+=n.charAt(Math.floor(Math.random()*n.length));return o},String.match=function(r,n){var o,u;return typeof r!="string"?!1:(typeof n=="string"&&(n={"=":n}),n=n||{},o=n["="]||n["*"]||n[">"]||n["<"],r===o?!0:u!==n["="]?!1:(o=n["*"]||n[">"],r.slice(0,(o||"").length)===o?!0:u!==n["*"]?!1:u!==n[">"]&&u!==n["<"]?r>=n[">"]&&r<=n["<"]:u!==n[">"]&&r>=n[">"]||u!==n["<"]&&r<=n["<"]))},String.hash=function(r,n){if(typeof r=="string"){if(n=n||0,!r.length)return n;for(var o=0,u=r.length,i;o<u;++o)i=r.charCodeAt(o),n=(n<<5)-n+i,n|=0;return n}};var e=Object.prototype.hasOwnProperty;Object.plain=function(r){return r?r instanceof Object&&r.constructor===Object||Object.prototype.toString.call(r).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(r,n){for(var o in r)if(e.call(r,o)&&(!n||n.indexOf(o)==-1))return!1;return!0},Object.keys=Object.keys||function(r){var n=[];for(var o in r)e.call(r,o)&&n.push(o);return n},function(){var r,n=setTimeout,o=0,u=0,i=typeof setImmediate!=""+r&&setImmediate||n;n.poll=n.poll||function(d){if(1>=+new Date-o&&u++<3333){d();return}i(function(){o=+new Date,d()},u=0)}}(),function(){var r=setTimeout,n=r.turn=r.turn||function(b){o.push(b)==1&&u(h)},o=n.s=[],u=r.poll,i=0,d,h=function(){(d=o[i++])&&d(),(i==o.length||i==99)&&(o=n.s=o.slice(i),i=0),o.length&&u(h)}}(),function(){var r,n=setTimeout,o=n.turn;(n.each=n.each||function(u,i,d,h){h=h||9,function b(_,w,s){if(w=(_=(u||[]).splice(0,h)).length){for(var x=0;x<w&&r===(s=i(_[x]));x++);if(r===s){o(b);return}}d&&d(s)}()})()}()})(t,"./shim"),t(function(p){p.exports=function e(r,n,o){if(!r)return{to:e};var u,i=typeof n=="function",r=(this.tag||(this.tag={}))[r]||i&&(this.tag[r]={tag:r,to:e._={next:function(h){var b;(b=this.to)&&b.next(h)}}});if(i){var d={off:e.off||(e.off=function(){if(this.next===e._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=e._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:e._,next:n,the:r,on:this,as:o};return(d.back=r.last||r).to=d,r.last=d}return(r=r.to)&&u!==n&&r.next(n),r}})(t,"./onto"),t(function(p){t("./shim"),p.exports=function(e){return e===void 0?!1:e===null?!0:e===1/0||e!==e?!1:typeof e=="string"||typeof e=="boolean"||typeof e=="number"?!0:e&&typeof(e["#"]||0)=="string"&&Object.empty(e,["#"])?e["#"]:!1}})(t,"./valid"),t(function(p){t("./shim");function e(){var d=+new Date;return u<d?(n=0,u=d+e.drift):u=d+(n+=1)/o+e.drift}e.drift=0;var r=-1/0,n=0,o=999,u=r,i;e.is=function(d,h,b){var _=h&&d&&d._&&d._[">"]||b;if(!!_)return typeof(_=_[h])=="number"?_:r},e.ify=function(d,h,b,_,w){(d=d||{})._=d._||{},w&&(d._["#"]=w);var s=d._[">"]||(d._[">"]={});return i!==h&&h!=="_"&&(typeof b=="number"&&(s[h]=b),i!==_&&(d[h]=_)),d},p.exports=e})(t,"./state"),t(function(p){t("./shim");function e(r){var n={s:{}},o=n.s;r=r||{max:999,age:1e3*9},n.check=function(i){return o[i]?u(i):!1};var u=n.track=function(i){var d=o[i]||(o[i]={});return d.was=n.now=+new Date,n.to||(n.to=setTimeout(n.drop,r.age+9)),d};return n.drop=function(i){n.to=null,n.now=+new Date;var d=Object.keys(o);console.STAT&&console.STAT(n.now,+new Date-n.now,"dup drop keys"),setTimeout.each(d,function(h){var b=o[h];b&&(i||r.age)>n.now-b.was||delete o[h]},0,99)},n}p.exports=e})(t,"./dup"),t(function(p){t("./onto"),p.exports=function(n,o){if(!!this.on){var u=(this.opt||{}).lack||9e3;if(typeof n!="function"){if(!n)return;var d=n["#"]||n,i=(this.tag||"")[d];return i?(o&&(i=this.on(d,o),clearTimeout(i.err),i.err=setTimeout(function(){i.off()},u)),!0):void 0}var d=o&&o["#"]||e(9);if(!n)return d;var h=this.on(d,n,o);return h.err=h.err||setTimeout(function(){h.off(),h.next({err:"Error: No ACK yet.",lack:!0})},u),d}};var e=String.random||function(){return Math.random().toString(36).slice(2)}})(t,"./ask"),t(function(p){function e(w){return w instanceof e?(this._={$:this}).$:this instanceof e?e.create(this._={$:this,opt:w}):new e(w)}e.is=function(w){return w instanceof e||w&&w._&&w===w._.$||!1},e.version=.202,e.chain=e.prototype,e.chain.toJSON=function(){},t("./shim"),e.valid=t("./valid"),e.state=t("./state"),e.on=t("./onto"),e.dup=t("./dup"),e.ask=t("./ask"),function(){e.create=function(k){k.root=k.root||k,k.graph=k.graph||{},k.on=k.on||e.on,k.ask=k.ask||e.ask,k.dup=k.dup||e.dup();var I=k.$.opt(k.opt);return k.once||(k.on("in",w,k),k.on("out",w,k),k.on("put",j,k),e.on("create",k),k.on("create",k)),k.once=1,I};function w(k){if(!!k){if(k.out===w){this.to.next(k);return}var I=this,v=I.as,g=v.at||v,S=g.$,$=g.dup,B,D=k.DBG;if((B=k["#"])||(B=k["#"]=n(9)),!$.check(B)){if($.track(B),B=k._,k._=typeof B=="function"?B:function(){},k.$&&k.$===(k.$._||"").$||(k.$=S),k["@"]&&!k.put&&a(k),!g.ask(k["@"],k))if(D&&(D.u=+new Date),k.put){s(k);return}else k.get&&e.on.get(k,S);D&&(D.uc=+new Date),I.to.next(k),D&&(D.ua=+new Date),!(k.nts||k.NTS)&&(k.out=w,g.on("out",k),D&&(D.ue=+new Date))}}}function s(k){if(!!k){var I=k._||"",v=I.root=((I.$=k.$||"")._||"").root;if(k["@"]&&I.faith&&!I.miss){k.out=w,v.on("out",k);return}I.latch=v.hatch,I.match=v.hatch=[];var g=k.put,S=I.DBG=k.DBG,$=+new Date;if(!(g["#"]&&g["."])){S&&(S.p=$),I["#"]=k["#"],I.msg=k,I.all=0,I.stun=1;var B=Object.keys(g);console.STAT&&console.STAT($,((S||I).pk=+new Date)-$,"put sort");var D=0,N,G,C,U,J,P,K;(function W(tt){if(N!=D){if(N=D,!(C=B[D])){console.STAT&&console.STAT($,((S||I).pd=+new Date)-$,"put"),l(I);return}(U=g[C])?(K=U._)?C!==K["#"]?P=m+A(C)+"soul not same.":(J=K[">"])||(P=m+A(C)+"no state."):P=m+A(C)+"no meta.":P=m+A(C)+"no node.",G=Object.keys(U||{})}if(P){k.err=I.err=P,l(I);return}var kt=0,H;for(tt=tt||0;tt++<9&&(H=G[kt++]);)if(H!=="_"){var et=U[H],St=J[H];if(h===St){P=m+A(H)+"on"+A(C)+"no state.";break}if(!u(et)){P=m+A(H)+"on"+A(C)+"bad "+typeof et+A(et);break}x(et,H,C,St,k)}if((G=G.slice(kt)).length){o(W);return}++D,G=null,W(tt)})()}}}e.on.put=s;function x(k,I,v,g,S){var $=S._||"",B=$.root,D=B.graph,N,G=D[v]||b,C=i(G,I,1),U=G[I],J=$.DBG;(N=console.STAT)&&(!D[v]||!U)&&(N.has=(N.has||0)+1);var P=O();if(g>P){setTimeout(function(){x(k,I,v,g,S)},(N=g-P)>T?T:N),console.STAT&&console.STAT((J||$).Hf=+new Date,N,"future");return}if(!(g<C&&!$.miss)&&!(!$.faith&&g===C&&(k===U||E(k)<=E(U))&&!$.miss)){$.stun++;var K=S["#"]+$.all++,W={toString:function(){return K},_:$};W.toJSON=W.toString,J&&(J.ph=J.ph||+new Date),B.on("put",{"#":W,"@":S["@"],put:{"#":v,".":I,":":k,">":g},_:$})}}function j(k){var I;(I=(k._||"").DBG)&&(I.pa=+new Date,I.pm=I.pm||+new Date);var v=this,g=v.as,S=g.graph,$=k._,B=k.put,D=B["#"],N=B["."],G=B[":"],C=B[">"];k["#"];var U;(U=$.msg)&&(U=U.put)&&(U=U[D])&&d(U,N,C,G,D),S[D]=d(S[D],N,C,G,D),(U=(g.next||"")[D])&&U.on("in",k),l($),v.to.next(k)}function l(k,I){var v;if(!k.stop&&!(!k.err&&0<--k.stun)&&(k.stop=1,!!(v=k.root))){var g=k.match;g.end=1,g===v.hatch&&(!(g=k.latch)||g.end?delete v.hatch:v.hatch=g),k.hatch&&k.hatch(),setTimeout.each(k.match,function(S){S&&S()}),!(!(I=k.msg)||k.err||I.err)&&(I.out=w,k.root.on("out",I))}}function a(k){var I=k["@"]||"",v;!(v=I._)||(v.acks=(v.acks||0)+1,(v.err=k.err)&&(k["@"]=v["#"],l(v)),!v.stop&&!v.crack&&(v.crack=v.match&&v.match.push(function(){c(v)})),c(v))}function c(k){!k||!k.root||k.stun||k.acks!==k.all||k.root.on("in",{"@":k["#"],err:k.err,ok:k.err?h:{"":1}})}var m="Error: Invalid graph!",A=function(k){return" '"+(""+k).slice(0,9)+"...' "},E=JSON.stringify,T=2147483647,O=e.state}(),function(){e.on.get=function(s,x){var j=x._,l=s.get,a=l["#"],c=j.graph[a],m=l["."],A=j.next||(j.next={});A[a];var E=s._||{},T=E.DBG=s.DBG;if(T&&(T.g=+new Date),!c)return j.on("get",s);if(m){if(typeof m!="string"||h===c[m])return j.on("get",s);c=d({},m,i(c,m),c[m],a)}c&&w(s,c),j.on("get",s)};function w(s,x){var j=+new Date,l=s._||{},a=l.DBG=s.DBG,c=s["#"],m=n(9),A=Object.keys(x||"").sort(),E=((x||"")._||"")["#"];A.length;var T=s.$._.root,O=x===T.graph[E];console.STAT&&console.STAT(j,((a||l).gk=+new Date)-j,"got keys"),x&&function k(){j=+new Date;for(var I=0,v,g={},S;I<9&&(v=A[I++]);)d(g,v,i(x,v),x[v],E);A=A.slice(I),(S={})[E]=g,g=S;var $;O&&($=function(){},$.ram=$.faith=!0),S=A.length,console.STAT&&console.STAT(j,-(j-(j=+new Date)),"got copied some"),a&&(a.ga=+new Date),T.on("in",{"@":c,"#":m,put:g,"%":S?m=n(9):h,$:T.$,_:$,DBG:a}),console.STAT&&console.STAT(j,+new Date-j,"got in"),!!S&&setTimeout.turn(k)}(),x||T.on("in",{"@":s["#"]})}e.on.get.ack=w}(),function(){e.chain.opt=function(w){w=w||{};var s=this,x=s._,j=w.peers||w;return Object.plain(w)||(w={}),Object.plain(x.opt)||(x.opt=w),typeof j=="string"&&(j=[j]),j instanceof Array&&(Object.plain(x.opt.peers)||(x.opt.peers={}),j.forEach(function(l){var a={};a.id=a.url=l,x.opt.peers[l]=x.opt.peers[l]||a})),x.opt.peers=x.opt.peers||{},r(w,function l(a){var c=this[a];if(this&&this.hasOwnProperty(a)||typeof c=="string"||Object.empty(c)){this[a]=c;return}c&&c.constructor!==Object&&!(c instanceof Array)||r(c,l)}),e.on("opt",x),x.opt.uuid=x.opt.uuid||function(a){return e.state().toString(36).replace(".","")+String.random(a||12)},s}}();var r=function(w,s){Object.keys(w).forEach(s,w)},n=String.random,o=setTimeout.turn,u=e.valid,i=e.state.is,d=e.state.ify,h,b={},_;e.log=function(){return!e.log.off&&_.log.apply(_,arguments),[].slice.call(arguments).join(" ")},e.log.once=function(w,s,x){return(x=e.log.once)[w]=x[w]||0,x[w]++||e.log(s)},typeof window!="undefined"&&((window.GUN=window.Gun=e).window=window);try{typeof y!="undefined"&&(y.exports=e)}catch(w){}p.exports=e,(e.window||{}).console=(e.window||{}).console||{log:function(){}},(_=console).only=function(w,s){return _.only.i&&w===_.only.i&&_.only.i++&&(_.log.apply(_,arguments)||s)},e.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(t,"./root"),t(function(p){var e=t("./root");e.chain.back=function(o,u){var i;if(o=o||1,o===-1||o===1/0)return this._.root.$;if(o===1)return(this._.back||this._).$;var d=this,h=d._;if(typeof o=="string"&&(o=o.split(".")),o instanceof Array){var b=0,_=o.length,i=h;for(b;b<_;b++)i=(i||r)[o[b]];return n!==i?u?d:i:(i=h.back)?i.$.back(o,u):void 0}if(typeof o=="function"){for(var w,i={back:h};(i=i.back)&&n===(w=o(i,u)););return w}return typeof o=="number"?(h.back||h).$.back(o-1):this};var r={},n})(t,"./back"),t(function(p){var e=t("./root");e.chain.chain=function(l){var a=this,c=a._,m=new(l||a).constructor(a),A=m._,E;return A.root=E=c.root,A.id=++E.once,A.back=a._,A.on=e.on,A.on("in",e.on.in,A),A.on("out",e.on.out,A),m};function r(l){var a,c=this.as,m=c.back,A=c.root,E;if(l.$||(l.$=c.$),this.to.next(l),c.err){c.on("in",{put:c.put=h,$:c.$});return}if(a=l.get){if(A.pass&&(A.pass[c.id]=c),c.lex&&Object.keys(c.lex).forEach(function(T){E[T]=c.lex[T]},E=l.get=l.get||{}),a["#"]||c.soul){if(a["#"]=a["#"]||c.soul,l["#"]||(l["#"]=b(9)),m=A.$.get(a["#"])._,a=a["."]){if(w(m.put,a)&&(E=m.ask&&m.ask[a],(m.ask||(m.ask={}))[a]=m.$.get(a)._,m.on("in",{get:a,put:{"#":m.soul,".":a,":":m.put[a],">":x(A.graph[m.soul],a)}}),E))return}else{if(E=m.ask&&m.ask[""],(m.ask||(m.ask={}))[""]=m,h!==m.put&&(m.on("in",m),E))return;l.$=m.$}return A.ask(i,l),A.on("in",l)}if(a["."])return c.get?(l={get:{".":c.get},$:c.$},(m.ask||(m.ask={}))[c.get]=l.$._,m.on("out",l)):(l={get:c.lex?l.get:{},$:c.$},m.on("out",l));if((c.ask||(c.ask={}))[""]=c,c.get)return a["."]=c.get,(m.ask||(m.ask={}))[c.get]=l.$._,m.on("out",l)}return m.on("out",l)}e.on.out=r;function n(l,a){a=a||this.as;var c=a.root,m=l.$||(l.$=a.$),A=(m||"")._||d,E=l.put||"",T=E["#"],O=E["."],k=h!==E["="]?E["="]:E[":"],I=E[">"]||-1/0,v;if(h!==l.put&&(h===E["#"]||h===E["."]||h===E[":"]&&h===E["="]||h===E[">"])){if(!_(E)){if(!(T=((E||"")._||"")["#"])){console.log("chain not yet supported for",E,"...",l,a);return}return m=a.root.$.get(T),setTimeout.each(Object.keys(E).sort(),function(g){g=="_"||h===(I=x(E,g))||a.on("in",{$:m,put:{"#":T,".":g,"=":E[g],">":I},VIA:l})})}a.on("in",{$:A.back.$,put:{"#":T=A.back.soul,".":O=A.has||A.get,"=":E,">":x(A.back.put,O)},via:l});return}(l.seen||"")[a.id]||((l.seen||(l.seen=function(){}))[a.id]=a,a!==A&&(Object.keys(l).forEach(function(g){E[g]=l[g]},E={}),E.get=a.get||E.get,!a.soul&&!a.has?E.$$$=E.$$$||a.$:A.soul&&(E.$=a.$,E.$$=E.$$||A.$),l=E),u(l,a),(a.soul||l.$$)&&I>=x(c.graph[T],O)&&((E=c.$.get(T)._).put=j(E.put,O,I,k,T)),!A.soul&&I>=x(c.graph[T],O)&&(v=(c.$.get(T)._.next||"")[O])&&(v.put=k,typeof(E=_(k))=="string"&&(v.put=c.$.get(E)._.put||k)),this.to&&this.to.next(l),a.any&&setTimeout.each(Object.keys(a.any),function(g){(g=a.any[g])&&g(l)},0,99),a.echo&&setTimeout.each(Object.keys(a.echo),function(g){(g=a.echo[g])&&g.on("in",l)},0,99),((l.$$||"")._||A).soul&&(v=a.next)&&(v=v[O])&&(E={},Object.keys(l).forEach(function(g){E[g]=l[g]}),E.$=(l.$$||l.$).get(E.get=O),delete E.$$,delete E.$$$,v.on("in",E)),o(l,a))}e.on.in=n;function o(l,a){if(a=a||this.as||l.$._,!(l.$$&&this!==e.on)&&!(!l.put||a.soul)){var c=l.put||"",m=c["="]||c[":"],A,E=a.root,T=E.$.get(c["#"]).get(c["."])._;if(typeof(m=_(m))!="string"){this===e.on&&((T.echo||(T.echo={}))[a.id]=a);return}if(!((T.echo||(T.echo={}))[a.id]&&!(E.pass||"")[a.id])){if(A=E.pass){if(A[m+a.id])return;A[m+a.id]=1}(T.echo||(T.echo={}))[a.id]=a,a.has&&(a.link=m);var O=E.$.get(T.link=m)._;(O.echo||(O.echo={}))[T.id]=T;var A=a.ask||"";(A[""]||a.lex)&&O.on("out",{get:{"#":m}}),setTimeout.each(Object.keys(A),function(k,I){!k||!(I=A[k])||I.on("out",{get:{"#":m,".":k}})},0,99)}}}e.on.link=o;function u(l,a){var c=l.put||"",m=h!==c["="]?c["="]:c[":"],A=a.root,E,T;if(h===m){if(a.soul&&h!==a.put||(T=(l.$$||l.$||"")._||"",l["@"]&&(h!==T.put||h!==a.put)))return;(E=a.link||l.linked)&&delete(A.$.get(E)._.echo||"")[a.id],a.has&&(a.link=null),a.put=h,setTimeout.each(Object.keys(a.next||""),function(O,k){!(k=a.next[O])||(E&&delete(A.$.get(E).get(O)._.echo||"")[k.id],k.on("in",{get:O,put:h,$:k.$}))},0,99);return}a.soul||l.$$||(E=_(m),T=l.$._||"",!((E===T.link||a.has&&!T.link)&&!((A.pass||"")[a.id]&&typeof E!="string"))&&(delete(T.echo||"")[a.id],u({get:a.get,put:h,$:l.$,linked:l.linked=l.linked||T.link},a)))}e.on.unlink=u;function i(l,a){var c=this.as,m=c.$._;m.root;var A=c.get||"",E=(l.put||"")[A["#"]]||"";if(!l.put||typeof A["."]=="string"&&h===E[A["."]]){if(h!==m.put||!m.soul&&!m.has)return;m.ack=(m.ack||0)+1,m.on("in",{get:m.get,put:m.put=h,$:m.$,"@":l["@"]});return}(l._||{}).miss=1,e.on.put(l)}var d={},h,b=String.random,_=e.valid,w=function(l,a){return l&&Object.prototype.hasOwnProperty.call(l,a)},s=e.state,x=s.is,j=s.ify})(t,"./chain"),t(function(p){var e=t("./root");e.chain.get=function(h,b,_){var w,s;if(typeof h=="string"){if(h.length==0)return(w=this.chain())._.err={err:e.log("0 length key!",h)},b&&b.call(w,w._.err),w;var x=this,j=x._,l=j.next||u;(w=l[h])||(w=h&&r(h,x)),w=w&&w.$}else if(typeof h=="function"){let T=function(O,k,I){if(!T.stun&&!((D=c.pass)&&!D[m])){var v=O.$._,g=(O.$$||"")._,S=(g||v).put,$=!v.has&&!v.soul,B={},D;if(($||d===S)&&(S=d===((D=O.put)||"")["="]?d===(D||"")[":"]?D:D[":"]:D["="]),typeof(D=e.valid(S))=="string"&&(S=d===(D=c.$.get(D)._.put)?a.not?d:S:D),!(a.not&&d===S)){if(d===a.stun){if((D=c.stun)&&D.on&&(j.$.back(function(N){if(D.on(""+N.id,B={}),(B.run||0)<T.id)return B}),!B.run&&D.on(""+v.id,B={}),!B.run&&g&&D.on(""+g.id,B={}),T.id>B.run&&((!B.stun||B.stun.end)&&(B.stun=D.on("stun"),B.stun=B.stun&&B.stun.last),B.stun&&!B.stun.end))){(B.stun.add||(B.stun.add={}))[m]=function(){T(O,k,1)};return}if(d===S&&(I=0),(D=c.hatch)&&!D.end&&d===a.hatch&&!I){if(A[v.$._.id])return;A[v.$._.id]=1,D.push(function(){T(O,k,1)});return}A={}}if(c.pass){if(c.pass[m+v.id])return;c.pass[m+v.id]=1}if(a.on){a.ok.call(v.$,S,v.get,O,k||T);return}if(a.v2020){a.ok(O,k||T);return}Object.keys(O).forEach(function(N){D[N]=O[N]},D={}),O=D,O.put=S,a.ok.call(a.as,O,k||T)}}};if(b===!0)return n(this,h,b,_),this;w=this;var j=w._,a=b||{},c=j.root,m;a.at=j,a.ok=h;var A={};return T.at=j,(j.any||(j.any={}))[m=String.random(7)]=T,T.off=function(){T.stun=1,!!j.any&&delete j.any[m]},T.rid=o,T.id=a.run||++c.once,s=c.pass,(c.pass={})[m]=1,a.out=a.out||{get:{}},j.on("out",a.out),c.pass=s,w}else{if(typeof h=="number")return this.get(""+h,b,_);if(typeof(s=i(h))=="string")return this.get(s,b,_);(s=this.get.next)&&(w=s(this,h))}return w?(b&&typeof b=="function"&&w.get(b,_),w):((w=this.chain())._.err={err:e.log("Invalid get request!",h)},b&&b.call(w,w._.err),w)};function r(h,b){var _=b._,w=_.next,s=b.chain(),x=s._;return w||(w=_.next={}),w[x.get=h]=x,b===_.root.$?x.soul=h:(_.soul||_.has)&&(x.has=h),x}function n(h,b,_,w){var s=h._,x=0,j;return(j=s.soul||s.link)?b(j,w,s):s.jam?s.jam.push([b,w]):(s.jam=[[b,w]],h.get(function(a,c){if(!(d===a.put&&!s.root.opt.super&&(j=Object.keys(s.root.opt.peers).length)&&++x<=j)){c.rid(a);var m=(m=a.$)&&m._||{},A=0,E;for(j=s.jam,delete s.jam;E=j[A++];){var T=E[0];E=E[1],T&&T(m.link||m.soul||e.valid(a.put)||((a.put||{})._||{})["#"],E,a,c)}}},{out:{get:{".":!0}}}),h)}function o(h){var b=this.at||this.on;if(!h||b.soul||b.has)return this.off();if(!!(h=(h=(h=h.$||h)._||h).id)){b.map;var _;if((_=this.seen||(this.seen={}))[h])return!0;_[h]=!0}}var u={},i=e.valid,d})(t,"./get"),t(function(p){var e=t("./root");e.chain.put=function(_,w,s){var x=this,j=x._,l=j.root;s=s||{},s.root=j.root,s.run||(s.run=l.once),r(s,j.id),s.ack=s.ack||w,s.via=s.via||x,s.data=s.data||_,s.soul||(s.soul=j.soul||typeof w=="string"&&w);var a=s.state=s.state||e.state();return typeof _=="function"?(_(function(c){s.data=c,x.put(u,u,s)}),x):s.soul?(s.$=l.$.get(s.soul),s.todo=[{it:s.data,ref:s.$}],s.turn=s.turn||d,s.ran=s.ran||n,function c(){var m=s.todo,A=m.pop(),E=A.it;A.ref&&A.ref._.id;var T,O,k,I,v;if(r(s,A.ref),(I=A.todo)&&(O=I.pop(),E=E[O],I.length&&m.push(A)),O&&(m.path||(m.path=[])).push(O),!(T=h(E))&&!(v=e.is(E))){if(!Object.plain(E)){(s.ack||i).call(s,s.out={err:s.err=e.log("Invalid data: "+(E&&(I=E.constructor)&&I.name||typeof E)+" at "+(s.via.back(function(B){B.get&&I.push(B.get)},I=[])||I.join("."))+"."+(m.path||[]).join("."))}),s.ran(s);return}for(var g=s.seen||(s.seen=[]),S=g.length;S--;)if(E===(I=g[S]).it){T=E=I.link;break}}if(O&&T)A.node=b(A.node,O,a,E);else{let B=function(D,N){var G=k.link["#"];N&&(N.off(),N.rid(D));var C=G||D.soul||(I=(D.$$||D.$)._||"").soul||I.link||((I=I.put||"")._||"")["#"]||I["#"]||((I=D.put||"")&&D.$$?I["#"]:(I["="]||I[":"]||"")["#"]);if(!G&&r(s,D.$),!C&&!A.link["#"]){(A.wait||(A.wait=[])).push(function(){B(D,N)});return}C||(C=[],(D.$$||D.$).back(function(U){if(I=U.soul||U.link)return C.push(I);C.push(U.get)}),C=C.reverse().join("/")),k.link["#"]=C,!v&&(((s.graph||(s.graph={}))[C]=k.node||(k.node={_:{}}))._["#"]=C),delete s.wait[$],k.wait&&setTimeout.each(k.wait,function(U){U&&U()}),s.ran(s)};s.seen.push(k={it:E,link:{},todo:v?[]:Object.keys(E).sort().reverse(),path:(m.path||[]).slice(),up:A}),A.node=b(A.node,O,a,k.link),!v&&k.todo.length&&m.push(k);var $=s.seen.length;(s.wait||(s.wait={}))[$]="",I=(k.ref=v?E:O?A.ref.get(O):A.ref)._,(I=E&&(E._||"")["#"]||I.soul||I.link)?B({soul:I}):k.ref.get(B,{run:s.run,v2020:1,out:{get:{".":" "}}})}if(!m.length)return s.ran(s);s.turn(c)}(),x):(o(s),x)};function r(_,w){if(!!w){w=(w._||"").id||w;var s=_.root.stun||(_.root.stun={on:e.on}),x={},j;_.stun||(_.stun=s.on("stun",function(){})),(j=s.on(""+w))&&j.the.last.next(x),!(x.run>=_.run)&&s.on(""+w,function(l){if(_.stun.end){this.off(),this.to.next(l);return}l.run=l.run||_.run,l.stun=l.stun||_.stun})}}function n(_){if(_.err){n.end(_.stun,_.root);return}if(!(_.todo.length||_.end||!Object.empty(_.wait))){_.end=1;var w=_.$.back(-1)._,s=w.root,x=w.ask(function(c){s.on("ack",c),c.err&&e.log(c),++j>(_.acks||0)&&this.off(),!!_.ack&&_.ack(c,this)},_.opt),j=0,l=_.stun,a;(a=function(){!l||(n.end(l,s),setTimeout.each(Object.keys(l=l.add||""),function(c){(c=l[c])&&c()}))}).hatch=a,_.via._.on("out",{put:_.out=_.graph,opt:_.opt,"#":x,_:a})}}n.end=function(_,w){_.end=i,_.the.to===_&&_===_.the.last&&delete w.stun,_.off()};function o(_){var w=_.via._,s;_.via=_.via.back(function(x){if(x.soul||!x.get)return x.$;s=_.data,(_.data={})[x.get]=s}),(!_.via||!_.via._.soul)&&(_.via=w.root.$.get(((_.data||"")._||"")["#"]||w.$.back("opt.uuid")())),_.via.put(_.data,_.ack,_)}var u,i=function(){},d=setTimeout.turn,h=e.valid,b=e.state.ify})(t,"./put"),t(function(p){var e=t("./root");t("./chain"),t("./back"),t("./put"),t("./get"),p.exports=e})(t,"./index"),t(function(p){var e=t("./index");e.chain.on=function(o,u,i,d){var h=this,b=h._;b.root;var _;if(typeof o=="string")return u?(_=b.on(o,u,i||b,d),i&&i.$&&(i.subs||(i.subs=[])).push(_),h):b.on(o);var w=u;return(w=w===!0?{change:!0}:w||{}).not=1,w.on=1,h.get(o,w),h},e.chain.once=function(o,u){if(u=u||{},!o)return r(this);var i=this,d=i._,h=d.root;d.put;var b=String.random(7),_;return i.get(function(w,s,x,j){var l=this,a=l._,c=a.one||(a.one={});if(j.stun||c[b]==="")return;if((_=e.valid(w))===!0){m();return}if(typeof _=="string")return;clearTimeout((d.one||"")[b]),clearTimeout(c[b]),c[b]=setTimeout(m,u.wait||99);function m(){!a.has&&!a.soul&&(a={put:w,get:s}),n===(_=a.put)&&(_=((x.$$||"")._||"").put),!(typeof e.valid(_)=="string"&&(_=h.$.get(_)._.put,_===n))&&(j.stun||c[b]!==""&&(c[b]="",(d.soul||d.has)&&j.off(),o.call(l,_,a.get)))}},{on:1}),i};function r(o,u,i){return e.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(i=o.chain())._.nix=o.once(function(d,h){i._.on("in",this._)}),i._.lex=o._.lex,i}e.chain.off=function(){var o=this,u=o._,i,d=u.back;if(!!d)return u.ack=0,(i=d.next)&&i[u.get]&&delete i[u.get],(i=d.ask)&&delete i[u.get],(i=d.put)&&delete i[u.get],(i=u.soul)&&delete d.root.graph[i],(i=u.map)&&Object.keys(i).forEach(function(h,b){b=i[h],b.link&&d.root.$.get(b.link).off()}),(i=u.next)&&Object.keys(i).forEach(function(h,b){b=i[h],b.$.off()}),u.on("off",{}),o};var n})(t,"./on"),t(function(p){var e=t("./index"),r=e.chain.get.next;e.chain.get.next=function(i,d){var h;return Object.plain(d)?(h=((h=d["#"])||"")["="]||h)?i.get(h):((h=i.chain()._).lex=d,i.on("in",function(b){String.match(b.get||(b.put||"")["."],d["."]||d["#"]||d)&&h.on("in",b),this.to.next(b)}),h.$):(r||o)(i,d)},e.chain.map=function(i,d,h){var b=this,_=b._,w,s;return Object.plain(i)&&(w=i["."]?i:{".":i},i=u),i?(e.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),s=b.chain(),b.map().on(function(x,j,l,a){var c=(i||o).call(this,x,j,l,a);if(u!==c){if(x===c)return s._.on("in",l);if(e.is(c))return s._.on("in",c._);var m={};Object.keys(l.put).forEach(function(A){m[A]=l.put[A]},m),m["="]=c,s._.on("in",{get:j,put:m})}}),s):((s=_.each)||((_.each=s=b.chain())._.lex=w||s._.lex||_.lex,s._.nix=b.back("nix"),b.on("in",n,s._)),s)};function n(i){this.to.next(i);var d=this.as,h=i.$,b=h._,_=i.put,w;!b.soul&&!i.$$||(w=d.lex)&&!String.match(i.get||(_||"")["."],w["."]||w["#"]||w)||e.on.link(i,d)}var o=function(){},u})(t,"./map"),t(function(p){var e=t("./index");e.chain.set=function(r,n,o){var u=this,i=u.back(-1),d,h;return n=n||function(){},o=o||{},o.item=o.item||r,(d=((r||"")._||"")["#"])&&((r={})["#"]=d),typeof(h=e.valid(r))=="string"?u.get(d=h).put(r,n,o):e.is(r)?(u.put(function(b){r.get(function(_,w,s){if(!_)return n.call(u,{err:e.log('Only a node can be linked! Not "'+s.put+'"!')});(h={})[_]={"#":_},b(h)},!0)}),r):(Object.plain(r)&&(r=i.get(d=u.back("opt.uuid")()).put(r)),u.get(d||i.back("opt.uuid")(7)).put(r,n,o))}})(t,"./set"),t(function(p){t("./shim");function e(n){var o=function(){},u=n.opt||{};u.log=u.log||console.log,u.gap=u.gap||u.wait||0,u.max=u.max||(u.memory?u.memory*999*999:3e8)*.3,u.pack=u.pack||u.max*.01*.01,u.puff=u.puff||9;var i=setTimeout.turn||setTimeout,d=JSON.parseAsync||function(a,c,m){var A;try{c(A,JSON.parse(a,m))}catch(E){c(E)}},h=JSON.stringifyAsync||function(a,c,m,A){var E;try{c(E,JSON.stringify(a,m,A))}catch(T){c(T)}},b=n.dup,_=b.check,w=b.track,s=o.hear=function(a,c){if(!!a){if(u.max<=a.length)return o.say({dam:"!",err:"Message too big!"},c);o===this&&(s.d+=a.length||0,++s.c);var m=c.SH=+new Date,A=a[0],E;if(A==="["){d(a,function(T,O){if(T||!O)return o.say({dam:"!",err:"DAM JSON parse error."},c);console.STAT&&console.STAT(+new Date,O.length,"# on hear batch");var k=u.puff;(function I(){for(var v=+new Date,g=0,S;g<k&&(S=O[g++]);)s(S,c);O=O.slice(g),console.STAT&&console.STAT(v,+new Date-v,"hear loop"),x(c),!!O.length&&i(I,0)})()}),a="";return}if(A==="{"||(a["#"]||Object.plain(a))&&(E=a)){if(E)return s.one(E,c,m);d(a,function(T,O){if(T||!O)return o.say({dam:"!",err:"DAM JSON parse error."},c);s.one(O,c,m)});return}}};s.one=function(a,c,m){var A,E,T,O,k;if(a.DBG&&(a.DBG=k={DBG:a.DBG}),k&&(k.h=m),k&&(k.hp=+new Date),(A=a["#"])||(A=a["#"]=String.random(9)),!(T=_(A))&&(E=a["##"],!(E&&(T=a["@"]||a.get&&A)&&b.check(O=T+E)))){if((a._=function(){}).via=o.leap=c,(T=a["><"])&&typeof T=="string"&&T.slice(0,99).split(",").forEach(function(I){this[I]=1},a._.yo={}),T=a.dam){(T=o.hear[T])&&T(a,c,n),w(A);return}var m=+new Date;k&&(k.is=m),c.SI=A,n.on("in",o.last=a),k&&(k.hd=+new Date),console.STAT&&console.STAT(m,+new Date-m,a.get?"msg get":a.put?"msg put":"msg"),(T=w(A)).via=c,a.get&&(T.it=a),O&&w(O),o.leap=o.last=null}},s.c=s.d=0,function(){var a=0,c;o.hash=function(T,O){var k,I,v,g=+new Date;h(T.put,function S($,B){var D=(I||(I=v=B||"")).slice(0,32768);if(k=String.hash(D,k),I=I.slice(32768),I){i(S,0);return}console.STAT&&console.STAT(g,+new Date-g,"say json+hash"),T._.$put=v,T["##"]=k,E(T,O),delete T._.$put},m)};function m(T,O){var k;return O instanceof Object?(Object.keys(O).sort().forEach(A,{to:k={},on:O}),k):O}function A(T){this.to[T]=this.on[T]}var E=o.say=function(T,O){var k;if((k=this)&&(k=k.to)&&k.next&&k.next(T),!T)return!1;var I,v,g=T["@"],S=T._||(T._=function(){}),$=T.DBG,B=+new Date;if(S.y=S.y||B,O||$&&($.y=B),(I=T["#"])||(I=T["#"]=String.random(9)),!c&&w(I),T.put&&(T.err||(b.s[I]||"").err))return!1;if(!T["##"]&&r!==T.put&&!S.via&&g){o.hash(T,O);return}if(!O&&g&&(O=(k=b.s[g])&&(k.via||(k=k.it)&&(k=k._)&&k.via)||(k=o.last)&&g===k["#"]&&o.leap),!O&&g)return b.s[g]?void 0:(console.STAT&&console.STAT(+new Date,++a,"total no peer to ack to"),!1);if(!O&&o.way)return o.way(T);if($&&($.yh=+new Date),!(v=S.raw)){o.raw(T,O);return}if($&&($.yr=+new Date),!O||!O.id){if(!Object.plain(O||u.peers))return!1;var B=+new Date;u.puff;var D=u.peers,N=Object.keys(O||u.peers||{});console.STAT&&console.STAT(B,+new Date-B,"peer keys"),function U(){var J=+new Date;c=1;var P=S.raw;S.raw=v;for(var K=0,W;K<9&&(W=(N||"")[K++]);)!(W=D[W])||E(T,W);S.raw=P,c=0,N=N.slice(K),console.STAT&&console.STAT(J,+new Date-J,"say loop"),!!N.length&&(i(U,0),g&&w(g))}();return}if(!O.wire&&o.wire&&o.wire(O),I!==O.last){if(O.last=I,O===S.via||(k=S.yo)&&(k[O.url]||k[O.pid]||k[O.id]))return!1;if(console.STAT&&console.STAT(B,(($||S).yp=+new Date)-(S.y||B),"say prep"),!c&&g&&w(g),O.batch){if(O.tail=(k=O.tail||0)+v.length,O.tail<=u.pack){O.batch+=(k?",":"")+v;return}x(O)}O.batch="[";var G=+new Date;setTimeout(function(){console.STAT&&console.STAT(G,+new Date-G,"0ms TO"),x(O)},u.gap),j(v,O),console.STAT&&g===O.SI&&console.STAT(B,+new Date-O.SH,"say ack")}};o.say.c=o.say.d=0,o.raw=function(T,O){if(!T)return"";var k=T._||{},I,v;if(v=k.raw)return v;if(typeof T=="string")return T;var g=T["##"],S=T["@"];if(g&&S){if(!k.via&&_(S+g))return!1;if((v=(b.s[S]||"").it)||(v=o.last)&&S===v["#"]){if(g===v["##"])return!1;v["##"]||(v["##"]=g)}}if(!T.dam){var $=0,B=[];v=u.peers;for(var D in v){var N=v[D];if(B.push(N.url||N.pid||N.id),++$>6)break}$>1&&(T["><"]=B.join())}if(I=k.$put){v={},Object.keys(T).forEach(function(C){v[C]=T[C]}),v.put=":])([:",h(v,function(C,U){if(!C){var J=+new Date;v=U.indexOf('"put":":])([:"'),G(r,U=U.slice(0,v+6)+I+U.slice(v+14)),console.STAT&&console.STAT(J,+new Date-J,"say slice")}});return}h(T,G);function G(C,U){C||(k.raw=U,E(T,O))}}}();function x(a){var c=a.batch,m=typeof c=="string";if(m&&(c+="]"),a.batch=a.tail=null,!!c&&!(m?3>c.length:!c.length)){if(!m)try{c=c.length===1?c[0]:JSON.stringify(c)}catch(A){return u.log("DAM JSON stringify error",A)}!c||j(c,a)}}function j(a,c){try{var m=c.wire;c.say?c.say(a):m.send&&m.send(a),o.say.d+=a.length||0,++o.say.c}catch(A){(c.queue=c.queue||[]).push(a)}}o.hi=function(a){var c=a.wire||{};a.id?u.peers[a.url||a.id]=a:(c=a.id=a.id||String.random(9),o.say({dam:"?",pid:n.opt.pid},u.peers[c]=a),delete b.s[a.last]),a.met=a.met||+new Date,c.hied||n.on(c.hied="hi",a),c=a.queue,a.queue=[],setTimeout.each(c||[],function(m){j(m,a)},0,9)},o.bye=function(a){n.on("bye",a);var c=+new Date;c=c-(a.met||c),o.bye.time=((o.bye.time||c)+c)/2},o.hear["!"]=function(a,c){u.log("Error:",a.err)},o.hear["?"]=function(a,c){a.pid&&(c.pid||(c.pid=a.pid),a["@"])||(o.say({dam:"?",pid:u.pid,"@":a["#"]},c),delete b.s[c.last])},n.on("create",function(a){a.opt.pid=a.opt.pid||String.random(9),this.to.next(a),a.on("out",o.say)}),n.on("bye",function(a,c){a=u.peers[a.id||a]||a,this.to.next(a),a.bye?a.bye():(c=a.wire)&&c.close&&c.close(),delete u.peers[a.id],a.wire=null});var l={};return n.on("bye",function(a,c){this.to.next(a),(c=console.STAT)&&(c.peers=(c.peers||0)-1),!!(c=a.url)&&(l[c]=!0,setTimeout(function(){delete l[c]},u.lack||9e3))}),n.on("hi",function(a,c){this.to.next(a),(c=console.STAT)&&(c.peers=(c.peers||0)+1),!(!(c=a.url)||!l[c])&&(delete l[c],!u.super&&setTimeout.each(Object.keys(n.next),function(m){n.next[m],c={},c[m]=n.graph[m],c=String.hash(c),o.say({"##":c,get:{"#":m}},a)}))}),o}var r;try{p.exports=e}catch(n){}})(t,"./mesh"),t(function(p){var e=t("../index");e.Mesh=t("./mesh"),e.on("opt",function(n){if(this.to.next(n),n.once)return;var o=n.opt;if(o.WebSocket===!1)return;var u=e.window||{},i=o.WebSocket||u.WebSocket||u.webkitWebSocket||u.mozWebSocket;if(!i)return;o.WebSocket=i;var d=o.mesh=o.mesh||e.Mesh(n);d.wire||o.wire,d.wire=o.wire=h;function h(s){try{if(!s||!s.url)return j&&j(s);var x=s.url.replace(/^http/,"ws"),j=s.wire=new o.WebSocket(x);return j.onclose=function(){o.mesh.bye(s),_(s)},j.onerror=function(l){_(s)},j.onopen=function(){o.mesh.hi(s)},j.onmessage=function(l){!l||o.mesh.hear(l.data||l,s)},j}catch(l){}}setTimeout(function(){!o.super&&n.on("out",{dam:"hi"})},1);var b=2*999;function _(s){clearTimeout(s.defer),!(w&&s.retry<=0)&&(s.retry=(s.retry||o.retry+1||60)-(-s.tried+(s.tried=+new Date)<b*4?1:0),s.defer=setTimeout(function x(){if(w&&w.hidden)return setTimeout(x,b);h(s)},b))}var w=""+r!=typeof document&&document});var r})(t,"./websocket"),t(function(p){if(typeof Gun!="undefined"){var e=function(){},r;try{r=(Gun.window||e).localStorage}catch(n){}r||(Gun.log("Warning: No localStorage exists to persist data to!"),r={setItem:function(n,o){this[n]=o},removeItem:function(n){delete this[n]},getItem:function(n){return this[n]}}),Gun.on("create",function n(o){this.to.next(o);var u=o.opt;o.graph;var i=[],d,h;if(u.localStorage===!1)return;u.prefix=u.file||"gun/";try{d=n[u.prefix]=n[u.prefix]||JSON.parse(r.getItem(u.prefix))||{}}catch(_){d=n[u.prefix]={}}o.on("get",function(_){this.to.next(_);var w=_.get,s,x,j,l;!w||!(s=w["#"])||(x=d[s]||l,x&&(j=w["."])&&!Object.plain(j)&&(x=Gun.state.ify({},j,Gun.state.is(x,j),x[j],s)),Gun.on.get.ack(_,x))}),o.on("put",function(_){this.to.next(_);var w=_.put,s=w["#"],x=w["."];d[s]=Gun.state.ify(d[s],x,w[">"],w[":"],s),_["@"]||i.push(_["#"]),!h&&(h=setTimeout(b,u.wait||1))});function b(){var _,w=i;clearTimeout(h),h=!1,i=[];try{r.setItem(u.prefix,JSON.stringify(d))}catch(s){Gun.log((_=s||"localStorage failure")+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),o.on("localStorage:error",{err:_,get:u.prefix,put:d})}!_&&!Object.empty(u.peers)||setTimeout.each(w,function(s){o.on("in",{"@":s,err:_,ok:0})})}})}})(t,"./localStorage")})(),function(){var t;if(""+t!=typeof Gun){var y=function(v){console.log("Warning! Deprecated internal utility will break in next version:",v)},p=Gun;p.fn=p.fn||{is:function(v){return y("fn"),!!v&&typeof v=="function"}},p.bi=p.bi||{is:function(v){return y("bi"),v instanceof Boolean||typeof v=="boolean"}},p.num=p.num||{is:function(v){return y("num"),!r(v)&&(v-parseFloat(v)+1>=0||v===1/0||v===-1/0)}},p.text=p.text||{is:function(v){return y("text"),typeof v=="string"}},p.text.ify=p.text.ify||function(v){return y("text.ify"),p.text.is(v)?v:typeof JSON!="undefined"?JSON.stringify(v):v&&v.toString?v.toString():v},p.text.random=p.text.random||function(v,g){y("text.random");var S="";for(v=v||24,g=g||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";v>0;)S+=g.charAt(Math.floor(Math.random()*g.length)),v--;return S},p.text.match=p.text.match||function(v,g){var S,$;return y("text.match"),typeof v!="string"?!1:(typeof g=="string"&&(g={"=":g}),g=g||{},S=g["="]||g["*"]||g[">"]||g["<"],v===S?!0:$!==g["="]?!1:(S=g["*"]||g[">"]||g["<"],v.slice(0,(S||"").length)===S?!0:$!==g["*"]?!1:$!==g[">"]&&$!==g["<"]?v>=g[">"]&&v<=g["<"]:$!==g[">"]&&v>=g[">"]||$!==g["<"]&&v<=g["<"]))},p.text.hash=p.text.hash||function(v,g){if(y("text.hash"),typeof v=="string"){if(g=g||0,!v.length)return g;for(var S=0,$=v.length,B;S<$;++S)B=v.charCodeAt(S),g=(g<<5)-g+B,g|=0;return g}},p.list=p.list||{is:function(v){return y("list"),v instanceof Array}},p.list.slit=p.list.slit||Array.prototype.slice,p.list.sort=p.list.sort||function(v){return y("list.sort"),function(g,S){return!g||!S?0:(g=g[v],S=S[v],g<S?-1:g>S?1:0)}},p.list.map=p.list.map||function(v,g,S){return y("list.map"),i(v,g,S)},p.list.index=1,p.obj=p.boj||{is:function(v){return y("obj"),v?v instanceof Object&&v.constructor===Object||Object.prototype.toString.call(v).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},p.obj.put=p.obj.put||function(v,g,S){return y("obj.put"),(v||{})[g]=S,v},p.obj.has=p.obj.has||function(v,g){return y("obj.has"),v&&Object.prototype.hasOwnProperty.call(v,g)},p.obj.del=p.obj.del||function(v,g){if(y("obj.del"),!!v)return v[g]=null,delete v[g],v},p.obj.as=p.obj.as||function(v,g,S,$){return y("obj.as"),v[g]=v[g]||($===S?{}:S)},p.obj.ify=p.obj.ify||function(v){if(y("obj.ify"),o(v))return v;try{v=JSON.parse(v)}catch(g){v={}}return v},function(){var v;function g(S,$){u(this,$)&&v!==this[$]||(this[$]=S)}p.obj.to=p.obj.to||function(S,$){return y("obj.to"),$=$||{},i(S,g,$),$}}(),p.obj.copy=p.obj.copy||function(v){return y("obj.copy"),v&&JSON.parse(JSON.stringify(v))},function(){function v(g,S){var $=this.n,B;if(!($&&(S===$||o($)&&u($,S)))&&B!==S)return!0}p.obj.empty=p.obj.empty||function(g,S){return y("obj.empty"),g?!i(g,v,{n:S}):!0}}(),function(){function v($,B){if(arguments.length===2){v.r=v.r||{},v.r[$]=B;return}v.r=v.r||[],v.r.push($)}var g=Object.keys,S;Object.keys=Object.keys||function($){return S($,function(B,D,N){N(D)})},p.obj.map=S=p.obj.map||function($,B,D){y("obj.map");var N,G=0,C,U,J,P,K=typeof B=="function";if(v.r=N,g&&o($)&&(J=g($),P=!0),D=D||{},r($)||J)for(C=(J||$).length;G<C;G++){var W=G+p.list.index;if(K){if(U=P?B.call(D,$[J[G]],J[G],v):B.call(D,$[G],W,v),U!==N)return U}else if(B===$[P?J[G]:G])return J?J[G]:W}else for(G in $)if(K){if(u($,G)&&(U=D?B.call(D,$[G],G,v):B($[G],G,v),U!==N))return U}else if(B===$[G])return G;return K?v.r:p.list.index?0:-1}}(),p.time=p.time||{},p.time.is=p.time.is||function(v){return y("time"),v?v instanceof Date:+new Date().getTime()};var e=p.fn.is,r=p.list.is,n=p.obj,o=n.is,u=n.has,i=n.map,d={};d.is=function(v){return y("val.is"),v===t?!1:v===null?!0:v===1/0?!1:w(v)||b(v)||_(v)?!0:d.link.is(v)||!1},d.link=d.rel={_:"#"},function(){d.link.is=function(g){if(y("val.link.is"),g&&g[h]&&!g._&&o(g)){var S={};if(i(g,v,S),S.id)return S.id}return!1};function v(g,S){var $=this;if($.id)return $.id=!1;if(S==h&&w(g))$.id=g;else return $.id=!1}}(),d.link.ify=function(v){return y("val.link.ify"),s({},h,v)},p.obj.has._=".";var h=d.link._,t,b=p.bi.is,_=p.num.is,w=p.text.is,n=p.obj,o=n.is,s=n.put,i=n.map;p.val=p.val||d;var x={_:"_"};x.soul=function(v,g){return y("node.soul"),v&&v._&&v._[g||c]},x.soul.ify=function(v,g){return y("node.soul.ify"),g=typeof g=="string"?{soul:g}:g||{},v=v||{},v._=v._||{},v._[c]=g.soul||v._[c]||a(),v},x.soul._=d.link._,function(){x.is=function(g,S,$){y("node.is");var B;return o(g)&&(B=x.soul(g))?!i(g,v,{as:$,cb:S,s:B,n:g}):!1};function v(g,S){if(S!==x._){if(!d.is(g))return!0;this.cb&&this.cb.call(this.as,g,S,this.n,this.s)}}}(),function(){x.ify=function(g,S,$){return y("node.ify"),S?typeof S=="string"?S={soul:S}:typeof S=="function"&&(S={map:S}):S={},S.map&&(S.node=S.map.call($,g,t,S.node||{})),(S.node=x.soul.ify(S.node||{},S))&&i(g,v,{o:S,as:$}),S.node};function v(g,S){var $=this.o,B,D;if($.map){B=$.map.call(this.as,g,""+S,$.node),D===B?j($.node,S):$.node&&($.node[S]=B);return}d.is(g)&&($.node[S]=g)}}();var n=p.obj,o=n.is,j=n.del,i=n.map,l=p.text,a=l.random,c=x.soul._,t;p.node=p.node||x;var m=p.state;m.lex=function(){return y("state.lex"),m().toString(36).replace(".","")},m.to=function(v,g,S){y("state.to");var $=(v||{})[g];return o($)&&($=A($)),m.ify(S,g,m.is(v,g),$,x.soul(v))},function(){m.map=function(g,S,$){y("state.map");var B,D=o(D=g||S)?D:null;return g=e(g=g||S)?g:null,D&&!g?(S=_(S)?S:m(),D[O]=D[O]||{},i(D,v,{o:D,s:S}),D):($=$||o(S)?S:B,S=_(S)?S:m(),function(N,G,C,U){if(!g)return v.call({o:C,s:S},N,G),N;g.call($||this||{},N,G,C,U),!(u(C,G)&&B===C[G])&&v.call({o:C,s:S},N,G)})};function v(g,S){O!==S&&m.ify(this.o,S,this.s)}}();var n=p.obj;n.as;var u=n.has,o=n.is,i=n.map,A=n.copy,E=p.num,_=E.is,T=p.fn,e=T.is,O=x._,t,k={};(function(){k.is=function(S,$,B,D){return y("graph.is"),!S||!o(S)||I(S)?!1:!i(S,v,{cb:$,fn:B,as:D})};function v(S,$){if(!S||$!==x.soul(S)||!x.is(S,this.fn,this.as))return!0;!this.cb||(g.n=S,g.as=this.as,this.cb.call(g.as,S,$,g))}function g(S){S&&x.is(g.n,S,g.as)}})(),function(){k.ify=function(D,N,G){y("graph.ify");var C={path:[],obj:D};return N?typeof N=="string"?N={soul:N}:typeof N=="function"&&(N.map=N):N={},typeof G=="string"&&(N.soul=N.soul||G,G=t),N.soul&&(C.link=d.link.ify(N.soul)),N.shell=(G||{}).shell,N.graph=N.graph||{},N.seen=N.seen||[],N.as=N.as||G,v(N,C),N.root=C.node,N.graph};function v(D,N){var G;return(G=B(D,N))?G:(N.env=D,N.soul=S,x.ify(N.obj,g,N)&&(N.link=N.link||d.link.ify(x.soul(N.node)),N.obj!==D.shell&&(D.graph[d.link.is(N.link)]=N.node)),N)}function g(D,N,G){var C=this,U=C.env,J,P;if(x._===N&&u(D,d.link._))return G._;if(!!(J=$(D,N,G,C,U))){if(N||(C.node=C.node||G||{},u(D,x._)&&x.soul(D)&&(C.node._=A(D._)),C.node=x.soul.ify(C.node,d.link.is(C.link)),C.link=C.link||d.link.ify(x.soul(C.node))),(P=U.map)&&(P.call(U.as||{},D,N,G,C),u(G,N))){if(D=G[N],t===D){j(G,N);return}if(!(J=$(D,N,G,C,U)))return}if(!N)return C.node;if(J===!0)return D;if(P=v(U,{obj:D,path:C.path.concat(N)}),!!P.node)return P.link}}function S(D){var N=this,G=d.link.is(N.link),C=N.env.graph;N.link=N.link||d.link.ify(D),N.link[d.link._]=D,N.node&&N.node[x._]&&(N.node[x._][d.link._]=D),u(C,G)&&(C[D]=C[G],j(C,G))}function $(D,N,G,C,U){var J;if(d.is(D))return!0;if(o(D))return 1;if(J=U.invalid)return D=J.call(U.as||{},D,N,G),$(D,N,G,C,U);U.err="Invalid value at '"+C.path.concat(N).join(".")+"'!",p.list.is(D)&&(U.err+=" Use `.set(item)` instead of an Array.")}function B(D,N){for(var G=D.seen,C=G.length,U;C--;)if(U=G[C],N.obj===U.obj)return U;G.push(N)}}(),k.node=function(v){y("graph.node");var g=x.soul(v);if(!!g)return s({},g,v)},function(){k.to=function(g,S,$){if(y("graph.to"),!!g){var B={};return $=$||{seen:{}},i(g[S],v,{obj:B,graph:g,opt:$}),B}};function v(g,S){var $,B;if(x._===S){if(I(g,d.link._))return;this.obj[S]=A(g);return}if(!($=d.link.is(g))){this.obj[S]=g;return}if(B=this.opt.seen[$]){this.obj[S]=B;return}this.obj[S]=this.opt.seen[$]=k.to(this.graph,$,this.opt)}}();var e=p.fn.is,n=p.obj,o=n.is,j=n.del,u=n.has,I=n.empty,s=n.put,i=n.map,A=n.copy,t;p.graph=p.graph||k}}()})(Ct);var mn=Ct.exports,se={exports:{}};(function(f){(function(){function t(p,e){return e?_t(p):p.slice?t[r(p)]:function(n,o){p(n={exports:{}}),t[r(o)]=n.exports};function r(n){return n.split("/").slice(-1).toString().replace(".js","")}}var y=f;t(function(p){typeof window!="undefined"&&(p.window=window);var e=p.window||p,r,n=e.SEA||{};(n.window=p.window)&&(n.window.SEA=n);try{r+""!=typeof y&&(y.exports=n)}catch(o){}p.exports=n})(t,"./root"),t(function(p){var e=t("./root");try{e.window&&location.protocol.indexOf("s")<0&&location.host.indexOf("localhost")<0&&!/^127\.\d+\.\d+\.\d+$/.test(location.hostname)&&location.protocol.indexOf("file:")<0&&(console.warn("HTTPS needed for WebCrypto in SEA, redirecting..."),location.protocol="https:")}catch(r){}})(t,"./https"),t(function(p){var e;if(e+""==typeof btoa){if(e+""==typeof Buffer)try{vt.Buffer=t("buffer",1).Buffer}catch(r){console.log("Please `npm install buffer` or add it to your package.json !")}vt.btoa=function(r){return Buffer.from(r,"binary").toString("base64")},vt.atob=function(r){return Buffer.from(r,"base64").toString("binary")}}})(t,"./base64"),t(function(p){t("./base64");function e(){}Object.assign(e,{from:Array.from}),e.prototype=Object.create(Array.prototype),e.prototype.toString=function(r,n,o){r=r||"utf8",n=n||0;const u=this.length;if(r==="hex"){const i=new Uint8Array(this);return[...Array((o&&o+1||u)-n).keys()].map(d=>i[d+n].toString(16).padStart(2,"0")).join("")}if(r==="utf8")return Array.from({length:(o||u)-n},(i,d)=>String.fromCharCode(this[d+n])).join("");if(r==="base64")return btoa(this)},p.exports=e})(t,"./array"),t(function(p){t("./base64");var e=t("./array");function r(...n){return console.warn("new SafeBuffer() is depreciated, please use SafeBuffer.from()"),r.from(...n)}r.prototype=Object.create(Array.prototype),Object.assign(r,{from(){if(!Object.keys(arguments).length||arguments[0]==null)throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");const n=arguments[0];let o;if(typeof n=="string"){const i=arguments[1]||"utf8";if(i==="hex"){const d=n.match(/([\da-fA-F]{2})/g).map(h=>parseInt(h,16));if(!d||!d.length)throw new TypeError("Invalid first argument for type 'hex'.");o=e.from(d)}else if(i==="utf8"||i==="binary"){const d=n.length,h=new Uint16Array(d);Array.from({length:d},(b,_)=>h[_]=n.charCodeAt(_)),o=e.from(h)}else if(i==="base64"){const d=atob(n),h=d.length,b=new Uint8Array(h);Array.from({length:h},(_,w)=>b[w]=d.charCodeAt(w)),o=e.from(b)}else i==="binary"?o=e.from(n):console.info("SafeBuffer.from unknown encoding: "+i);return o}if(n.byteLength,n.byteLength?n.byteLength:n.length){let i;return n instanceof ArrayBuffer&&(i=new Uint8Array(n)),e.from(i||n)}},alloc(n,o=0){return e.from(new Uint8Array(Array.from({length:n},()=>o)))},allocUnsafe(n){return e.from(new Uint8Array(Array.from({length:n})))},concat(n){if(!Array.isArray(n))throw new TypeError("First argument must be Array containing ArrayBuffer or Uint8Array instances.");return e.from(n.reduce((o,u)=>o.concat(Array.from(u)),[]))}}),r.prototype.from=r.from,r.prototype.toString=e.prototype.toString,p.exports=r})(t,"./buffer"),t(function(p){const e=t("./root"),r={Buffer:t("./buffer")};var n={},o;if(JSON.parseAsync=JSON.parseAsync||function(i,d,h){var b;try{d(b,JSON.parse(i,h))}catch(_){d(_)}},JSON.stringifyAsync=JSON.stringifyAsync||function(i,d,h,b){var _;try{d(_,JSON.stringify(i,h,b))}catch(w){d(w)}},r.parse=function(i,d){return new Promise(function(h,b){JSON.parseAsync(i,function(_,w){_?b(_):h(w)},d)})},r.stringify=function(i,d,h){return new Promise(function(b,_){JSON.stringifyAsync(i,function(w,s){w?_(w):b(s)},d,h)})},e.window&&(r.crypto=window.crypto||window.msCrypto,r.subtle=(r.crypto||n).subtle||(r.crypto||n).webkitSubtle,r.TextEncoder=window.TextEncoder,r.TextDecoder=window.TextDecoder,r.random=i=>r.Buffer.from(r.crypto.getRandomValues(new Uint8Array(r.Buffer.alloc(i))))),!r.TextDecoder){const{TextEncoder:i,TextDecoder:d}=t((o+""==typeof y?".":"")+"./lib/text-encoding",1);r.TextDecoder=d,r.TextEncoder=i}if(!r.crypto)try{var u=t("crypto",1);Object.assign(r,{crypto:u,random:d=>r.Buffer.from(u.randomBytes(d))});const{Crypto:i}=t("@peculiar/webcrypto",1);r.ossl=r.subtle=new i({directory:"ossl"}).subtle}catch(i){console.log("Please `npm install @peculiar/webcrypto` or add it to your package.json !")}p.exports=r})(t,"./shim"),t(function(p){var e=t("./root"),r=t("./shim"),n={};n.pbkdf2={hash:{name:"SHA-256"},iter:1e5,ks:64},n.ecdsa={pair:{name:"ECDSA",namedCurve:"P-256"},sign:{name:"ECDSA",hash:{name:"SHA-256"}}},n.ecdh={name:"ECDH",namedCurve:"P-256"},n.jwk=function(o,u){o=o.split(".");var i=o[0],d=o[1],h={kty:"EC",crv:"P-256",x:i,y:d,ext:!0};return h.key_ops=u?["sign"]:["verify"],u&&(h.d=u),h},n.keyToJwk=function(o){const i=o.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"");return{kty:"oct",k:i,ext:!1,alg:"A256GCM"}},n.recall={validity:12*60*60,hook:function(o){return o}},n.check=function(o){return typeof o=="string"&&o.slice(0,4)==="SEA{"},n.parse=async function(u){try{var i=typeof u=="string";return i&&u.slice(0,4)==="SEA{"&&(u=u.slice(3)),i?await r.parse(u):u}catch(d){}return u},e.opt=n,p.exports=n})(t,"./settings"),t(function(p){var e=t("./shim");p.exports=async function(r,n){var o=typeof r=="string"?r:await e.stringify(r),u=await e.subtle.digest({name:n||"SHA-256"},new e.TextEncoder().encode(o));return e.Buffer.from(u)}})(t,"./sha256"),t(function(p){const e=t("./shim"),r=e.subtle,n=e.ossl?e.ossl:r,o=u=>n.digest({name:"SHA-1"},new ArrayBuffer(u));p.exports=o})(t,"./sha1"),t(function(p){var e=t("./root"),r=t("./shim"),n=t("./settings"),o=t("./sha256"),u;e.work=e.work||(async(i,d,h,b)=>{try{var _=(d||{}).epub||d;if(b=b||{},_ instanceof Function&&(h=_,_=u),i=typeof i=="string"?i:await r.stringify(i),(b.name||"").toLowerCase().slice(0,3)==="sha"){var w=r.Buffer.from(await o(i,b.name),"binary").toString(b.encode||"base64");if(h)try{h(w)}catch(l){console.log(l)}return w}_=_||r.random(9);var s=await(r.ossl||r.subtle).importKey("raw",new r.TextEncoder().encode(i),{name:b.name||"PBKDF2"},!1,["deriveBits"]),x=await(r.ossl||r.subtle).deriveBits({name:b.name||"PBKDF2",iterations:b.iterations||n.pbkdf2.iter,salt:new r.TextEncoder().encode(b.salt||_),hash:b.hash||n.pbkdf2.hash},s,b.length||n.pbkdf2.ks*8);i=r.random(i.length);var j=r.Buffer.from(x,"binary").toString(b.encode||"base64");if(h)try{h(j)}catch(l){console.log(l)}return j}catch(l){if(console.log(l),e.err=l,e.throw)throw l;h&&h();return}}),p.exports=e.work})(t,"./work"),t(function(p){var e=t("./root"),r=t("./shim");t("./settings"),e.name=e.name||(async(n,o)=>{try{if(n)try{n()}catch(u){console.log(u)}return}catch(u){if(console.log(u),e.err=u,e.throw)throw u;n&&n();return}}),e.pair=e.pair||(async(n,o)=>{try{var u=r.ossl||r.subtle,i=await r.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]).then(async b=>{var _={};_.priv=(await r.subtle.exportKey("jwk",b.privateKey)).d;var w=await r.subtle.exportKey("jwk",b.publicKey);return _.pub=w.x+"."+w.y,_});try{var d=await u.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]).then(async b=>{var _={};_.epriv=(await u.exportKey("jwk",b.privateKey)).d;var w=await u.exportKey("jwk",b.publicKey);return _.epub=w.x+"."+w.y,_})}catch(b){if(e.window)throw b;if(b=="Error: ECDH is not a supported algorithm")console.log("Ignoring ECDH...");else throw b}d=d||{};var h={pub:i.pub,priv:i.priv,epub:d.epub,epriv:d.epriv};if(n)try{n(h)}catch(b){console.log(b)}return h}catch(b){if(console.log(b),e.err=b,e.throw)throw b;n&&n();return}}),p.exports=e.pair})(t,"./pair"),t(function(p){var e=t("./root"),r=t("./shim"),n=t("./settings"),o=t("./sha256"),u;e.sign=e.sign||(async(i,d,h,b)=>{try{if(b=b||{},!(d||b).priv){if(!e.I)throw"No signing key.";d=await e.I(null,{what:i,how:"sign",why:b.why})}if(u===i)throw"`undefined` not allowed.";var _=await n.parse(i),w=b.check=b.check||_;if(e.verify&&(e.opt.check(w)||w&&w.s&&w.m)&&u!==await e.verify(w,d)){var c=await n.parse(w);if(b.raw||(c="SEA"+await r.stringify(c)),h)try{h(c)}catch(A){console.log(A)}return c}var s=d.pub,x=d.priv,j=n.jwk(s,x),l=await o(_),a=await(r.ossl||r.subtle).importKey("jwk",j,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]).then(m=>(r.ossl||r.subtle).sign({name:"ECDSA",hash:{name:"SHA-256"}},m,new Uint8Array(l))),c={m:_,s:r.Buffer.from(a,"binary").toString(b.encode||"base64")};if(b.raw||(c="SEA"+await r.stringify(c)),h)try{h(c)}catch(m){console.log(m)}return c}catch(m){if(console.log(m),e.err=m,e.throw)throw m;h&&h();return}}),p.exports=e.sign})(t,"./sign"),t(function(p){var e=t("./root"),r=t("./shim"),n=t("./settings"),o=t("./sha256"),u;e.verify=e.verify||(async(h,b,_,w)=>{try{var s=await n.parse(h);if(b===!1){var x=await n.parse(s.m);if(_)try{_(x)}catch(O){console.log(O)}return x}w=w||{};var j=b.pub||b,l=e.opt.slow_leak?await e.opt.slow_leak(j):await(r.ossl||r.subtle).importKey("jwk",n.jwk(j),{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),a=await o(s.m),c,m,A,E;try{if(c=r.Buffer.from(s.s,w.encode||"base64"),m=new Uint8Array(c),A=await(r.ossl||r.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},l,m,new Uint8Array(a)),!A)throw"Signature did not match."}catch(O){if(e.opt.fallback)return await e.opt.fall_verify(h,b,_,w)}var T=A?await n.parse(s.m):u;if(_)try{_(T)}catch(O){console.log(O)}return T}catch(O){if(console.log(O),e.err=O,e.throw)throw O;_&&_();return}}),p.exports=e.verify;var i={};e.opt.slow_leak=h=>{if(i[h])return i[h];var b=n.jwk(h);return i[h]=(r.ossl||r.subtle).importKey("jwk",b,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),i[h]};var d=e.opt;e.opt.fall_verify=async function(h,b,_,w,s){if(s===e.opt.fallback)throw"Signature did not match";s=s||1;var x=h||"";h=e.opt.unpack(h)||h;var j=await n.parse(h),l=b.pub||b,a=await e.opt.slow_leak(l),c=s<=e.opt.fallback?r.Buffer.from(await r.subtle.digest({name:"SHA-256"},new r.TextEncoder().encode(await n.parse(j.m)))):await o(j.m),m,A,E;try{if(m=r.Buffer.from(j.s,w.encode||"base64"),A=new Uint8Array(m),E=await(r.ossl||r.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},a,A,new Uint8Array(c)),!E)throw"Signature did not match."}catch(O){try{m=r.Buffer.from(j.s,"utf8"),A=new Uint8Array(m),E=await(r.ossl||r.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},a,A,new Uint8Array(c))}catch(k){if(!E)throw"Signature did not match."}}var T=E?await n.parse(j.m):u;if(d.fall_soul=x["#"],d.fall_key=x["."],d.fall_val=h,d.fall_state=x[">"],_)try{_(T)}catch(O){console.log(O)}return T},e.opt.fallback=2})(t,"./verify"),t(function(p){var e=t("./shim"),r=t("./settings"),n=t("./sha256");const o=async(u,i,d)=>{const h=u+(i||e.random(8)).toString("utf8"),b=e.Buffer.from(await n(h),"binary"),_=r.keyToJwk(b);return await e.subtle.importKey("jwk",_,{name:"AES-GCM"},!1,["encrypt","decrypt"])};p.exports=o})(t,"./aeskey"),t(function(p){var e=t("./root"),r=t("./shim");t("./settings");var n=t("./aeskey"),o;e.encrypt=e.encrypt||(async(u,i,d,h)=>{try{h=h||{};var b=(i||h).epriv||i;if(o===u)throw"`undefined` not allowed.";if(!b){if(!e.I)throw"No encryption key.";i=await e.I(null,{what:u,how:"encrypt",why:h.why}),b=i.epriv||i}var _=typeof u=="string"?u:await r.stringify(u),w={s:r.random(9),iv:r.random(15)},s=await n(b,w.s,h).then(j=>r.subtle.encrypt({name:h.name||"AES-GCM",iv:new Uint8Array(w.iv)},j,new r.TextEncoder().encode(_))),x={ct:r.Buffer.from(s,"binary").toString(h.encode||"base64"),iv:w.iv.toString(h.encode||"base64"),s:w.s.toString(h.encode||"base64")};if(h.raw||(x="SEA"+await r.stringify(x)),d)try{d(x)}catch(j){console.log(j)}return x}catch(j){if(console.log(j),e.err=j,e.throw)throw j;d&&d();return}}),p.exports=e.encrypt})(t,"./encrypt"),t(function(p){var e=t("./root"),r=t("./shim"),n=t("./settings"),o=t("./aeskey");e.decrypt=e.decrypt||(async(u,i,d,h)=>{try{h=h||{};var b=(i||h).epriv||i;if(!b){if(!e.I)throw"No decryption key.";i=await e.I(null,{what:u,how:"decrypt",why:h.why}),b=i.epriv||i}var _=await n.parse(u),w,s,x;try{w=r.Buffer.from(_.s,h.encode||"base64"),s=r.Buffer.from(_.iv,h.encode||"base64"),x=r.Buffer.from(_.ct,h.encode||"base64");var j=await o(b,w,h).then(a=>r.subtle.decrypt({name:h.name||"AES-GCM",iv:new Uint8Array(s),tagLength:128},a,new Uint8Array(x)))}catch(a){if(h.encode==="utf8")throw"Could not decrypt";if(e.opt.fallback)return h.encode="utf8",await e.decrypt(u,i,d,h)}var l=await n.parse(new r.TextDecoder("utf8").decode(j));if(d)try{d(l)}catch(a){console.log(a)}return l}catch(a){if(console.log(a),e.err=a,e.throw)throw a;d&&d();return}}),p.exports=e.decrypt})(t,"./decrypt"),t(function(p){var e=t("./root"),r=t("./shim");t("./settings"),e.secret=e.secret||(async(o,u,i,d)=>{try{if(d=d||{},!u||!u.epriv||!u.epub){if(!e.I)throw"No secret mix.";u=await e.I(null,{what:o,how:"secret",why:d.why})}var h=o.epub||o,b=u.epub,_=u.epriv,w=r.ossl||r.subtle,s=n(h),x=Object.assign({public:await w.importKey(...s,!0,[])},{name:"ECDH",namedCurve:"P-256"}),j=n(b,_),l=await w.importKey(...j,!1,["deriveBits"]).then(async c=>{var m=await w.deriveBits(x,c,256),A=new Uint8Array(m),E=await w.importKey("raw",A,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return w.exportKey("jwk",E).then(({k:T})=>T)}),a=l;if(i)try{i(a)}catch(c){console.log(c)}return a}catch(c){if(console.log(c),e.err=c,e.throw)throw c;i&&i();return}});var n=(o,u)=>{var[i,d]=o.split("."),h=u?{d:u}:{};return["jwk",Object.assign(h,{x:i,y:d,kty:"EC",crv:"P-256",ext:!0}),{name:"ECDH",namedCurve:"P-256"}]};p.exports=e.secret})(t,"./secret"),t(function(p){var e=t("./root");e.certify=e.certify||(async(r,n={},o,u,i={})=>{try{if(console.log("SEA.certify() is an early experimental community supported method that may change API behavior without warning in any future version."),r=(()=>{var a=[];if(r){if((typeof r=="string"||Array.isArray(r))&&r.indexOf("*")>-1)return"*";if(typeof r=="string")return r;if(Array.isArray(r)){if(r.length===1&&r[0])return typeof r[0]=="object"&&r[0].pub?r[0].pub:typeof r[0]=="string"?r[0]:null;r.map(c=>{typeof c=="string"?a.push(c):typeof c=="object"&&c.pub&&a.push(c.pub)})}return typeof r=="object"&&r.pub?r.pub:a.length>0?a:null}})(),!r)return console.log("No certificant found.");const h=i.expiry&&(typeof i.expiry=="number"||typeof i.expiry=="string")?parseFloat(i.expiry):null,b=(n||{}).read?n.read:null,_=(n||{}).write?n.write:typeof n=="string"||Array.isArray(n)||n["+"]||n["#"]||n["."]||n["="]||n["*"]||n[">"]||n["<"]?n:null,w=(i||{}).block||(i||{}).blacklist||(i||{}).ban||{},s=w.read&&(typeof w.read=="string"||(w.read||{})["#"])?w.read:null,x=typeof w=="string"?w:w.write&&(typeof w.write=="string"||w.write["#"])?w.write:null;if(!b&&!_)return console.log("No policy found.");const j=JSON.stringify(z(z(z(z(z({c:r},h?{e:h}:{}),b?{r:b}:{}),_?{w:_}:{}),s?{rb:s}:{}),x?{wb:x}:{}));var d=await e.sign(j,o,null,{raw:1});if(i.raw||(d="SEA"+JSON.stringify(d)),u)try{u(d)}catch(a){console.log(a)}return d}catch(h){if(e.err=h,e.throw)throw h;u&&u();return}}),p.exports=e.certify})(t,"./certify"),t(function(p){var e=t("./shim"),r=t("./root");r.work=t("./work"),r.sign=t("./sign"),r.verify=t("./verify"),r.encrypt=t("./encrypt"),r.decrypt=t("./decrypt"),r.certify=t("./certify"),r.random=r.random||e.random,r.Buffer=r.Buffer||t("./buffer"),r.keyid=r.keyid||(async n=>{try{const o=e.Buffer.concat(n.replace(/-/g,"+").replace(/_/g,"/").split(".").map(h=>e.Buffer.from(h,"base64"))),u=e.Buffer.concat([e.Buffer.from([153,o.length/256,o.length%256]),o]),i=await sha1hash(u),d=e.Buffer.from(i,"binary");return d.toString("hex",d.length-8)}catch(o){throw console.log(o),o}}),((r.window||{}).GUN||{}).SEA=r,p.exports=r})(t,"./sea"),t(function(p){var e=t("./sea"),r,n;e.window?r=e.window.GUN||{chain:{}}:r=t((n+""==typeof y?".":"")+"./gun",1),e.GUN=r;function o(i){this._={$:this}}o.prototype=function(){function i(){}return i.prototype=r.chain,new i}(),o.prototype.constructor=o,r.chain.user=function(i){var d=this,h=d.back(-1),b;if(i)return i=e.opt.pub((i._||"")["#"])||i,h.get("~"+i);if(b=h.back("user"))return b;var h=h._,_=h,w=_.opt.uuid||u;return(_=(b=_.user=d.chain(new o))._).opt={},_.opt.uuid=function(s){var x=w(),j=h.user;return!j||!(j=j.is)||!(j=j.pub)||(x="~"+j+"/"+x,s&&s.call&&s(null,x)),x},b};function u(){return r.state().toString(36).replace(".","")}r.User=o,o.GUN=r,o.SEA=r.SEA=e,p.exports=o})(t,"./user"),t(function(p){var e,r=""+e!=typeof window?window.Gun||{chain:{}}:t((""+e==typeof y?".":"")+"./gun",1);r.chain.then=function(n,o){var u=this,i=new Promise(function(d,h){u.once(d,o)});return n?i.then(n):i}})(t,"./then"),t(function(p){var e=t("./user"),r=e.SEA,n=e.GUN,o=function(){};e.prototype.create=function(...u){var i=typeof u[0]=="object"&&(u[0].pub||u[0].epub)?u[0]:typeof u[1]=="object"&&(u[1].pub||u[1].epub)?u[1]:null,d=i&&(i.pub||i.epub)?i.pub:typeof u[0]=="string"?u[0]:null,h=i&&(i.pub||i.epub)?i:d&&typeof u[1]=="string"?u[1]:null,b=u.filter(a=>typeof a=="function")[0]||null,_=u&&u.length>1&&typeof u[u.length-1]=="object"?u[u.length-1]:{},w=this,s=w._,x=w.back(-1);if(b=b||o,_=_||{},_.check!==!1){var j;if(d||(j="No user."),(h||"").length<8&&(j="Password too short!"),j)return b({err:n.log(j)}),w}if(s.ing)return(b||o)({err:n.log("User is already being created or authenticated!"),wait:!0}),w;s.ing=!0;var l={};return l.a=function(a){if(l.pubs=a,a&&!_.already){var c={err:n.log("User already created!")};s.ing=!1,(b||o)(c),w.leave();return}l.salt=String.random(64),r.work(h,l.salt,l.b)},l.b=function(a){l.proof=a,i?l.c(i):r.pair(l.c)},l.c=function(a){var c;l.pair=a||{},(c=s.root.user)&&(c._.sea=a,c.is={pub:a.pub,epub:a.epub,alias:d}),l.data={pub:a.pub},l.d()},l.d=function(){l.data.alias=d,l.e()},l.e=function(){l.data.epub=l.pair.epub,r.encrypt({priv:l.pair.priv,epriv:l.pair.epriv},l.proof,l.f,{raw:1})},l.f=function(a){l.data.auth=JSON.stringify({ek:a,s:l.salt}),l.g(l.data.auth)},l.g=function(a){var c;l.data.auth=l.data.auth||a,x.get(c="~"+l.pair.pub).put(l.data).on(l.h);var m={};m[c]={"#":c},x.get("~@"+d).put(m).get(c).on(l.i)},l.h=function(a,c,m,A){A.off(),l.h.ok=1,l.i()},l.i=function(a,c,m,A){A&&(l.i.ok=1,A.off()),!(!l.h.ok||!l.i.ok)&&(s.ing=!1,b({ok:0,pub:l.pair.pub}),o===b&&(i?w.auth(i):w.auth(d,h)))},x.get("~@"+d).once(l.a),w},e.prototype.leave=function(u,i){var d=this,h=d.back(-1)._.user;if(h&&(delete h.is,delete h._.is,delete h._.sea),r.window)try{var b={};b=window.sessionStorage,delete b.recall,delete b.pair}catch(_){}return d}})(t,"./create"),t(function(p){var e=t("./user"),r=e.SEA,n=e.GUN,o=function(){};e.prototype.auth=function(...i){var d=typeof i[0]=="object"&&(i[0].pub||i[0].epub)?i[0]:typeof i[1]=="object"&&(i[1].pub||i[1].epub)?i[1]:null,h=!d&&typeof i[0]=="string"?i[0]:null,b=h&&typeof i[1]=="string"?i[1]:null,_=i.filter(c=>typeof c=="function")[0]||null,w=i&&i.length>1&&typeof i[i.length-1]=="object"?i[i.length-1]:{},s=this,x=s._,j=s.back(-1);if(x.ing)return(_||o)({err:n.log("User is already being created or authenticated!"),wait:!0}),s;x.ing=!0;var l={},a;return l.a=function(c){if(!c)return l.b();if(!c.pub){var m=[];return Object.keys(c).forEach(function(A){A!="_"&&m.push(c[A])}),l.b(m)}if(l.name)return l.f(c);l.c((l.data=c).auth)},l.b=function(c){var m=(l.list=(l.list||[]).concat(c||[])).shift();if(a===m)return l.name?l.err("Your user account is not published for dApps to access, please consider syncing it online, or allowing local access by adding your device as a peer."):l.err("Wrong user or password.");j.get(m).once(l.a)},l.c=function(c){if(a===c)return l.b();if(typeof c=="string")return l.c(u(c));r.work(b,(l.auth=c).s,l.d,l.enc)},l.d=function(c){r.decrypt(l.auth.ek,c,l.e,l.enc)},l.e=function(c){if(a===c)return l.enc?(l.enc=null,l.b()):(l.enc={encode:"utf8"},l.c(l.auth));l.half=c,l.f(l.data)},l.f=function(c){var m=l.half||{},A=l.data||{};l.g(l.lol={pub:c.pub||A.pub,epub:c.epub||A.epub,priv:c.priv||m.priv,epriv:c.epriv||m.epriv})},l.g=function(c){if(!c||!c.pub||!c.epub)return l.b();l.pair=c;var m=j._.user,A=m._;A.tag;var E=A.opt;A=m._=j.get("~"+c.pub)._,A.opt=E,m.is={pub:c.pub,epub:c.epub,alias:h||c.pub},A.sea=l.pair,x.ing=!1;try{b&&a==(u(x.root.graph["~"+c.pub].auth)||"")[":"]&&(w.shuffle=w.change=b)}catch(O){}if(w.change?l.z():(_||o)(A),r.window&&(s.back("user")._.opt||w).remember)try{var T={};T=window.sessionStorage,T.recall=!0,T.pair=JSON.stringify(c)}catch(O){}try{j._.tag.auth?j._.on("auth",A):setTimeout(function(){j._.on("auth",A)},1)}catch(O){n.log("Your 'auth' callback crashed with:",O)}},l.z=function(){l.salt=String.random(64),r.work(w.change,l.salt,l.y)},l.y=function(c){r.encrypt({priv:l.pair.priv,epriv:l.pair.epriv},c,l.x,{raw:1})},l.x=function(c){l.w(JSON.stringify({ek:c,s:l.salt}))},l.w=function(c){if(w.shuffle){console.log("migrate core account from UTF8 & shuffle");var m={};Object.keys(l.data).forEach(function(A){m[A]=l.data[A]}),delete m._,m.auth=c,j.get("~"+l.pair.pub).put(m)}j.get("~"+l.pair.pub).get("auth").put(c,_||o)},l.err=function(c){var m={err:n.log(c||"User cannot be found!")};x.ing=!1,(_||o)(m)},l.plugin=function(c){if(!(l.name=c))return l.err();var m=[c];c[0]!=="~"&&(m[1]="~"+c,m[2]="~@"+c),l.b(m)},d?l.g(d):h?j.get("~@"+h).once(l.a):!h&&!b&&r.name(l.plugin),s};function u(i){if(typeof i!="string")return i;try{i=JSON.parse(i)}catch(d){i={}}return i}})(t,"./auth"),t(function(p){var e=t("./user"),r=e.SEA;e.GUN,e.prototype.recall=function(n,o){var u=this,i=u.back(-1);if(n=n||{},n&&n.sessionStorage){if(r.window)try{var d={};d=window.sessionStorage,d&&(i._.opt.remember=!0,(u.back("user")._.opt||n).remember=!0,(d.recall||d.pair)&&i.user().auth(JSON.parse(d.pair),o))}catch(h){}return u}return u}})(t,"./recall"),t(function(p){var e=t("./user"),r=e.SEA,n=e.GUN,o=function(){};e.prototype.pair=function(){var u=this,i;try{i=new Proxy({DANGER:"\u2620"},{get:function(d,h,b){if(!(!u.is||!(u._||"").sea))return u._.sea[h]}})}catch(d){}return i},e.prototype.delete=async function(u,i,d){console.log("user.delete() IS DEPRECATED AND WILL BE MOVED TO A MODULE!!!");var h=this;h.back(-1);var b=h.back("user");try{b.auth(u,i,function(_){var w=(b.is||{}).pub;b.map().once(function(){this.put(null)}),b.leave(),(d||o)({ok:0})})}catch(_){n.log("User.delete failed! Error:",_)}return h},e.prototype.alive=async function(){console.log("user.alive() IS DEPRECATED!!!");const u=this.back(-1);try{return await authRecall(u),u._.user._}catch(i){const d="No session!";throw n.log(d),{err:d}}},e.prototype.trust=async function(u){console.log("`.trust` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!"),n.is(u)&&u.get("pub").get((i,d)=>{console.log(i,d)}),u.get("trust").get(path).put(theirPubkey)},e.prototype.grant=function(u,i){console.log("`.grant` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var d=this,h=d.back(-1).user(),b=h._.sea,_="";return d.back(function(w){w.is||(_+=w.get||"")}),async function(){var w,s=await h.get("grant").get(b.pub).get(_).then();s=await r.decrypt(s,b),s||(s=r.random(16).toString(),w=await r.encrypt(s,b),h.get("grant").get(b.pub).get(_).put(w));var x=u.get("pub").then(),j=u.get("epub").then();x=await x,j=await j;var l=await r.secret(j,b);w=await r.encrypt(s,l),h.get("grant").get(x).get(_).put(w,i)}(),d},e.prototype.secret=function(u,i){console.log("`.secret` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var d=this,h=d.back(-1).user(),b=h.pair(),_="";return d.back(function(w){w.is||(_+=w.get||"")}),async function(){var w,s=await h.get("trust").get(b.pub).get(_).then();s=await r.decrypt(s,b),s||(s=r.random(16).toString(),w=await r.encrypt(s,b),h.get("trust").get(b.pub).get(_).put(w)),w=await r.encrypt(u,s),d.put(w,i)}(),d},p.exports=e})(t,"./share"),t(function(p){var e=t("./sea"),r=t("./settings"),n=function(){},o,u=""+o!=typeof window?window.Gun||{on:n}:t((""+o==typeof y?".":"")+"./gun",1);u.on("opt",function(s){s.sea||(s.sea={own:{}},s.on("put",i,s)),this.to.next(s)});function i(s){var x=this,j=x.as,l=s.put,a=l["#"],c=l["."],m=l[":"],A=l[">"],E=s["#"],T;if(!(!a||!c)){if((s._||"").faith&&(j.opt||"").faith&&typeof s._=="function"){e.opt.pack(l,function(k){e.verify(k,!1,function(I){l["="]=e.opt.unpack(I),x.to.next(s)})});return}var O=function(k){j.on("in",{"@":E,err:s.err=k})};if((s._||"").DBG&&((s._||"").DBG.c=+new Date),0<=a.indexOf("<?")&&(T=parseFloat(a.split("<?")[1]||""),T&&A<u.state()-T*1e3)){(T=s._)&&T.stun&&T.stun--;return}if(a==="~@"){i.alias(x,s,m,c,a,j,O);return}if(a.slice(0,2)==="~@"){i.pubs(x,s,m,c,a,j,O);return}if(T=e.opt.pub(a)){i.pub(x,s,m,c,a,j,O,j.user||"",T);return}if(0<=a.indexOf("#")){i.hash(x,s,m,c,a,j,O);return}i.any(x,s,m,c,a,j,O,j.user||"")}}i.hash=function(s,x,j,l,a,c,m){e.work(j,null,function(A){if(A&&A===l.split("#").slice(-1)[0])return s.to.next(x);m("Data hash not same as hash!")},{name:"SHA-256"})},i.alias=function(s,x,j,l,a,c,m){if(!j)return m("Data must exist!");if("~@"+l===h(j))return s.to.next(x);m("Alias not same!")},i.pubs=function(s,x,j,l,a,c,m){if(!j)return m("Alias must exist!");if(l===h(j))return s.to.next(x);m("Alias not same!")},i.pub=async function(s,x,j,l,a,c,m,A,E){var T;const O=await r.parse(j)||{},k=(I,v,g)=>{if(I.m&&I.s&&v&&E)return e.verify(I,E,S=>{if(o!==S&&o!==S.e&&x.put[">"]&&x.put[">"]>parseFloat(S.e))return m("Certificate expired.");if(o!==S&&S.c&&S.w&&(S.c===v||S.c.indexOf("*")>-1)){let B=a.indexOf("/")>-1?a.replace(a.substring(0,a.indexOf("/")+1),""):"";String.match=String.match||u.text.match;const D=Array.isArray(S.w)?S.w:typeof S.w=="object"||typeof S.w=="string"?[S.w]:[];for(const N of D)if(String.match(B,N["#"])&&String.match(l,N["."])||!N["."]&&String.match(B,N["#"])||!N["#"]&&String.match(l,N["."])||String.match(B?B+"/"+l:l,N["#"]||N)){if(N["+"]&&N["+"].indexOf("*")>-1&&B&&B.indexOf(v)==-1&&l.indexOf(v)==-1)return m(`Path "${B}" or key "${l}" must contain string "${v}".`);if(S.wb&&(typeof S.wb=="string"||(S.wb||{})["#"])){var $=s.as.root.$.back(-1);return typeof S.wb=="string"&&S.wb.slice(0,1)!=="~"&&($=$.get("~"+E)),$.get(S.wb).get(v).once(G=>G&&(G===1||G===!0)?m(`Certificant ${v} blocked.`):g(S))}return g(S)}return m("Certificate verification fail.")}})};if(l==="pub"&&"~"+E===a)return j===E?s.to.next(x):m("Account not same!");if((T=A.is)&&T.pub&&!O["*"]&&!O["+"]&&(E===T.pub||E!==T.pub&&((x._.msg||{}).opt||{}).cert)){e.opt.pack(x.put,I=>{e.sign(I,A._.sea,async function(v){if(o===v)return m(e.err||"Signature fail.");if(x.put[":"]={":":T=e.opt.unpack(v.m),"~":v.s},x.put["="]=T,E===A.is.pub){(T=h(j))&&((c.sea.own[T]=c.sea.own[T]||{})[E]=1),JSON.stringifyAsync(x.put[":"],function(g,S){return g?m(g||"Stringify error."):(x.put[":"]=S,s.to.next(x))});return}if(E!==A.is.pub&&((x._.msg||{}).opt||{}).cert){const g=await r.parse(x._.msg.opt.cert);g&&g.m&&g.s&&k(g,A.is.pub,S=>{x.put[":"]["+"]=g,x.put[":"]["*"]=A.is.pub,JSON.stringifyAsync(x.put[":"],function($,B){return $?m($||"Stringify error."):(x.put[":"]=B,s.to.next(x))})})}},{raw:1})});return}e.opt.pack(x.put,I=>{e.verify(I,O["*"]||E,function(v){var g;if(v=e.opt.unpack(v),o===v)return m("Unverified data.");if((g=h(v))&&E===e.opt.pub(g)&&((c.sea.own[g]=c.sea.own[g]||{})[E]=1),O["+"]&&O["+"].m&&O["+"].s&&O["*"])k(O["+"],O["*"],S=>(x.put["="]=v,s.to.next(x)));else return x.put["="]=v,s.to.next(x)})})},i.any=function(s,x,j,l,a,c,m,A){if(c.opt.secure)return m("Soul missing public key at '"+l+"'.");c.on("secure",function(E){if(this.off(),!c.opt.secure)return s.to.next(E);m("Data cannot be changed.")}).on.on("secure",x)};var d=u.valid,h=function(s,x){return typeof(x=d(s))=="string"&&x};(u.state||"").ify;var b=/[^\w_-]/;e.opt.pub=function(s){if(!!s&&(s=s.split("~"),!(!s||!(s=s[1]))&&(s=s.split(b).slice(0,2),!(!s||s.length!=2)&&(s[0]||"")[0]!=="@")))return s=s.slice(0,2).join("."),s},e.opt.stringy=function(s){},e.opt.pack=function(s,x,j,l,a){var c,m;if(e.opt.check(s))return x(s);s&&s["#"]&&s["."]&&s[">"]&&(c=s[":"],m=1),JSON.parseAsync(m?c:s,function(A,E){var T=o!==(E||"")[":"]&&(E||"")["~"];if(!T){x(s);return}x({m:{"#":a||s["#"],".":j||s["."],":":(E||"")[":"],">":s[">"]||u.state.is(l,j)},s:T})})};var _=e.opt;e.opt.unpack=function(s,x,j){var l;if(o!==s){if(s&&o!==(l=s[":"]))return l;if(x=x||_.fall_key,!j&&_.fall_val&&(j={},j[x]=_.fall_val),!(!x||!j)){if(s===j[x]||!e.opt.check(j[x]))return s;var a=j&&j._&&j._["#"]||_.fall_soul,c=u.state.is(j,x)||_.fall_state;if(s&&s.length===4&&a===s[0]&&x===s[1]&&w(c)===w(s[3]))return s[2];if(c<e.opt.shuffle_attack)return s}}},e.opt.shuffle_attack=15463296e5;var w=Math.floor})(t,"./index")})()})(se);var fe={exports:{}};(function(f){(function(){function t(p,e){return e?_t(p):p.slice?t[r(p)]:function(n,o){p(n={exports:{}}),t[r(o)]=n.exports};function r(n){return n.split("/").slice(-1).toString().replace(".js","")}}var y=f;t(function(p){typeof window!="undefined"&&(p.window=window);var e=p.window||p,r=e.AXE||function(){};(r.window=p.window)&&(r.window.AXE=r);try{typeof y!="undefined"&&(y.exports=r)}catch(n){}p.exports=r})(t,"./root"),t(function(p){var e=t("./root"),r=(e.window||"").Gun||t("./gun",1);if((r.AXE=e).GUN=e.Gun=r,!r.window)try{t("./lib/axe",1)}catch(o){}r.on("opt",function(o){n(o),this.to.next(o)});function n(o){if(!o.axe){var u=o.opt,i=u.peers;if(u.axe!==!1&&!(typeof process!="undefined"&&""+(process.env||"").AXE=="false")&&!!r.window){o.axe={};var d,h;d=i[h="http://localhost:8765/gun"]=i[h]||{},d.id=d.url=h,d.retry=d.retry||0,console.log("AXE enabled: Trying to find network via (1) local peer (2) last used peers (3) hard coded peers."),console.log("Warning: AXE alpha became super slow & laggy, now in testing only mode!");var b=JSON.parse((localStorage||"")[(u.file||"")+"axe/"]||null)||{};Object.keys(b.peers||"").forEach(function(w){d=i[h=w]=i[h]||{},d.id=d.url=h}),d=i[h="https://ovh.era.eco/gun"]=i[h]||{},d.id=d.url=h;var _=u.mesh=u.mesh||r.Mesh(o);_.way=function(w){if(o.$===w.$||(w._||"").via){_.say(w,u.peers);return}var s=(w.$||"")._;if(!s){_.say(w,u.peers);return}if(w.get){if(s.axe)return;s.axe={}}_.say(w,u.peers)}}}}p.exports=e})(t,"./axe")})()})(fe);const L=Math.pow(2,31)-1|0;function ce(f,t){return f[0]=(t&4278190080)>>24,f[1]=(t&16711680)>>16,f[2]=(t&65280)>>8,f[3]=t&255,f}function le(f){return f!=null&&typeof f.toJS=="function"?f.toJS():f}function he(f){return f!=null&&typeof f.toJSON=="function"?f.toJSON():f}const bt={},at={};class st{constructor(t,y){if(t!==bt)throw new TypeError("Options can only be created with the some or none functions");this._value=y}static some(t){return F(t)}static none(){return R()}static from(t){return t!=null?F(t):R()}static fromResult(t){return t.isOk()?F(t.unwrap()):R()}isNone(){return this._value===at}isSome(){return!this.isNone()}expect(t){if(this.isSome())return this._value;throw new Error(typeof t=="function"?t():t)}unwrap(){return this.expect("Tried to unwrap value of none Option")}unwrapOr(t){return this.isSome()?this._value:t}unwrapOrElse(t){return this.isSome()?this._value:t()}map(t){return this.isSome()?F(t(this._value)):R()}mapOr(t,y){return this.isSome()?F(t(this._value)):F(y)}mapOrElse(t,y){return this.isSome()?F(t(this._value)):F(y())}flatMap(t){return this.isSome()?t(this._value):R()}flatMapOr(t,y){return this.isSome()?t(this._value):y}flatMapOrElse(t,y){return this.isSome()?t(this._value):y()}and(t){return this.isSome()?t:R()}andThen(t){return this.isSome()?t(this._value):R()}or(t){return this.isNone()?t:this}orElse(t){return this.isNone()?t():this}xor(t){const y=this.isSome(),p=t.isSome();return y&&!p?this:!y&&p?t:R()}filter(t){return this.isSome()&&t(this._value)?this:R()}getOrInsert(t){return this.isNone()&&(this._value=t),this}getOrInsertWith(t){return this.isNone()&&(this._value=t()),this}take(){if(this.isSome()){const t=this._value;return this._value=at,F(t)}else return R()}from(t){return t!=null?this._value=t:this.clear(),this}replace(t){return this._value=t,this}clear(){return this._value=at,this}fromResult(t){return t.isOk()?F(t.unwrap()):R()}ifSome(t,y){return this.isSome()?t(this._value):y&&y(),this}ifNone(t,y){return this.isNone()?t():y&&y(this._value),this}fromJSON(t){return st.from(t)}toJSON(){return this.map(he).unwrapOr(null)}toJS(){return this.map(le).unwrapOr(null)}}const F=f=>new st(bt,f),R=()=>new st(bt,at);class M{constructor(t){this._index=0,this._iter=t}[Symbol.iterator](){return this}iter(){return this}next(){return this._iter.next()}nextWithIndex(){const t=this._iter.next();return t.done?t:{value:[t.value,this._index++]}}enumerate(){throw new Error("iter/Enumerate was not imported!")}peekable(){throw new Error("iter/Peekable was not imported!")}forEach(t){throw new Error("iter/ForEach was not imported!")}map(t){throw new Error("iter/Map was not imported!")}merge(t){throw new Error("iter/Merge was not imported!")}concat(t){return this.merge(t)}filter(t){throw new Error("iter/Filter was not imported!")}step(t){throw new Error("iter/Step was not imported!")}skip(t){throw new Error("iter/Skip was not imported!")}take(t){throw new Error("iter/Take was not imported!")}toMap(t,y){throw new Error("iter/ToMap was not imported!")}count(){return this.reduce(0,t=>t+1)}consume(){let t=this.next();for(;!t.done;)t=this.next();return this}toArray(){return this.reduce([],(t,y)=>(t.push(y),t))}join(t){return this.toArray().join(t)}indexOf(t){let y=this.next(),p=0;for(;!y.done;){if(y.value===t)return p;p++,y=this.next()}return-1}findIndex(t){let y=this.nextWithIndex();for(;!y.done;){const[p,e]=y.value;if(t(p,e))return e;y=this.nextWithIndex()}return-1}find(t){let y=this.nextWithIndex();for(;!y.done;){const[p,e]=y.value;if(t(p,e))return F(p);y=this.nextWithIndex()}return R()}findAll(t){return this.filter(t)}nth(t=0){let y=this.next();for(t<0&&(t=0);!y.done;){if(t--<=0)return F(y.value);y=this.next()}return R()}first(){return this.nth(0)}last(){let t=this.next();for(;!t.done;){const y=this.next();if(y.done)return F(t.value);t=y}return R()}any(t){return this.findIndex(t)!==-1}some(t){return this.any(t)}none(t){return this.findIndex(t)===-1}all(t){let y=this.nextWithIndex();for(;!y.done;){const[p,e]=y.value;if(!t(p,e))return!1;y=this.nextWithIndex()}return!0}unflatten(t){throw new Error("iter/Unflatten was not imported!")}reduce(t,y){let p=this.next();for(;!p.done;){const e=p.value;t=y(t,e,this._index-1),p=this.next()}return t}reverse(){return ft(this.toArray().reverse())}}function ft(f){return f!=null?typeof f[Symbol.iterator]=="function"?new M(f[Symbol.iterator]()):typeof f.next=="function"?f instanceof M?f:new M(f):ft(typeof f=="object"?Object.entries(f):[f]):ft([])}class pe extends M{constructor(t){super(t)}next(){const t=super.nextWithIndex();return t.done?t:{value:de(t.value)}}}M.prototype.enumerate=function(){return new pe(this)};function de(f){const t=f[0],y=f;return y[0]=f[1],y[1]=t,y}class ye extends M{constructor(t,y){super(t);this._fn=y}next(){let t=super.nextWithIndex();for(;!t.done;){const[y,p]=t.value;if(this._fn(y,p))return{done:!1,value:y};t=super.nextWithIndex()}return{done:!0,value:void 0}}}M.prototype.filter=function(t){return new ye(this,t)};class we extends M{constructor(t,y){super(t);this._fn=([p,e])=>(y(p,e),p)}next(){const t=super.nextWithIndex();return t.done?t:{done:!1,value:this._fn(t.value)}}}M.prototype.forEach=function(t){return new we(this,t)};class ve extends M{constructor(t,y){super(t);this._fn=([p,e])=>y(p,e)}next(){const t=super.nextWithIndex();return t.done?t:{done:!1,value:this._fn(t.value)}}}M.prototype.map=function(t){return new ve(this,t)};class _e extends M{constructor(t,y){super(t);this._other=y}next(){const t=super.next();return t.done?this._other.next():t}}M.prototype.merge=function(t){return new _e(this,t)};class be extends M{constructor(){super(...arguments);this.peeked=[]}unpeekAll(){return this.peeked.length=0,this}unpeek(){return this.peeked.length>0?F(this.peeked.shift()):R()}peek(t=0){if(t<this.peeked.length)return F(this.peeked[t]);{let y=this.peeked.length-t-1,p=super.next();for(;!p.done&&(this.peeked.push(p.value),!(--y<=0));)p=super.next();return p.done?R():F(p.value)}}next(){const t=this.unpeek();if(t.isSome())return{done:!1,value:t.unwrap()};const y=super.next();return y.done?y:{done:!1,value:y.value}}}M.prototype.peekable=function(){return new be(this)};class ge extends M{constructor(t,y){super(t);this._skipped=0,this._skip=(y<=0?0:y)|0}next(){let t=super.next();for(;!t.done;)if(this._skipped<=this._skip)this._skipped+=1,t=super.next();else return t;return{done:!0,value:void 0}}}M.prototype.skip=function f(f){return new ge(this,f)};class me extends M{constructor(t,y){super(t);this._stepped=0,this._step=y<=0?1:y|0}next(){let t=super.next();for(;!t.done;)if(this._stepped<this._step)this._stepped+=1,t=super.next();else return this._stepped=0,t;return{done:!0,value:void 0}}}M.prototype.step=function f(f){return new me(this,f)};class xe extends M{constructor(t,y){super(t);this._taken=0,this._count=(y<=0?0:y)|0}next(){return this._taken<this._count?(this._taken+=1,super.next()):{done:!0,value:void 0}}}M.prototype.take=function(t){return new xe(this,t)};const ke=f=>f,Se=f=>f;class Ae extends M{constructor(t,y=ke,p=Se){super(t);this._map=([e,r])=>[y(e,r),p(e,r)]}toObject(){return this.reduce({},(t,y)=>(t[y[0]]=y[1],t))}next(){const t=super.nextWithIndex();return t.done?t:{done:!1,value:this._map(t.value)}}}M.prototype.toMap=function(t,y){return new Ae(this,t,y)};class je extends M{constructor(t,y){super(t);this._fn=y}next(){return this._fn(this._iter)}}M.prototype.unflatten=function(t){return new je(this,t)};var Y;(function(f){f[f.Forward=0]="Forward",f[f.Backward=1]="Backward"})(Y||(Y={}));class gt{constructor(t,y,p=1){this.start=t,this.end=y,this.step=Math.abs(p),this.direction=t>y?Y.Backward:Y.Forward}static from(t,y,p=1){return new gt(t,y,p)}getStart(){return this.start}getEnd(){return this.end}getStep(){return this.step}getDirection(){return this.direction}contains(t){return this.start<=t&&t<=this.end}isEmpty(){return this.direction===Y.Forward?this.start>this.end:this.start<this.end}iter(){return new M(this)}[Symbol.iterator](){return this}next(){if(this.isEmpty())return{done:!0,value:void 0};{const t=this.start;return this.direction===Y.Forward?this.start+=this.step:this.start-=this.step,{done:!1,value:t}}}}const xn=gt.from;class Te extends M{constructor(t){super(t);this.rng=t}iter(){return new M(this)}next(){return{done:!1,value:this.rng.nextFloat()}}}class Ee extends M{constructor(t,y=0,p=1){super(t);this.rng=t,this.min=y,this.max=p}iter(){return new M(this)}nextFloat(){return this.rng.nextFloatInRange(this.min,this.max)}next(){return{done:!1,value:this.nextFloat()}}}class $e extends M{constructor(t,y=0,p=L){super(t);this.rng=t,this.min=y|0,this.max=p|0}iter(){return new M(this)}nextInt(){return this.rng.nextIntInRange(this.min,this.max)}next(){return{done:!1,value:this.nextInt()}}}const Oe=new Uint8Array(4);class mt{nextFloat(){return this.nextInt()/L}nextFloatInRange(t=0,y=1){return t+this.nextFloat()*(y-t)}nextIntInRange(t=0,y=L){return Math.round(this.nextFloatInRange(t,y))}shuffle(t){const y=t.length;for(let p=0;p<y;p++){const e=p+this.nextIntInRange(0,y-p-1),r=t[p];t[p]=t[e],t[e]=r}return t}fromArray(t){return t.length?F(t[this.nextIntInRange(0,t.length-1)]):R()}keyFromObject(t){return this.fromArray(Object.keys(t))}valueFromObject(t){return this.fromArray(Object.values(t))}fillBytes(t){const y=Oe;for(let p=0,e=t.length;p<e;p++){const r=p%4;r===0&&ce(y,this.nextInt()),t[p]=y[r]}return t}[Symbol.iterator](){return this}iter(){return new M(this)}next(){return{done:!1,value:this.nextInt()}}float(){return new Te(this)}uniformFloat(t=0,y=1){return new Ee(this,t,y)}uniformInt(t=0,y=L){return new $e(this,t,y)}}class De extends mt{nextInt(){return Math.random()*L|0}nextFloat(){return Math.random()}}class Ut extends mt{constructor(t=423257940){super();this.seed=t}setSeed(t=423257940){return this.seed=t,this}nextInt(){return this.seed=Math.imul(48271,this.seed)|0%L,this.seed&L}}const Ne=new Ut;class xt extends mt{constructor(t,y,p,e){super();this.x=423257940,this.y=2829571177,this.z=2541948421,this.w=289122235,this.set(t,y,p,e)}static fromSeed(t){return new xt().setSeed(t)}setSeed(t){const y=Ne.setSeed(t);return this.set(y.nextInt(),y.nextInt(),y.nextInt(),y.nextInt())}set(t=423257940,y=2829571177,p=2541948421,e=289122235){return this.x=t|0,this.y=y|0,this.z=p|0,this.w=e|0,this}nextInt(){const t=this.x,y=t^t<<11;this.x=this.y,this.y=this.z,this.z=this.w;const p=this.w;return this.w=p^p>>19^(y^y>>8),this.w}}new Ut;new xt;const Ie=new De;let Be=Ie;function kn(){return Be.nextFloat()}export{tn as $,nn as A,Ft as B,gn as C,Me as D,Pe as E,Fe as F,Je as G,Xt as H,X as I,Ue as J,Ze as K,qe as L,Qt as M,Ve as N,hn as O,ln as P,mn as Q,xn as R,bn as S,kn as T,It as U,yn as V,an as W,en as X,Le as Y,Rt as Z,Q as _,Zt as a,We as a0,xt as a1,un as a2,Ce as a3,ze as b,Xe as c,Vt as d,Yt as e,Re as f,ee as g,Qe as h,_n as i,wn as j,Ke as k,He as l,vn as m,Ye as n,oe as o,pn as p,dn as q,sn as r,Wt as s,ct as t,cn as u,ue as v,fn as w,Gt as x,on as y,rn as z};
