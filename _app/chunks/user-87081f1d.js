import{C as y,S as C,i as P,s as j,e as p,N as I,k as E,t as N,c as v,a as f,O as D,d as u,n as S,g as Q,b as c,f as w,F as h,M as R,h as U,P as A,Q as W,J as z,K as X,D as Y,j as Z,m as ee,o as te,G as se,H as ae,I as le,x as B,u as O,v as ne,R as re}from"./vendor-edab756b.js";const{update:q,subscribe:ie}=y([]),oe={subscribe:ie};let ce=0;function we(r,t="error"){const e=ce++;return q(l=>[...l,{id:e,message:r,type:t}]),setTimeout(()=>F(e),5e3),e}function F(r){q(t=>{const e=t.findIndex(l=>l.id===r);if(e===-1)return t;{const l=[...t];return l.splice(e,1),l}})}function G(r,t,e){const l=r.slice();return l[2]=t[e],l}function H(r,t){let e,l,n,o,a,s,i,m=t[2].message+"",b,$,x,V;function K(){return t[1](t[2])}return{key:r,first:null,c(){e=p("div"),l=p("div"),n=I("svg"),o=I("path"),a=I("path"),s=E(),i=p("div"),b=N(m),$=E(),this.h()},l(_){e=v(_,"DIV",{class:!0});var d=f(e);l=v(d,"DIV",{class:!0});var L=f(l);n=D(L,"svg",{width:!0,height:!0,viewBox:!0,class:!0,fill:!0,xmlns:!0});var k=f(n);o=D(k,"path",{"fill-rule":!0,d:!0}),f(o).forEach(u),a=D(k,"path",{"fill-rule":!0,d:!0}),f(a).forEach(u),k.forEach(u),L.forEach(u),s=S(d),i=v(d,"DIV",{class:!0});var M=f(i);b=Q(M,m),M.forEach(u),$=S(d),d.forEach(u),this.h()},h(){c(o,"fill-rule","evenodd"),c(o,"d","M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z"),c(a,"fill-rule","evenodd"),c(a,"d","M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z"),c(n,"width","1.8em"),c(n,"height","1.8em"),c(n,"viewBox","0 0 16 16"),c(n,"class","bi bi-x"),c(n,"fill","currentColor"),c(n,"xmlns","http://www.w3.org/2000/svg"),c(l,"class","text-red-500 rounded-full bg-white mr-3"),c(i,"class","text-white max-w-xs "),c(e,"class","flex items-center rounded bg-red-500 py-2 px-3 shadow-md mb-2 cursor-pointer"),this.first=e},m(_,d){w(_,e,d),h(e,l),h(l,n),h(n,o),h(n,a),h(e,s),h(e,i),h(i,b),h(e,$),x||(V=R(e,"click",K),x=!0)},p(_,d){t=_,d&1&&m!==(m=t[2].message+"")&&U(b,m)},d(_){_&&u(e),x=!1,V()}}}function ue(r){let t,e=[],l=new Map,n=r[0];const o=a=>a[2].id.toString();for(let a=0;a<n.length;a+=1){let s=G(r,n,a),i=o(s);l.set(i,e[a]=H(i,s))}return{c(){t=p("div");for(let a=0;a<e.length;a+=1)e[a].c();this.h()},l(a){t=v(a,"DIV",{class:!0});var s=f(t);for(let i=0;i<e.length;i+=1)e[i].l(s);s.forEach(u),this.h()},h(){c(t,"class","p-2 absolute bottom-0 w-full")},m(a,s){w(a,t,s);for(let i=0;i<e.length;i+=1)e[i].m(t,null)},p(a,[s]){s&1&&(n=a[0],e=A(e,s,o,1,a,n,l,t,W,H,null,G))},i:z,o:z,d(a){a&&u(t);for(let s=0;s<e.length;s+=1)e[s].d()}}}function de(r,t,e){let l;return X(r,oe,o=>e(0,l=o)),[l,o=>F(o.id)]}class fe extends C{constructor(t){super();P(this,t,de,ue,j,{})}}function he(r){let t,e,l,n;const o=r[1].default,a=Y(o,r,r[0],null);return l=new fe({}),{c(){t=p("div"),a&&a.c(),e=E(),Z(l.$$.fragment),this.h()},l(s){t=v(s,"DIV",{class:!0});var i=f(t);a&&a.l(i),i.forEach(u),e=S(s),ee(l.$$.fragment,s),this.h()},h(){c(t,"class","mx-auto h-screen flex flex-col max-w-md px-4")},m(s,i){w(s,t,i),a&&a.m(t,null),w(s,e,i),te(l,s,i),n=!0},p(s,[i]){a&&a.p&&(!n||i&1)&&se(a,o,s,s[0],n?le(o,s[0],i,null):ae(s[0]),null)},i(s){n||(B(a,s),B(l.$$.fragment,s),n=!0)},o(s){O(a,s),O(l.$$.fragment,s),n=!1},d(s){s&&u(t),a&&a.d(s),s&&u(e),ne(l,s)}}}function _e(r,t,e){let{$$slots:l={},$$scope:n}=t;return r.$$set=o=>{"$$scope"in o&&e(0,n=o.$$scope)},[n,l]}class $e extends C{constructor(t){super();P(this,t,_e,he,j,{})}}const J=new re({localStorage:!1}),g=J.user().recall({sessionStorage:!0}),{set:T,subscribe:me}=y(""),{set:pe,subscribe:ve}=y(!0),xe={subscribe:me},ke={subscribe:ve};g.get("alias").on(T);J.on("auth",async()=>{const r=await g.get("alias");T(r)});function ye(){g.leave(),T("")}function ge(r,t){return new Promise((e,l)=>g.auth(r,t,n=>{n.err?l(n.err):e()}))}function Ie(r,t){return new Promise((e,l)=>g.create(r,t,n=>{n.err?l(n.err):e(ge(r,t))}))}setTimeout(()=>pe(!1),1e3);export{$e as L,Ie as a,ye as b,we as c,J as d,ke as l,ge as s,xe as u};
