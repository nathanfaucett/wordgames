function ge(){}function On(f,n){for(const r in n)f[r]=n[r];return f}function kt(f){return f()}function It(){return Object.create(null)}function Se(f){f.forEach(kt)}function Dn(f){return typeof f=="function"}function $n(f,n){return f!=f?n==n:f!==n||f&&typeof f=="object"||typeof f=="function"}function jn(f){return Object.keys(f).length===0}function Et(f,...n){if(f==null)return ge;const r=f.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function Or(f){let n;return Et(f,r=>n=r)(),n}function Dr(f,n,r){f.$$.on_destroy.push(Et(n,r))}function $r(f,n,r,o){if(f){const a=Ot(f,n,r,o);return f[0](a)}}function Ot(f,n,r,o){return f[1]&&o?On(r.ctx.slice(),f[1](o(n))):r.ctx}function jr(f,n,r,o){if(f[2]&&o){const a=f[2](o(r));if(n.dirty===void 0)return a;if(typeof a=="object"){const b=[],d=Math.max(n.dirty.length,a.length);for(let h=0;h<d;h+=1)b[h]=n.dirty[h]|a[h];return b}return n.dirty|a}return n.dirty}function Nr(f,n,r,o,a,b){if(a){const d=Ot(n,r,o,b);f.p(d,a)}}function Rr(f){if(f.ctx.length>32){const n=[],r=f.ctx.length/32;for(let o=0;o<r;o++)n[o]=-1;return n}return-1}let $e=!1;function Nn(){$e=!0}function Rn(){$e=!1}function Bn(f,n,r,o){for(;f<n;){const a=f+(n-f>>1);r(a)<=o?f=a+1:n=a}return f}function Pn(f){if(f.hydrate_init)return;f.hydrate_init=!0;let n=f.childNodes;if(f.nodeName==="HEAD"){const v=[];for(let p=0;p<n.length;p++){const A=n[p];A.claim_order!==void 0&&v.push(A)}n=v}const r=new Int32Array(n.length+1),o=new Int32Array(n.length);r[0]=-1;let a=0;for(let v=0;v<n.length;v++){const p=n[v].claim_order,A=(a>0&&n[r[a]].claim_order<=p?a+1:Bn(1,a,t=>n[r[t]].claim_order,p))-1;o[v]=r[A]+1;const e=A+1;r[e]=v,a=Math.max(e,a)}const b=[],d=[];let h=n.length-1;for(let v=r[a]+1;v!=0;v=o[v-1]){for(b.push(n[v-1]);h>=v;h--)d.push(n[h]);h--}for(;h>=0;h--)d.push(n[h]);b.reverse(),d.sort((v,p)=>v.claim_order-p.claim_order);for(let v=0,p=0;v<d.length;v++){for(;p<b.length&&d[v].claim_order>=b[p].claim_order;)p++;const A=p<b.length?b[p]:null;f.insertBefore(d[v],A)}}function Mn(f,n){if($e){for(Pn(f),(f.actual_end_child===void 0||f.actual_end_child!==null&&f.actual_end_child.parentElement!==f)&&(f.actual_end_child=f.firstChild);f.actual_end_child!==null&&f.actual_end_child.claim_order===void 0;)f.actual_end_child=f.actual_end_child.nextSibling;n!==f.actual_end_child?(n.claim_order!==void 0||n.parentNode!==f)&&f.insertBefore(n,f.actual_end_child):f.actual_end_child=n.nextSibling}else(n.parentNode!==f||n.nextSibling!==null)&&f.appendChild(n)}function Br(f,n,r){$e&&!r?Mn(f,n):(n.parentNode!==f||n.nextSibling!=r)&&f.insertBefore(n,r||null)}function Ln(f){f.parentNode.removeChild(f)}function Pr(f,n){for(let r=0;r<f.length;r+=1)f[r]&&f[r].d(n)}function Fn(f){return document.createElement(f)}function Cn(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function qe(f){return document.createTextNode(f)}function Mr(){return qe(" ")}function Lr(){return qe("")}function Fr(f,n,r,o){return f.addEventListener(n,r,o),()=>f.removeEventListener(n,r,o)}function Cr(f){return function(n){return n.preventDefault(),f.call(this,n)}}function Gr(f,n,r){r==null?f.removeAttribute(n):f.getAttribute(n)!==r&&f.setAttribute(n,r)}function Gn(f){return Array.from(f.childNodes)}function Hn(f){f.claim_info===void 0&&(f.claim_info={last_index:0,total_claimed:0})}function Dt(f,n,r,o,a=!1){Hn(f);const b=(()=>{for(let d=f.claim_info.last_index;d<f.length;d++){const h=f[d];if(n(h)){const v=r(h);return v===void 0?f.splice(d,1):f[d]=v,a||(f.claim_info.last_index=d),h}}for(let d=f.claim_info.last_index-1;d>=0;d--){const h=f[d];if(n(h)){const v=r(h);return v===void 0?f.splice(d,1):f[d]=v,a?v===void 0&&f.claim_info.last_index--:f.claim_info.last_index=d,h}}return o()})();return b.claim_order=f.claim_info.total_claimed,f.claim_info.total_claimed+=1,b}function $t(f,n,r,o){return Dt(f,a=>a.nodeName===n,a=>{const b=[];for(let d=0;d<a.attributes.length;d++){const h=a.attributes[d];r[h.name]||b.push(h.name)}b.forEach(d=>a.removeAttribute(d))},()=>o(n))}function Hr(f,n,r){return $t(f,n,r,Fn)}function Wr(f,n,r){return $t(f,n,r,Cn)}function Wn(f,n){return Dt(f,r=>r.nodeType===3,r=>{const o=""+n;if(r.data.startsWith(o)){if(r.data.length!==o.length)return r.splitText(o.length)}else r.data=o},()=>qe(n),!0)}function Vr(f){return Wn(f," ")}function Ur(f,n){n=""+n,f.wholeText!==n&&(f.data=n)}function Xr(f,n){f.value=n==null?"":n}function Yr(f,n){for(let r=0;r<f.options.length;r+=1){const o=f.options[r];if(o.__value===n){o.selected=!0;return}}f.selectedIndex=-1}function Jr(f,n,r){f.classList[r?"add":"remove"](n)}function qr(f,n=document.body){return Array.from(n.querySelectorAll(f))}let je;function Ne(f){je=f}function Qe(){if(!je)throw new Error("Function called outside component initialization");return je}function Qr(f){Qe().$$.on_mount.push(f)}function Zr(f){Qe().$$.after_update.push(f)}function Kr(f,n){Qe().$$.context.set(f,n)}function zr(f,n){const r=f.$$.callbacks[n.type];r&&r.slice().forEach(o=>o.call(this,n))}const ke=[],jt=[],Re=[],Ze=[],Vn=Promise.resolve();let Ke=!1;function Un(){Ke||(Ke=!0,Vn.then(Nt))}function ze(f){Re.push(f)}function ei(f){Ze.push(f)}let et=!1;const tt=new Set;function Nt(){if(!et){et=!0;do{for(let f=0;f<ke.length;f+=1){const n=ke[f];Ne(n),Xn(n.$$)}for(Ne(null),ke.length=0;jt.length;)jt.pop()();for(let f=0;f<Re.length;f+=1){const n=Re[f];tt.has(n)||(tt.add(n),n())}Re.length=0}while(ke.length);for(;Ze.length;)Ze.pop()();Ke=!1,et=!1,tt.clear()}}function Xn(f){if(f.fragment!==null){f.update(),Se(f.before_update);const n=f.dirty;f.dirty=[-1],f.fragment&&f.fragment.p(f.ctx,n),f.after_update.forEach(ze)}}const Be=new Set;let pe;function ti(){pe={r:0,c:[],p:pe}}function ni(){pe.r||Se(pe.c),pe=pe.p}function Rt(f,n){f&&f.i&&(Be.delete(f),f.i(n))}function ri(f,n,r,o){if(f&&f.o){if(Be.has(f))return;Be.add(f),pe.c.push(()=>{Be.delete(f),o&&(r&&f.d(1),o())}),f.o(n)}}const ii=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function oi(f,n){f.d(1),n.delete(f.key)}function ai(f,n,r,o,a,b,d,h,v,p,A,e){let t=f.length,i=b.length,u=t;const s={};for(;u--;)s[f[u].key]=u;const _=[],g=new Map,S=new Map;for(u=i;u--;){const j=e(a,b,u),N=r(j);let R=d.get(N);R?o&&R.p(j,n):(R=p(N,j),R.c()),g.set(N,_[u]=R),N in s&&S.set(N,Math.abs(u-s[N]))}const c=new Set,x=new Set;function w(j){Rt(j,1),j.m(h,A),d.set(j.key,j),A=j.first,i--}for(;t&&i;){const j=_[i-1],N=f[t-1],R=j.key,B=N.key;j===N?(A=j.first,t--,i--):g.has(B)?!d.has(R)||c.has(R)?w(j):x.has(B)?t--:S.get(R)>S.get(B)?(x.add(R),w(j)):(c.add(B),t--):(v(N,d),t--)}for(;t--;){const j=f[t];g.has(j.key)||v(j,d)}for(;i;)w(_[i-1]);return _}function ui(f,n){const r={},o={},a={$$scope:1};let b=f.length;for(;b--;){const d=f[b],h=n[b];if(h){for(const v in d)v in h||(o[v]=1);for(const v in h)a[v]||(r[v]=h[v],a[v]=1);f[b]=h}else for(const v in d)a[v]=1}for(const d in o)d in r||(r[d]=void 0);return r}function fi(f){return typeof f=="object"&&f!==null?f:{}}function si(f,n,r){const o=f.$$.props[n];o!==void 0&&(f.$$.bound[o]=r,r(f.$$.ctx[o]))}function li(f){f&&f.c()}function ci(f,n){f&&f.l(n)}function Yn(f,n,r,o){const{fragment:a,on_mount:b,on_destroy:d,after_update:h}=f.$$;a&&a.m(n,r),o||ze(()=>{const v=b.map(kt).filter(Dn);d?d.push(...v):Se(v),f.$$.on_mount=[]}),h.forEach(ze)}function Jn(f,n){const r=f.$$;r.fragment!==null&&(Se(r.on_destroy),r.fragment&&r.fragment.d(n),r.on_destroy=r.fragment=null,r.ctx=[])}function qn(f,n){f.$$.dirty[0]===-1&&(ke.push(f),Un(),f.$$.dirty.fill(0)),f.$$.dirty[n/31|0]|=1<<n%31}function di(f,n,r,o,a,b,d,h=[-1]){const v=je;Ne(f);const p=f.$$={fragment:null,ctx:null,props:b,update:ge,not_equal:a,bound:It(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(v?v.$$.context:[])),callbacks:It(),dirty:h,skip_bound:!1,root:n.target||v.$$.root};d&&d(p.root);let A=!1;if(p.ctx=r?r(f,n.props||{},(e,t,...i)=>{const u=i.length?i[0]:t;return p.ctx&&a(p.ctx[e],p.ctx[e]=u)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](u),A&&qn(f,e)),t}):[],p.update(),A=!0,Se(p.before_update),p.fragment=o?o(p.ctx):!1,n.target){if(n.hydrate){Nn();const e=Gn(n.target);p.fragment&&p.fragment.l(e),e.forEach(Ln)}else p.fragment&&p.fragment.c();n.intro&&Rt(f.$$.fragment),Yn(f,n.target,n.anchor,n.customElement),Rn(),Nt()}Ne(v)}class hi{$destroy(){Jn(this,1),this.$destroy=ge}$on(n,r){const o=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return o.push(r),()=>{const a=o.indexOf(r);a!==-1&&o.splice(a,1)}}$set(n){this.$$set&&!jn(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const be=[];function pi(f,n=ge){let r;const o=new Set;function a(h){if($n(f,h)&&(f=h,r)){const v=!be.length;for(const p of o)p[1](),be.push(p,f);if(v){for(let p=0;p<be.length;p+=2)be[p][0](be[p+1]);be.length=0}}}function b(h){a(h(f))}function d(h,v=ge){const p=[h,v];return o.add(p),o.size===1&&(r=n(a)||ge),h(f),()=>{o.delete(p),o.size===0&&(r(),r=null)}}return{set:a,update:b,subscribe:d}}const _e=Math.pow(2,31)-1|0;function Qn(f,n){return f[0]=(n&4278190080)>>24,f[1]=(n&16711680)>>16,f[2]=(n&65280)>>8,f[3]=n&255,f}function Zn(f){return f!=null&&typeof f.toJS=="function"?f.toJS():f}function Kn(f){return f!=null&&typeof f.toJSON=="function"?f.toJSON():f}const nt={},Pe={};class Me{constructor(n,r){if(n!==nt)throw new TypeError("Options can only be created with the some or none functions");this._value=r}static some(n){return ie(n)}static none(){return oe()}static from(n){return n!=null?ie(n):oe()}static fromResult(n){return n.isOk()?ie(n.unwrap()):oe()}isNone(){return this._value===Pe}isSome(){return!this.isNone()}expect(n){if(this.isSome())return this._value;throw new Error(typeof n=="function"?n():n)}unwrap(){return this.expect("Tried to unwrap value of none Option")}unwrapOr(n){return this.isSome()?this._value:n}unwrapOrElse(n){return this.isSome()?this._value:n()}map(n){return this.isSome()?ie(n(this._value)):oe()}mapOr(n,r){return this.isSome()?ie(n(this._value)):ie(r)}mapOrElse(n,r){return this.isSome()?ie(n(this._value)):ie(r())}flatMap(n){return this.isSome()?n(this._value):oe()}flatMapOr(n,r){return this.isSome()?n(this._value):r}flatMapOrElse(n,r){return this.isSome()?n(this._value):r()}and(n){return this.isSome()?n:oe()}andThen(n){return this.isSome()?n(this._value):oe()}or(n){return this.isNone()?n:this}orElse(n){return this.isNone()?n():this}xor(n){const r=this.isSome(),o=n.isSome();return r&&!o?this:!r&&o?n:oe()}filter(n){return this.isSome()&&n(this._value)?this:oe()}getOrInsert(n){return this.isNone()&&(this._value=n),this}getOrInsertWith(n){return this.isNone()&&(this._value=n()),this}take(){if(this.isSome()){const n=this._value;return this._value=Pe,ie(n)}else return oe()}from(n){return n!=null?this._value=n:this.clear(),this}replace(n){return this._value=n,this}clear(){return this._value=Pe,this}fromResult(n){return n.isOk()?ie(n.unwrap()):oe()}ifSome(n,r){return this.isSome()?n(this._value):r&&r(),this}ifNone(n,r){return this.isNone()?n():r&&r(this._value),this}fromJSON(n){return Me.from(n)}toJSON(){return this.map(Kn).unwrapOr(null)}toJS(){return this.map(Zn).unwrapOr(null)}}const ie=f=>new Me(nt,f),oe=()=>new Me(nt,Pe);class Z{constructor(n){this._index=0,this._iter=n}[Symbol.iterator](){return this}iter(){return this}next(){return this._iter.next()}nextWithIndex(){const n=this._iter.next();return n.done?n:{value:[n.value,this._index++]}}enumerate(){throw new Error("iter/Enumerate was not imported!")}peekable(){throw new Error("iter/Peekable was not imported!")}forEach(n){throw new Error("iter/ForEach was not imported!")}map(n){throw new Error("iter/Map was not imported!")}merge(n){throw new Error("iter/Merge was not imported!")}concat(n){return this.merge(n)}filter(n){throw new Error("iter/Filter was not imported!")}step(n){throw new Error("iter/Step was not imported!")}skip(n){throw new Error("iter/Skip was not imported!")}take(n){throw new Error("iter/Take was not imported!")}toMap(n,r){throw new Error("iter/ToMap was not imported!")}count(){return this.reduce(0,n=>n+1)}consume(){let n=this.next();for(;!n.done;)n=this.next();return this}toArray(){return this.reduce([],(n,r)=>(n.push(r),n))}join(n){return this.toArray().join(n)}indexOf(n){let r=this.next(),o=0;for(;!r.done;){if(r.value===n)return o;o++,r=this.next()}return-1}findIndex(n){let r=this.nextWithIndex();for(;!r.done;){const[o,a]=r.value;if(n(o,a))return a;r=this.nextWithIndex()}return-1}find(n){let r=this.nextWithIndex();for(;!r.done;){const[o,a]=r.value;if(n(o,a))return ie(o);r=this.nextWithIndex()}return oe()}findAll(n){return this.filter(n)}nth(n=0){let r=this.next();for(n<0&&(n=0);!r.done;){if(n--<=0)return ie(r.value);r=this.next()}return oe()}first(){return this.nth(0)}last(){let n=this.next();for(;!n.done;){const r=this.next();if(r.done)return ie(n.value);n=r}return oe()}any(n){return this.findIndex(n)!==-1}some(n){return this.any(n)}none(n){return this.findIndex(n)===-1}all(n){let r=this.nextWithIndex();for(;!r.done;){const[o,a]=r.value;if(!n(o,a))return!1;r=this.nextWithIndex()}return!0}unflatten(n){throw new Error("iter/Unflatten was not imported!")}reduce(n,r){let o=this.next();for(;!o.done;){const a=o.value;n=r(n,a,this._index-1),o=this.next()}return n}reverse(){return Le(this.toArray().reverse())}}function Le(f){return f!=null?typeof f[Symbol.iterator]=="function"?new Z(f[Symbol.iterator]()):typeof f.next=="function"?f instanceof Z?f:new Z(f):Le(typeof f=="object"?Object.entries(f):[f]):Le([])}class zn extends Z{constructor(n){super(n)}next(){const n=super.nextWithIndex();return n.done?n:{value:er(n.value)}}}Z.prototype.enumerate=function(){return new zn(this)};function er(f){const n=f[0],r=f;return r[0]=f[1],r[1]=n,r}class tr extends Z{constructor(n,r){super(n);this._fn=r}next(){let n=super.nextWithIndex();for(;!n.done;){const[r,o]=n.value;if(this._fn(r,o))return{done:!1,value:r};n=super.nextWithIndex()}return{done:!0,value:void 0}}}Z.prototype.filter=function(n){return new tr(this,n)};class nr extends Z{constructor(n,r){super(n);this._fn=([o,a])=>(r(o,a),o)}next(){const n=super.nextWithIndex();return n.done?n:{done:!1,value:this._fn(n.value)}}}Z.prototype.forEach=function(n){return new nr(this,n)};class rr extends Z{constructor(n,r){super(n);this._fn=([o,a])=>r(o,a)}next(){const n=super.nextWithIndex();return n.done?n:{done:!1,value:this._fn(n.value)}}}Z.prototype.map=function(n){return new rr(this,n)};class ir extends Z{constructor(n,r){super(n);this._other=r}next(){const n=super.next();return n.done?this._other.next():n}}Z.prototype.merge=function(n){return new ir(this,n)};class or extends Z{constructor(){super(...arguments);this.peeked=[]}unpeekAll(){return this.peeked.length=0,this}unpeek(){return this.peeked.length>0?ie(this.peeked.shift()):oe()}peek(n=0){if(n<this.peeked.length)return ie(this.peeked[n]);{let r=this.peeked.length-n-1,o=super.next();for(;!o.done&&(this.peeked.push(o.value),!(--r<=0));)o=super.next();return o.done?oe():ie(o.value)}}next(){const n=this.unpeek();if(n.isSome())return{done:!1,value:n.unwrap()};const r=super.next();return r.done?r:{done:!1,value:r.value}}}Z.prototype.peekable=function(){return new or(this)};class ar extends Z{constructor(n,r){super(n);this._skipped=0,this._skip=(r<=0?0:r)|0}next(){let n=super.next();for(;!n.done;)if(this._skipped<=this._skip)this._skipped+=1,n=super.next();else return n;return{done:!0,value:void 0}}}Z.prototype.skip=function f(f){return new ar(this,f)};class ur extends Z{constructor(n,r){super(n);this._stepped=0,this._step=r<=0?1:r|0}next(){let n=super.next();for(;!n.done;)if(this._stepped<this._step)this._stepped+=1,n=super.next();else return this._stepped=0,n;return{done:!0,value:void 0}}}Z.prototype.step=function f(f){return new ur(this,f)};class fr extends Z{constructor(n,r){super(n);this._taken=0,this._count=(r<=0?0:r)|0}next(){return this._taken<this._count?(this._taken+=1,super.next()):{done:!0,value:void 0}}}Z.prototype.take=function(n){return new fr(this,n)};const sr=f=>f,lr=f=>f;class cr extends Z{constructor(n,r=sr,o=lr){super(n);this._map=([a,b])=>[r(a,b),o(a,b)]}toObject(){return this.reduce({},(n,r)=>(n[r[0]]=r[1],n))}next(){const n=super.nextWithIndex();return n.done?n:{done:!1,value:this._map(n.value)}}}Z.prototype.toMap=function(n,r){return new cr(this,n,r)};class dr extends Z{constructor(n,r){super(n);this._fn=r}next(){return this._fn(this._iter)}}Z.prototype.unflatten=function(n){return new dr(this,n)};var we;(function(f){f[f.Forward=0]="Forward",f[f.Backward=1]="Backward"})(we||(we={}));class rt{constructor(n,r,o=1){this.start=n,this.end=r,this.step=Math.abs(o),this.direction=n>r?we.Backward:we.Forward}static from(n,r,o=1){return new rt(n,r,o)}getStart(){return this.start}getEnd(){return this.end}getStep(){return this.step}getDirection(){return this.direction}contains(n){return this.start<=n&&n<=this.end}isEmpty(){return this.direction===we.Forward?this.start>this.end:this.start<this.end}iter(){return new Z(this)}[Symbol.iterator](){return this}next(){if(this.isEmpty())return{done:!0,value:void 0};{const n=this.start;return this.direction===we.Forward?this.start+=this.step:this.start-=this.step,{done:!1,value:n}}}}const _i=rt.from;class hr extends Z{constructor(n){super(n);this.rng=n}iter(){return new Z(this)}next(){return{done:!1,value:this.rng.nextFloat()}}}class pr extends Z{constructor(n,r=0,o=1){super(n);this.rng=n,this.min=r,this.max=o}iter(){return new Z(this)}nextFloat(){return this.rng.nextFloatInRange(this.min,this.max)}next(){return{done:!1,value:this.nextFloat()}}}class _r extends Z{constructor(n,r=0,o=_e){super(n);this.rng=n,this.min=r|0,this.max=o|0}iter(){return new Z(this)}nextInt(){return this.rng.nextIntInRange(this.min,this.max)}next(){return{done:!1,value:this.nextInt()}}}const vr=new Uint8Array(4);class it{nextFloat(){return this.nextInt()/_e}nextFloatInRange(n=0,r=1){return n+this.nextFloat()*(r-n)}nextIntInRange(n=0,r=_e){return Math.round(this.nextFloatInRange(n,r))}shuffle(n){const r=n.length;for(let o=0;o<r;o++){const a=o+this.nextIntInRange(0,r-o-1),b=n[o];n[o]=n[a],n[a]=b}return n}fromArray(n){return n.length?ie(n[this.nextIntInRange(0,n.length-1)]):oe()}keyFromObject(n){return this.fromArray(Object.keys(n))}valueFromObject(n){return this.fromArray(Object.values(n))}fillBytes(n){const r=vr;for(let o=0,a=n.length;o<a;o++){const b=o%4;b===0&&Qn(r,this.nextInt()),n[o]=r[b]}return n}[Symbol.iterator](){return this}iter(){return new Z(this)}next(){return{done:!1,value:this.nextInt()}}float(){return new hr(this)}uniformFloat(n=0,r=1){return new pr(this,n,r)}uniformInt(n=0,r=_e){return new _r(this,n,r)}}class mr extends it{nextInt(){return Math.random()*_e|0}nextFloat(){return Math.random()}}class Bt extends it{constructor(n=423257940){super();this.seed=n}setSeed(n=423257940){return this.seed=n,this}nextInt(){return this.seed=Math.imul(48271,this.seed)|0%_e,this.seed&_e}}const yr=new Bt;class ot extends it{constructor(n,r,o,a){super();this.x=423257940,this.y=2829571177,this.z=2541948421,this.w=289122235,this.set(n,r,o,a)}static fromSeed(n){return new ot().setSeed(n)}setSeed(n){const r=yr.setSeed(n);return this.set(r.nextInt(),r.nextInt(),r.nextInt(),r.nextInt())}set(n=423257940,r=2829571177,o=2541948421,a=289122235){return this.x=n|0,this.y=r|0,this.z=o|0,this.w=a|0,this}nextInt(){const n=this.x,r=n^n<<11;this.x=this.y,this.y=this.z,this.z=this.w;const o=this.w;return this.w=o^o>>19^(r^r>>8),this.w}}new Bt;new ot;const gr=new mr;let br=gr;function vi(){return br.nextFloat()}var ce=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function xe(f){throw new Error('Could not dynamically require "'+f+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pt={exports:{}};(function(f){(function(){function n(o,a){return a?xe(o):o.slice?n[b(o)]:function(d,h){o(d={exports:{}}),n[b(h)]=d.exports};function b(d){return d.split("/").slice(-1).toString().replace(".js","")}}var r=f;n(function(o){String.random=function(b,d){var h="";for(b=b||24,d=d||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";b-- >0;)h+=d.charAt(Math.floor(Math.random()*d.length));return h},String.match=function(b,d){var h,v;return typeof b!="string"?!1:(typeof d=="string"&&(d={"=":d}),d=d||{},h=d["="]||d["*"]||d[">"]||d["<"],b===h?!0:v!==d["="]?!1:(h=d["*"]||d[">"],b.slice(0,(h||"").length)===h?!0:v!==d["*"]?!1:v!==d[">"]&&v!==d["<"]?b>=d[">"]&&b<=d["<"]:v!==d[">"]&&b>=d[">"]||v!==d["<"]&&b<=d["<"]))},String.hash=function(b,d){if(typeof b=="string"){if(d=d||0,!b.length)return d;for(var h=0,v=b.length,p;h<v;++h)p=b.charCodeAt(h),d=(d<<5)-d+p,d|=0;return d}};var a=Object.prototype.hasOwnProperty;Object.plain=function(b){return b?b instanceof Object&&b.constructor===Object||Object.prototype.toString.call(b).match(/^\[object (\w+)\]$/)[1]==="Object":!1},Object.empty=function(b,d){for(var h in b)if(a.call(b,h)&&(!d||d.indexOf(h)==-1))return!1;return!0},Object.keys=Object.keys||function(b){var d=[];for(var h in b)a.call(b,h)&&d.push(h);return d},function(){var b,d=setTimeout,h=0,v=0,p=typeof setImmediate!=""+b&&setImmediate||d;d.poll=d.poll||function(A){if(1>=+new Date-h&&v++<3333){A();return}p(function(){h=+new Date,A()},v=0)}}(),function(){var b=setTimeout,d=b.turn=b.turn||function(t){h.push(t)==1&&v(e)},h=d.s=[],v=b.poll,p=0,A,e=function(){(A=h[p++])&&A(),(p==h.length||p==99)&&(h=d.s=h.slice(p),p=0),h.length&&v(e)}}(),function(){var b,d=setTimeout,h=d.turn;(d.each=d.each||function(v,p,A,e){e=e||9,function t(i,u,s){if(u=(i=(v||[]).splice(0,e)).length){for(var _=0;_<u&&b===(s=p(i[_]));_++);if(b===s){h(t);return}}A&&A(s)}()})()}()})(n,"./shim"),n(function(o){o.exports=function a(b,d,h){if(!b)return{to:a};var v,p=typeof d=="function",b=(this.tag||(this.tag={}))[b]||p&&(this.tag[b]={tag:b,to:a._={next:function(e){var t;(t=this.to)&&t.next(e)}}});if(p){var A={off:a.off||(a.off=function(){if(this.next===a._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=a._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:a._,next:d,the:b,on:this,as:h};return(A.back=b.last||b).to=A,b.last=A}return(b=b.to)&&v!==d&&b.next(d),b}})(n,"./onto"),n(function(o){n("./shim"),o.exports=function(a){return a===void 0?!1:a===null?!0:a===1/0||a!==a?!1:typeof a=="string"||typeof a=="boolean"||typeof a=="number"?!0:a&&typeof(a["#"]||0)=="string"&&Object.empty(a,["#"])?a["#"]:!1}})(n,"./valid"),n(function(o){n("./shim");function a(){var A=+new Date;return v<A?(d=0,v=A+a.drift):v=A+(d+=1)/h+a.drift}a.drift=0;var b=-1/0,d=0,h=999,v=b,p;a.is=function(A,e,t){var i=e&&A&&A._&&A._[">"]||t;if(!!i)return typeof(i=i[e])=="number"?i:b},a.ify=function(A,e,t,i,u){(A=A||{})._=A._||{},u&&(A._["#"]=u);var s=A._[">"]||(A._[">"]={});return p!==e&&e!=="_"&&(typeof t=="number"&&(s[e]=t),p!==i&&(A[e]=i)),A},o.exports=a})(n,"./state"),n(function(o){n("./shim");function a(b){var d={s:{}},h=d.s;b=b||{max:999,age:1e3*9},d.check=function(p){return h[p]?v(p):!1};var v=d.track=function(p){var A=h[p]||(h[p]={});return A.was=d.now=+new Date,d.to||(d.to=setTimeout(d.drop,b.age+9)),A};return d.drop=function(p){d.to=null,d.now=+new Date;var A=Object.keys(h);console.STAT&&console.STAT(d.now,+new Date-d.now,"dup drop keys"),setTimeout.each(A,function(e){var t=h[e];t&&(p||b.age)>d.now-t.was||delete h[e]},0,99)},d}o.exports=a})(n,"./dup"),n(function(o){n("./onto"),o.exports=function(d,h){if(!!this.on){var v=(this.opt||{}).lack||9e3;if(typeof d!="function"){if(!d)return;var A=d["#"]||d,p=(this.tag||"")[A];return p?(h&&(p=this.on(A,h),clearTimeout(p.err),p.err=setTimeout(function(){p.off()},v)),!0):void 0}var A=h&&h["#"]||a(9);if(!d)return A;var e=this.on(A,d,h);return e.err=e.err||setTimeout(function(){e.off(),e.next({err:"Error: No ACK yet.",lack:!0})},v),A}};var a=String.random||function(){return Math.random().toString(36).slice(2)}})(n,"./ask"),n(function(o){function a(u){return u instanceof a?(this._={$:this}).$:this instanceof a?a.create(this._={$:this,opt:u}):new a(u)}a.is=function(u){return u instanceof a||u&&u._&&u===u._.$||!1},a.version=.202,a.chain=a.prototype,a.chain.toJSON=function(){},n("./shim"),a.valid=n("./valid"),a.state=n("./state"),a.on=n("./onto"),a.dup=n("./dup"),a.ask=n("./ask"),function(){a.create=function(I){I.root=I.root||I,I.graph=I.graph||{},I.on=I.on||a.on,I.ask=I.ask||a.ask,I.dup=I.dup||a.dup();var L=I.$.opt(I.opt);return I.once||(I.on("in",u,I),I.on("out",u,I),I.on("put",g,I),a.on("create",I),I.on("create",I)),I.once=1,L};function u(I){if(!!I){if(I.out===u){this.to.next(I);return}var L=this,y=L.as,T=y.at||y,O=T.$,P=T.dup,H,M=I.DBG;if((H=I["#"])||(H=I["#"]=d(9)),!P.check(H)){if(P.track(H),H=I._,I._=typeof H=="function"?H:function(){},I.$&&I.$===(I.$._||"").$||(I.$=O),I["@"]&&!I.put&&c(I),!T.ask(I["@"],I))if(M&&(M.u=+new Date),I.put){s(I);return}else I.get&&a.on.get(I,O);M&&(M.uc=+new Date),L.to.next(I),M&&(M.ua=+new Date),!(I.nts||I.NTS)&&(I.out=u,T.on("out",I),M&&(M.ue=+new Date))}}}function s(I){if(!!I){var L=I._||"",y=L.root=((L.$=I.$||"")._||"").root;if(I["@"]&&L.faith&&!L.miss){I.out=u,y.on("out",I);return}L.latch=y.hatch,L.match=y.hatch=[];var T=I.put,O=L.DBG=I.DBG,P=+new Date;if(!(T["#"]&&T["."])){O&&(O.p=P),L["#"]=I["#"],L.msg=I,L.all=0,L.stun=1;var H=Object.keys(T);console.STAT&&console.STAT(P,((O||L).pk=+new Date)-P,"put sort");var M=0,C,Y,X,J,K,te,fe;(function ue(ve){if(C!=M){if(C=M,!(X=H[M])){console.STAT&&console.STAT(P,((O||L).pd=+new Date)-P,"put"),S(L);return}(J=T[X])?(fe=J._)?X!==fe["#"]?te=w+j(X)+"soul not same.":(K=fe[">"])||(te=w+j(X)+"no state."):te=w+j(X)+"no meta.":te=w+j(X)+"no node.",Y=Object.keys(J||{})}if(te){I.err=L.err=te,S(L);return}var Ie=0,le;for(ve=ve||0;ve++<9&&(le=Y[Ie++]);)if(le!=="_"){var me=J[le],Ee=K[le];if(e===Ee){te=w+j(le)+"on"+j(X)+"no state.";break}if(!v(me)){te=w+j(le)+"on"+j(X)+"bad "+typeof me+j(me);break}_(me,le,X,Ee,I)}if((Y=Y.slice(Ie)).length){h(ue);return}++M,Y=null,ue(ve)})()}}}a.on.put=s;function _(I,L,y,T,O){var P=O._||"",H=P.root,M=H.graph,C,Y=M[y]||t,X=p(Y,L,1),J=Y[L],K=P.DBG;(C=console.STAT)&&(!M[y]||!J)&&(C.has=(C.has||0)+1);var te=B();if(T>te){setTimeout(function(){_(I,L,y,T,O)},(C=T-te)>R?R:C),console.STAT&&console.STAT((K||P).Hf=+new Date,C,"future");return}if(!(T<X&&!P.miss)&&!(!P.faith&&T===X&&(I===J||N(I)<=N(J))&&!P.miss)){P.stun++;var fe=O["#"]+P.all++,ue={toString:function(){return fe},_:P};ue.toJSON=ue.toString,K&&(K.ph=K.ph||+new Date),H.on("put",{"#":ue,"@":O["@"],put:{"#":y,".":L,":":I,">":T},_:P})}}function g(I){var L;(L=(I._||"").DBG)&&(L.pa=+new Date,L.pm=L.pm||+new Date);var y=this,T=y.as,O=T.graph,P=I._,H=I.put,M=H["#"],C=H["."],Y=H[":"],X=H[">"];I["#"];var J;(J=P.msg)&&(J=J.put)&&(J=J[M])&&A(J,C,X,Y,M),O[M]=A(O[M],C,X,Y,M),(J=(T.next||"")[M])&&J.on("in",I),S(P),y.to.next(I)}function S(I,L){var y;if(!I.stop&&!(!I.err&&0<--I.stun)&&(I.stop=1,!!(y=I.root))){var T=I.match;T.end=1,T===y.hatch&&(!(T=I.latch)||T.end?delete y.hatch:y.hatch=T),I.hatch&&I.hatch(),setTimeout.each(I.match,function(O){O&&O()}),!(!(L=I.msg)||I.err||L.err)&&(L.out=u,I.root.on("out",L))}}function c(I){var L=I["@"]||"",y;!(y=L._)||(y.acks=(y.acks||0)+1,(y.err=I.err)&&(I["@"]=y["#"],S(y)),!y.stop&&!y.crack&&(y.crack=y.match&&y.match.push(function(){x(y)})),x(y))}function x(I){!I||!I.root||I.stun||I.acks!==I.all||I.root.on("in",{"@":I["#"],err:I.err,ok:I.err?e:{"":1}})}var w="Error: Invalid graph!",j=function(I){return" '"+(""+I).slice(0,9)+"...' "},N=JSON.stringify,R=2147483647,B=a.state}(),function(){a.on.get=function(s,_){var g=_._,S=s.get,c=S["#"],x=g.graph[c],w=S["."],j=g.next||(g.next={});j[c];var N=s._||{},R=N.DBG=s.DBG;if(R&&(R.g=+new Date),!x)return g.on("get",s);if(w){if(typeof w!="string"||e===x[w])return g.on("get",s);x=A({},w,p(x,w),x[w],c)}x&&u(s,x),g.on("get",s)};function u(s,_){var g=+new Date,S=s._||{},c=S.DBG=s.DBG,x=s["#"],w=d(9),j=Object.keys(_||"").sort(),N=((_||"")._||"")["#"];j.length;var R=s.$._.root,B=_===R.graph[N];console.STAT&&console.STAT(g,((c||S).gk=+new Date)-g,"got keys"),_&&function I(){g=+new Date;for(var L=0,y,T={},O;L<9&&(y=j[L++]);)A(T,y,p(_,y),_[y],N);j=j.slice(L),(O={})[N]=T,T=O;var P;B&&(P=function(){},P.ram=P.faith=!0),O=j.length,console.STAT&&console.STAT(g,-(g-(g=+new Date)),"got copied some"),c&&(c.ga=+new Date),R.on("in",{"@":x,"#":w,put:T,"%":O?w=d(9):e,$:R.$,_:P,DBG:c}),console.STAT&&console.STAT(g,+new Date-g,"got in"),!!O&&setTimeout.turn(I)}(),_||R.on("in",{"@":s["#"]})}a.on.get.ack=u}(),function(){a.chain.opt=function(u){u=u||{};var s=this,_=s._,g=u.peers||u;return Object.plain(u)||(u={}),Object.plain(_.opt)||(_.opt=u),typeof g=="string"&&(g=[g]),g instanceof Array&&(Object.plain(_.opt.peers)||(_.opt.peers={}),g.forEach(function(S){var c={};c.id=c.url=S,_.opt.peers[S]=_.opt.peers[S]||c})),_.opt.peers=_.opt.peers||{},b(u,function S(c){var x=this[c];if(this&&this.hasOwnProperty(c)||typeof x=="string"||Object.empty(x)){this[c]=x;return}x&&x.constructor!==Object&&!(x instanceof Array)||b(x,S)}),a.on("opt",_),_.opt.uuid=_.opt.uuid||function(c){return a.state().toString(36).replace(".","")+String.random(c||12)},s}}();var b=function(u,s){Object.keys(u).forEach(s,u)},d=String.random,h=setTimeout.turn,v=a.valid,p=a.state.is,A=a.state.ify,e,t={},i;a.log=function(){return!a.log.off&&i.log.apply(i,arguments),[].slice.call(arguments).join(" ")},a.log.once=function(u,s,_){return(_=a.log.once)[u]=_[u]||0,_[u]++||a.log(s)},typeof window!="undefined"&&((window.GUN=window.Gun=a).window=window);try{typeof r!="undefined"&&(r.exports=a)}catch{}o.exports=a,(a.window||{}).console=(a.window||{}).console||{log:function(){}},(i=console).only=function(u,s){return i.only.i&&u===i.only.i&&i.only.i++&&(i.log.apply(i,arguments)||s)},a.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")})(n,"./root"),n(function(o){var a=n("./root");a.chain.back=function(h,v){var p;if(h=h||1,h===-1||h===1/0)return this._.root.$;if(h===1)return(this._.back||this._).$;var A=this,e=A._;if(typeof h=="string"&&(h=h.split(".")),h instanceof Array){var t=0,i=h.length,p=e;for(t;t<i;t++)p=(p||b)[h[t]];return d!==p?v?A:p:(p=e.back)?p.$.back(h,v):void 0}if(typeof h=="function"){for(var u,p={back:e};(p=p.back)&&d===(u=h(p,v)););return u}return typeof h=="number"?(e.back||e).$.back(h-1):this};var b={},d})(n,"./back"),n(function(o){var a=n("./root");a.chain.chain=function(S){var c=this,x=c._,w=new(S||c).constructor(c),j=w._,N;return j.root=N=x.root,j.id=++N.once,j.back=c._,j.on=a.on,j.on("in",a.on.in,j),j.on("out",a.on.out,j),w};function b(S){var c,x=this.as,w=x.back,j=x.root,N;if(S.$||(S.$=x.$),this.to.next(S),x.err){x.on("in",{put:x.put=e,$:x.$});return}if(c=S.get){if(j.pass&&(j.pass[x.id]=x),x.lex&&Object.keys(x.lex).forEach(function(R){N[R]=x.lex[R]},N=S.get=S.get||{}),c["#"]||x.soul){if(c["#"]=c["#"]||x.soul,S["#"]||(S["#"]=t(9)),w=j.$.get(c["#"])._,c=c["."]){if(u(w.put,c)&&(N=w.ask&&w.ask[c],(w.ask||(w.ask={}))[c]=w.$.get(c)._,w.on("in",{get:c,put:{"#":w.soul,".":c,":":w.put[c],">":_(j.graph[w.soul],c)}}),N))return}else{if(N=w.ask&&w.ask[""],(w.ask||(w.ask={}))[""]=w,e!==w.put&&(w.on("in",w),N))return;S.$=w.$}return j.ask(p,S),j.on("in",S)}if(c["."])return x.get?(S={get:{".":x.get},$:x.$},(w.ask||(w.ask={}))[x.get]=S.$._,w.on("out",S)):(S={get:x.lex?S.get:{},$:x.$},w.on("out",S));if((x.ask||(x.ask={}))[""]=x,x.get)return c["."]=x.get,(w.ask||(w.ask={}))[x.get]=S.$._,w.on("out",S)}return w.on("out",S)}a.on.out=b;function d(S,c){c=c||this.as;var x=c.root,w=S.$||(S.$=c.$),j=(w||"")._||A,N=S.put||"",R=N["#"],B=N["."],I=e!==N["="]?N["="]:N[":"],L=N[">"]||-1/0,y;if(e!==S.put&&(e===N["#"]||e===N["."]||e===N[":"]&&e===N["="]||e===N[">"])){if(!i(N)){if(!(R=((N||"")._||"")["#"])){console.log("chain not yet supported for",N,"...",S,c);return}return w=c.root.$.get(R),setTimeout.each(Object.keys(N).sort(),function(T){T=="_"||e===(L=_(N,T))||c.on("in",{$:w,put:{"#":R,".":T,"=":N[T],">":L},VIA:S})})}c.on("in",{$:j.back.$,put:{"#":R=j.back.soul,".":B=j.has||j.get,"=":N,">":_(j.back.put,B)},via:S});return}(S.seen||"")[c.id]||((S.seen||(S.seen=function(){}))[c.id]=c,c!==j&&(Object.keys(S).forEach(function(T){N[T]=S[T]},N={}),N.get=c.get||N.get,!c.soul&&!c.has?N.$$$=N.$$$||c.$:j.soul&&(N.$=c.$,N.$$=N.$$||j.$),S=N),v(S,c),(c.soul||S.$$)&&L>=_(x.graph[R],B)&&((N=x.$.get(R)._).put=g(N.put,B,L,I,R)),!j.soul&&L>=_(x.graph[R],B)&&(y=(x.$.get(R)._.next||"")[B])&&(y.put=I,typeof(N=i(I))=="string"&&(y.put=x.$.get(N)._.put||I)),this.to&&this.to.next(S),c.any&&setTimeout.each(Object.keys(c.any),function(T){(T=c.any[T])&&T(S)},0,99),c.echo&&setTimeout.each(Object.keys(c.echo),function(T){(T=c.echo[T])&&T.on("in",S)},0,99),((S.$$||"")._||j).soul&&(y=c.next)&&(y=y[B])&&(N={},Object.keys(S).forEach(function(T){N[T]=S[T]}),N.$=(S.$$||S.$).get(N.get=B),delete N.$$,delete N.$$$,y.on("in",N)),h(S,c))}a.on.in=d;function h(S,c){if(c=c||this.as||S.$._,!(S.$$&&this!==a.on)&&!(!S.put||c.soul)){var x=S.put||"",w=x["="]||x[":"],j,N=c.root,R=N.$.get(x["#"]).get(x["."])._;if(typeof(w=i(w))!="string"){this===a.on&&((R.echo||(R.echo={}))[c.id]=c);return}if(!((R.echo||(R.echo={}))[c.id]&&!(N.pass||"")[c.id])){if(j=N.pass){if(j[w+c.id])return;j[w+c.id]=1}(R.echo||(R.echo={}))[c.id]=c,c.has&&(c.link=w);var B=N.$.get(R.link=w)._;(B.echo||(B.echo={}))[R.id]=R;var j=c.ask||"";(j[""]||c.lex)&&B.on("out",{get:{"#":w}}),setTimeout.each(Object.keys(j),function(I,L){!I||!(L=j[I])||L.on("out",{get:{"#":w,".":I}})},0,99)}}}a.on.link=h;function v(S,c){var x=S.put||"",w=e!==x["="]?x["="]:x[":"],j=c.root,N,R;if(e===w){if(c.soul&&e!==c.put||(R=(S.$$||S.$||"")._||"",S["@"]&&(e!==R.put||e!==c.put)))return;(N=c.link||S.linked)&&delete(j.$.get(N)._.echo||"")[c.id],c.has&&(c.link=null),c.put=e,setTimeout.each(Object.keys(c.next||""),function(B,I){!(I=c.next[B])||(N&&delete(j.$.get(N).get(B)._.echo||"")[I.id],I.on("in",{get:B,put:e,$:I.$}))},0,99);return}c.soul||S.$$||(N=i(w),R=S.$._||"",!((N===R.link||c.has&&!R.link)&&!((j.pass||"")[c.id]&&typeof N!="string"))&&(delete(R.echo||"")[c.id],v({get:c.get,put:e,$:S.$,linked:S.linked=S.linked||R.link},c)))}a.on.unlink=v;function p(S,c){var x=this.as,w=x.$._;w.root;var j=x.get||"",N=(S.put||"")[j["#"]]||"";if(!S.put||typeof j["."]=="string"&&e===N[j["."]]){if(e!==w.put||!w.soul&&!w.has)return;w.ack=(w.ack||0)+1,w.on("in",{get:w.get,put:w.put=e,$:w.$,"@":S["@"]});return}(S._||{}).miss=1,a.on.put(S)}var A={},e,t=String.random,i=a.valid,u=function(S,c){return S&&Object.prototype.hasOwnProperty.call(S,c)},s=a.state,_=s.is,g=s.ify})(n,"./chain"),n(function(o){var a=n("./root");a.chain.get=function(e,t,i){var u,s;if(typeof e=="string"){if(e.length==0)return(u=this.chain())._.err={err:a.log("0 length key!",e)},t&&t.call(u,u._.err),u;var _=this,g=_._,S=g.next||v;(u=S[e])||(u=e&&b(e,_)),u=u&&u.$}else if(typeof e=="function"){let R=function(B,I,L){if(!R.stun&&!((M=x.pass)&&!M[w])){var y=B.$._,T=(B.$$||"")._,O=(T||y).put,P=!y.has&&!y.soul,H={},M;if((P||A===O)&&(O=A===((M=B.put)||"")["="]?A===(M||"")[":"]?M:M[":"]:M["="]),typeof(M=a.valid(O))=="string"&&(O=A===(M=x.$.get(M)._.put)?c.not?A:O:M),!(c.not&&A===O)){if(A===c.stun){if((M=x.stun)&&M.on&&(g.$.back(function(C){if(M.on(""+C.id,H={}),(H.run||0)<R.id)return H}),!H.run&&M.on(""+y.id,H={}),!H.run&&T&&M.on(""+T.id,H={}),R.id>H.run&&((!H.stun||H.stun.end)&&(H.stun=M.on("stun"),H.stun=H.stun&&H.stun.last),H.stun&&!H.stun.end))){(H.stun.add||(H.stun.add={}))[w]=function(){R(B,I,1)};return}if(A===O&&(L=0),(M=x.hatch)&&!M.end&&A===c.hatch&&!L){if(j[y.$._.id])return;j[y.$._.id]=1,M.push(function(){R(B,I,1)});return}j={}}if(x.pass){if(x.pass[w+y.id])return;x.pass[w+y.id]=1}if(c.on){c.ok.call(y.$,O,y.get,B,I||R);return}if(c.v2020){c.ok(B,I||R);return}Object.keys(B).forEach(function(C){M[C]=B[C]},M={}),B=M,B.put=O,c.ok.call(c.as,B,I||R)}}};if(t===!0)return d(this,e,t,i),this;u=this;var g=u._,c=t||{},x=g.root,w;c.at=g,c.ok=e;var j={};return R.at=g,(g.any||(g.any={}))[w=String.random(7)]=R,R.off=function(){R.stun=1,!!g.any&&delete g.any[w]},R.rid=h,R.id=c.run||++x.once,s=x.pass,(x.pass={})[w]=1,c.out=c.out||{get:{}},g.on("out",c.out),x.pass=s,u}else{if(typeof e=="number")return this.get(""+e,t,i);if(typeof(s=p(e))=="string")return this.get(s,t,i);(s=this.get.next)&&(u=s(this,e))}return u?(t&&typeof t=="function"&&u.get(t,i),u):((u=this.chain())._.err={err:a.log("Invalid get request!",e)},t&&t.call(u,u._.err),u)};function b(e,t){var i=t._,u=i.next,s=t.chain(),_=s._;return u||(u=i.next={}),u[_.get=e]=_,t===i.root.$?_.soul=e:(i.soul||i.has)&&(_.has=e),_}function d(e,t,i,u){var s=e._,_=0,g;return(g=s.soul||s.link)?t(g,u,s):s.jam?s.jam.push([t,u]):(s.jam=[[t,u]],e.get(function(c,x){if(!(A===c.put&&!s.root.opt.super&&(g=Object.keys(s.root.opt.peers).length)&&++_<=g)){x.rid(c);var w=(w=c.$)&&w._||{},j=0,N;for(g=s.jam,delete s.jam;N=g[j++];){var R=N[0];N=N[1],R&&R(w.link||w.soul||a.valid(c.put)||((c.put||{})._||{})["#"],N,c,x)}}},{out:{get:{".":!0}}}),e)}function h(e){var t=this.at||this.on;if(!e||t.soul||t.has)return this.off();if(!!(e=(e=(e=e.$||e)._||e).id)){t.map;var i;if((i=this.seen||(this.seen={}))[e])return!0;i[e]=!0}}var v={},p=a.valid,A})(n,"./get"),n(function(o){var a=n("./root");a.chain.put=function(i,u,s){var _=this,g=_._,S=g.root;s=s||{},s.root=g.root,s.run||(s.run=S.once),b(s,g.id),s.ack=s.ack||u,s.via=s.via||_,s.data=s.data||i,s.soul||(s.soul=g.soul||typeof u=="string"&&u);var c=s.state=s.state||a.state();return typeof i=="function"?(i(function(x){s.data=x,_.put(v,v,s)}),_):s.soul?(s.$=S.$.get(s.soul),s.todo=[{it:s.data,ref:s.$}],s.turn=s.turn||A,s.ran=s.ran||d,function x(){var w=s.todo,j=w.pop(),N=j.it;j.ref&&j.ref._.id;var R,B,I,L,y;if(b(s,j.ref),(L=j.todo)&&(B=L.pop(),N=N[B],L.length&&w.push(j)),B&&(w.path||(w.path=[])).push(B),!(R=e(N))&&!(y=a.is(N))){if(!Object.plain(N)){(s.ack||p).call(s,s.out={err:s.err=a.log("Invalid data: "+(N&&(L=N.constructor)&&L.name||typeof N)+" at "+(s.via.back(function(H){H.get&&L.push(H.get)},L=[])||L.join("."))+"."+(w.path||[]).join("."))}),s.ran(s);return}for(var T=s.seen||(s.seen=[]),O=T.length;O--;)if(N===(L=T[O]).it){R=N=L.link;break}}if(B&&R)j.node=t(j.node,B,c,N);else{let H=function(M,C){var Y=I.link["#"];C&&(C.off(),C.rid(M));var X=Y||M.soul||(L=(M.$$||M.$)._||"").soul||L.link||((L=L.put||"")._||"")["#"]||L["#"]||((L=M.put||"")&&M.$$?L["#"]:(L["="]||L[":"]||"")["#"]);if(!Y&&b(s,M.$),!X&&!j.link["#"]){(j.wait||(j.wait=[])).push(function(){H(M,C)});return}X||(X=[],(M.$$||M.$).back(function(J){if(L=J.soul||J.link)return X.push(L);X.push(J.get)}),X=X.reverse().join("/")),I.link["#"]=X,!y&&(((s.graph||(s.graph={}))[X]=I.node||(I.node={_:{}}))._["#"]=X),delete s.wait[P],I.wait&&setTimeout.each(I.wait,function(J){J&&J()}),s.ran(s)};s.seen.push(I={it:N,link:{},todo:y?[]:Object.keys(N).sort().reverse(),path:(w.path||[]).slice(),up:j}),j.node=t(j.node,B,c,I.link),!y&&I.todo.length&&w.push(I);var P=s.seen.length;(s.wait||(s.wait={}))[P]="",L=(I.ref=y?N:B?j.ref.get(B):j.ref)._,(L=N&&(N._||"")["#"]||L.soul||L.link)?H({soul:L}):I.ref.get(H,{run:s.run,v2020:1,out:{get:{".":" "}}})}if(!w.length)return s.ran(s);s.turn(x)}(),_):(h(s),_)};function b(i,u){if(!!u){u=(u._||"").id||u;var s=i.root.stun||(i.root.stun={on:a.on}),_={},g;i.stun||(i.stun=s.on("stun",function(){})),(g=s.on(""+u))&&g.the.last.next(_),!(_.run>=i.run)&&s.on(""+u,function(S){if(i.stun.end){this.off(),this.to.next(S);return}S.run=S.run||i.run,S.stun=S.stun||i.stun})}}function d(i){if(i.err){d.end(i.stun,i.root);return}if(!(i.todo.length||i.end||!Object.empty(i.wait))){i.end=1;var u=i.$.back(-1)._,s=u.root,_=u.ask(function(x){s.on("ack",x),x.err&&a.log(x),++g>(i.acks||0)&&this.off(),!!i.ack&&i.ack(x,this)},i.opt),g=0,S=i.stun,c;(c=function(){!S||(d.end(S,s),setTimeout.each(Object.keys(S=S.add||""),function(x){(x=S[x])&&x()}))}).hatch=c,i.via._.on("out",{put:i.out=i.graph,opt:i.opt,"#":_,_:c})}}d.end=function(i,u){i.end=p,i.the.to===i&&i===i.the.last&&delete u.stun,i.off()};function h(i){var u=i.via._,s;i.via=i.via.back(function(_){if(_.soul||!_.get)return _.$;s=i.data,(i.data={})[_.get]=s}),(!i.via||!i.via._.soul)&&(i.via=u.root.$.get(((i.data||"")._||"")["#"]||u.$.back("opt.uuid")())),i.via.put(i.data,i.ack,i)}var v,p=function(){},A=setTimeout.turn,e=a.valid,t=a.state.ify})(n,"./put"),n(function(o){var a=n("./root");n("./chain"),n("./back"),n("./put"),n("./get"),o.exports=a})(n,"./index"),n(function(o){var a=n("./index");a.chain.on=function(h,v,p,A){var e=this,t=e._;t.root;var i;if(typeof h=="string")return v?(i=t.on(h,v,p||t,A),p&&p.$&&(p.subs||(p.subs=[])).push(i),e):t.on(h);var u=v;return(u=u===!0?{change:!0}:u||{}).not=1,u.on=1,e.get(h,u),e},a.chain.once=function(h,v){if(v=v||{},!h)return b(this);var p=this,A=p._,e=A.root;A.put;var t=String.random(7),i;return p.get(function(u,s,_,g){var S=this,c=S._,x=c.one||(c.one={});if(g.stun||x[t]==="")return;if((i=a.valid(u))===!0){w();return}if(typeof i=="string")return;clearTimeout((A.one||"")[t]),clearTimeout(x[t]),x[t]=setTimeout(w,v.wait||99);function w(){!c.has&&!c.soul&&(c={put:u,get:s}),d===(i=c.put)&&(i=((_.$$||"")._||"").put),!(typeof a.valid(i)=="string"&&(i=e.$.get(i)._.put,i===d))&&(g.stun||x[t]!==""&&(x[t]="",(A.soul||A.has)&&g.off(),h.call(S,i,c.get)))}},{on:1}),p};function b(h,v,p){return a.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(p=h.chain())._.nix=h.once(function(A,e){p._.on("in",this._)}),p._.lex=h._.lex,p}a.chain.off=function(){var h=this,v=h._,p,A=v.back;if(!!A)return v.ack=0,(p=A.next)&&p[v.get]&&delete p[v.get],(p=A.ask)&&delete p[v.get],(p=A.put)&&delete p[v.get],(p=v.soul)&&delete A.root.graph[p],(p=v.map)&&Object.keys(p).forEach(function(e,t){t=p[e],t.link&&A.root.$.get(t.link).off()}),(p=v.next)&&Object.keys(p).forEach(function(e,t){t=p[e],t.$.off()}),v.on("off",{}),h};var d})(n,"./on"),n(function(o){var a=n("./index"),b=a.chain.get.next;a.chain.get.next=function(p,A){var e;return Object.plain(A)?(e=((e=A["#"])||"")["="]||e)?p.get(e):((e=p.chain()._).lex=A,p.on("in",function(t){String.match(t.get||(t.put||"")["."],A["."]||A["#"]||A)&&e.on("in",t),this.to.next(t)}),e.$):(b||h)(p,A)},a.chain.map=function(p,A,e){var t=this,i=t._,u,s;return Object.plain(p)&&(u=p["."]?p:{".":p},p=v),p?(a.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),s=t.chain(),t.map().on(function(_,g,S,c){var x=(p||h).call(this,_,g,S,c);if(v!==x){if(_===x)return s._.on("in",S);if(a.is(x))return s._.on("in",x._);var w={};Object.keys(S.put).forEach(function(j){w[j]=S.put[j]},w),w["="]=x,s._.on("in",{get:g,put:w})}}),s):((s=i.each)||((i.each=s=t.chain())._.lex=u||s._.lex||i.lex,s._.nix=t.back("nix"),t.on("in",d,s._)),s)};function d(p){this.to.next(p);var A=this.as,e=p.$,t=e._,i=p.put,u;!t.soul&&!p.$$||(u=A.lex)&&!String.match(p.get||(i||"")["."],u["."]||u["#"]||u)||a.on.link(p,A)}var h=function(){},v})(n,"./map"),n(function(o){var a=n("./index");a.chain.set=function(b,d,h){var v=this,p=v.back(-1),A,e;return d=d||function(){},h=h||{},h.item=h.item||b,(A=((b||"")._||"")["#"])&&((b={})["#"]=A),typeof(e=a.valid(b))=="string"?v.get(A=e).put(b,d,h):a.is(b)?(v.put(function(t){b.get(function(i,u,s){if(!i)return d.call(v,{err:a.log('Only a node can be linked! Not "'+s.put+'"!')});(e={})[i]={"#":i},t(e)},!0)}),b):(Object.plain(b)&&(b=p.get(A=v.back("opt.uuid")()).put(b)),v.get(A||p.back("opt.uuid")(7)).put(b,d,h))}})(n,"./set"),n(function(o){n("./shim");function a(d){var h=function(){},v=d.opt||{};v.log=v.log||console.log,v.gap=v.gap||v.wait||0,v.max=v.max||(v.memory?v.memory*999*999:3e8)*.3,v.pack=v.pack||v.max*.01*.01,v.puff=v.puff||9;var p=setTimeout.turn||setTimeout,A=JSON.parseAsync||function(c,x,w){var j;try{x(j,JSON.parse(c,w))}catch(N){x(N)}},e=JSON.stringifyAsync||function(c,x,w,j){var N;try{x(N,JSON.stringify(c,w,j))}catch(R){x(R)}},t=d.dup,i=t.check,u=t.track,s=h.hear=function(c,x){if(!!c){if(v.max<=c.length)return h.say({dam:"!",err:"Message too big!"},x);h===this&&(s.d+=c.length||0,++s.c);var w=x.SH=+new Date,j=c[0],N;if(j==="["){A(c,function(R,B){if(R||!B)return h.say({dam:"!",err:"DAM JSON parse error."},x);console.STAT&&console.STAT(+new Date,B.length,"# on hear batch");var I=v.puff;(function L(){for(var y=+new Date,T=0,O;T<I&&(O=B[T++]);)s(O,x);B=B.slice(T),console.STAT&&console.STAT(y,+new Date-y,"hear loop"),_(x),!!B.length&&p(L,0)})()}),c="";return}if(j==="{"||(c["#"]||Object.plain(c))&&(N=c)){if(N)return s.one(N,x,w);A(c,function(R,B){if(R||!B)return h.say({dam:"!",err:"DAM JSON parse error."},x);s.one(B,x,w)});return}}};s.one=function(c,x,w){var j,N,R,B,I;if(c.DBG&&(c.DBG=I={DBG:c.DBG}),I&&(I.h=w),I&&(I.hp=+new Date),(j=c["#"])||(j=c["#"]=String.random(9)),!(R=i(j))&&(N=c["##"],!(N&&(R=c["@"]||c.get&&j)&&t.check(B=R+N)))){if((c._=function(){}).via=h.leap=x,(R=c["><"])&&typeof R=="string"&&R.slice(0,99).split(",").forEach(function(L){this[L]=1},c._.yo={}),R=c.dam){(R=h.hear[R])&&R(c,x,d),u(j);return}var w=+new Date;I&&(I.is=w),x.SI=j,d.on("in",h.last=c),I&&(I.hd=+new Date),console.STAT&&console.STAT(w,+new Date-w,c.get?"msg get":c.put?"msg put":"msg"),(R=u(j)).via=x,c.get&&(R.it=c),B&&u(B),h.leap=h.last=null}},s.c=s.d=0,function(){var c=0,x;h.hash=function(R,B){var I,L,y,T=+new Date;e(R.put,function O(P,H){var M=(L||(L=y=H||"")).slice(0,32768);if(I=String.hash(M,I),L=L.slice(32768),L){p(O,0);return}console.STAT&&console.STAT(T,+new Date-T,"say json+hash"),R._.$put=y,R["##"]=I,N(R,B),delete R._.$put},w)};function w(R,B){var I;return B instanceof Object?(Object.keys(B).sort().forEach(j,{to:I={},on:B}),I):B}function j(R){this.to[R]=this.on[R]}var N=h.say=function(R,B){var I;if((I=this)&&(I=I.to)&&I.next&&I.next(R),!R)return!1;var L,y,T=R["@"],O=R._||(R._=function(){}),P=R.DBG,H=+new Date;if(O.y=O.y||H,B||P&&(P.y=H),(L=R["#"])||(L=R["#"]=String.random(9)),!x&&u(L),R.put&&(R.err||(t.s[L]||"").err))return!1;if(!R["##"]&&b!==R.put&&!O.via&&T){h.hash(R,B);return}if(!B&&T&&(B=(I=t.s[T])&&(I.via||(I=I.it)&&(I=I._)&&I.via)||(I=h.last)&&T===I["#"]&&h.leap),!B&&T)return t.s[T]?void 0:(console.STAT&&console.STAT(+new Date,++c,"total no peer to ack to"),!1);if(!B&&h.way)return h.way(R);if(P&&(P.yh=+new Date),!(y=O.raw)){h.raw(R,B);return}if(P&&(P.yr=+new Date),!B||!B.id){if(!Object.plain(B||v.peers))return!1;var H=+new Date;v.puff;var M=v.peers,C=Object.keys(B||v.peers||{});console.STAT&&console.STAT(H,+new Date-H,"peer keys"),function J(){var K=+new Date;x=1;var te=O.raw;O.raw=y;for(var fe=0,ue;fe<9&&(ue=(C||"")[fe++]);)!(ue=M[ue])||N(R,ue);O.raw=te,x=0,C=C.slice(fe),console.STAT&&console.STAT(K,+new Date-K,"say loop"),!!C.length&&(p(J,0),T&&u(T))}();return}if(!B.wire&&h.wire&&h.wire(B),L!==B.last){if(B.last=L,B===O.via||(I=O.yo)&&(I[B.url]||I[B.pid]||I[B.id]))return!1;if(console.STAT&&console.STAT(H,((P||O).yp=+new Date)-(O.y||H),"say prep"),!x&&T&&u(T),B.batch){if(B.tail=(I=B.tail||0)+y.length,B.tail<=v.pack){B.batch+=(I?",":"")+y;return}_(B)}B.batch="[";var Y=+new Date;setTimeout(function(){console.STAT&&console.STAT(Y,+new Date-Y,"0ms TO"),_(B)},v.gap),g(y,B),console.STAT&&T===B.SI&&console.STAT(H,+new Date-B.SH,"say ack")}};h.say.c=h.say.d=0,h.raw=function(R,B){if(!R)return"";var I=R._||{},L,y;if(y=I.raw)return y;if(typeof R=="string")return R;var T=R["##"],O=R["@"];if(T&&O){if(!I.via&&i(O+T))return!1;if((y=(t.s[O]||"").it)||(y=h.last)&&O===y["#"]){if(T===y["##"])return!1;y["##"]||(y["##"]=T)}}if(!R.dam){var P=0,H=[];y=v.peers;for(var M in y){var C=y[M];if(H.push(C.url||C.pid||C.id),++P>6)break}P>1&&(R["><"]=H.join())}if(L=I.$put){y={},Object.keys(R).forEach(function(X){y[X]=R[X]}),y.put=":])([:",e(y,function(X,J){if(!X){var K=+new Date;y=J.indexOf('"put":":])([:"'),Y(b,J=J.slice(0,y+6)+L+J.slice(y+14)),console.STAT&&console.STAT(K,+new Date-K,"say slice")}});return}e(R,Y);function Y(X,J){X||(I.raw=J,N(R,B))}}}();function _(c){var x=c.batch,w=typeof x=="string";if(w&&(x+="]"),c.batch=c.tail=null,!!x&&!(w?3>x.length:!x.length)){if(!w)try{x=x.length===1?x[0]:JSON.stringify(x)}catch(j){return v.log("DAM JSON stringify error",j)}!x||g(x,c)}}function g(c,x){try{var w=x.wire;x.say?x.say(c):w.send&&w.send(c),h.say.d+=c.length||0,++h.say.c}catch{(x.queue=x.queue||[]).push(c)}}h.hi=function(c){var x=c.wire||{};c.id?v.peers[c.url||c.id]=c:(x=c.id=c.id||String.random(9),h.say({dam:"?",pid:d.opt.pid},v.peers[x]=c),delete t.s[c.last]),c.met=c.met||+new Date,x.hied||d.on(x.hied="hi",c),x=c.queue,c.queue=[],setTimeout.each(x||[],function(w){g(w,c)},0,9)},h.bye=function(c){d.on("bye",c);var x=+new Date;x=x-(c.met||x),h.bye.time=((h.bye.time||x)+x)/2},h.hear["!"]=function(c,x){v.log("Error:",c.err)},h.hear["?"]=function(c,x){c.pid&&(x.pid||(x.pid=c.pid),c["@"])||(h.say({dam:"?",pid:v.pid,"@":c["#"]},x),delete t.s[x.last])},d.on("create",function(c){c.opt.pid=c.opt.pid||String.random(9),this.to.next(c),c.on("out",h.say)}),d.on("bye",function(c,x){c=v.peers[c.id||c]||c,this.to.next(c),c.bye?c.bye():(x=c.wire)&&x.close&&x.close(),delete v.peers[c.id],c.wire=null});var S={};return d.on("bye",function(c,x){this.to.next(c),(x=console.STAT)&&(x.peers=(x.peers||0)-1),!!(x=c.url)&&(S[x]=!0,setTimeout(function(){delete S[x]},v.lack||9e3))}),d.on("hi",function(c,x){this.to.next(c),(x=console.STAT)&&(x.peers=(x.peers||0)+1),!(!(x=c.url)||!S[x])&&(delete S[x],!v.super&&setTimeout.each(Object.keys(d.next),function(w){d.next[w],x={},x[w]=d.graph[w],x=String.hash(x),h.say({"##":x,get:{"#":w}},c)}))}),h}var b;try{o.exports=a}catch{}})(n,"./mesh"),n(function(o){var a=n("../index");a.Mesh=n("./mesh"),a.on("opt",function(d){if(this.to.next(d),d.once)return;var h=d.opt;if(h.WebSocket===!1)return;var v=a.window||{},p=h.WebSocket||v.WebSocket||v.webkitWebSocket||v.mozWebSocket;if(!p)return;h.WebSocket=p;var A=h.mesh=h.mesh||a.Mesh(d);A.wire||h.wire,A.wire=h.wire=e;function e(s){try{if(!s||!s.url)return g&&g(s);var _=s.url.replace(/^http/,"ws"),g=s.wire=new h.WebSocket(_);return g.onclose=function(){h.mesh.bye(s),i(s)},g.onerror=function(S){i(s)},g.onopen=function(){h.mesh.hi(s)},g.onmessage=function(S){!S||h.mesh.hear(S.data||S,s)},g}catch{}}setTimeout(function(){!h.super&&d.on("out",{dam:"hi"})},1);var t=2*999;function i(s){clearTimeout(s.defer),!(u&&s.retry<=0)&&(s.retry=(s.retry||h.retry+1||60)-(-s.tried+(s.tried=+new Date)<t*4?1:0),s.defer=setTimeout(function _(){if(u&&u.hidden)return setTimeout(_,t);e(s)},t))}var u=""+b!=typeof document&&document});var b})(n,"./websocket"),n(function(o){if(typeof Gun!="undefined"){var a=function(){},b;try{b=(Gun.window||a).localStorage}catch{}b||(Gun.log("Warning: No localStorage exists to persist data to!"),b={setItem:function(d,h){this[d]=h},removeItem:function(d){delete this[d]},getItem:function(d){return this[d]}}),Gun.on("create",function d(h){this.to.next(h);var v=h.opt;h.graph;var p=[],A,e;if(v.localStorage===!1)return;v.prefix=v.file||"gun/";try{A=d[v.prefix]=d[v.prefix]||JSON.parse(b.getItem(v.prefix))||{}}catch{A=d[v.prefix]={}}h.on("get",function(i){this.to.next(i);var u=i.get,s,_,g,S;!u||!(s=u["#"])||(_=A[s]||S,_&&(g=u["."])&&!Object.plain(g)&&(_=Gun.state.ify({},g,Gun.state.is(_,g),_[g],s)),Gun.on.get.ack(i,_))}),h.on("put",function(i){this.to.next(i);var u=i.put,s=u["#"],_=u["."];A[s]=Gun.state.ify(A[s],_,u[">"],u[":"],s),i["@"]||p.push(i["#"]),!e&&(e=setTimeout(t,v.wait||1))});function t(){var i,u=p;clearTimeout(e),e=!1,p=[];try{b.setItem(v.prefix,JSON.stringify(A))}catch(s){Gun.log((i=s||"localStorage failure")+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),h.on("localStorage:error",{err:i,get:v.prefix,put:A})}!i&&!Object.empty(v.peers)||setTimeout.each(u,function(s){h.on("in",{"@":s,err:i,ok:0})})}})}})(n,"./localStorage")})(),function(){var n;if(""+n!=typeof Gun){var r=function(y){console.log("Warning! Deprecated internal utility will break in next version:",y)},o=Gun;o.fn=o.fn||{is:function(y){return r("fn"),!!y&&typeof y=="function"}},o.bi=o.bi||{is:function(y){return r("bi"),y instanceof Boolean||typeof y=="boolean"}},o.num=o.num||{is:function(y){return r("num"),!b(y)&&(y-parseFloat(y)+1>=0||y===1/0||y===-1/0)}},o.text=o.text||{is:function(y){return r("text"),typeof y=="string"}},o.text.ify=o.text.ify||function(y){return r("text.ify"),o.text.is(y)?y:typeof JSON!="undefined"?JSON.stringify(y):y&&y.toString?y.toString():y},o.text.random=o.text.random||function(y,T){r("text.random");var O="";for(y=y||24,T=T||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";y>0;)O+=T.charAt(Math.floor(Math.random()*T.length)),y--;return O},o.text.match=o.text.match||function(y,T){var O,P;return r("text.match"),typeof y!="string"?!1:(typeof T=="string"&&(T={"=":T}),T=T||{},O=T["="]||T["*"]||T[">"]||T["<"],y===O?!0:P!==T["="]?!1:(O=T["*"]||T[">"]||T["<"],y.slice(0,(O||"").length)===O?!0:P!==T["*"]?!1:P!==T[">"]&&P!==T["<"]?y>=T[">"]&&y<=T["<"]:P!==T[">"]&&y>=T[">"]||P!==T["<"]&&y<=T["<"]))},o.text.hash=o.text.hash||function(y,T){if(r("text.hash"),typeof y=="string"){if(T=T||0,!y.length)return T;for(var O=0,P=y.length,H;O<P;++O)H=y.charCodeAt(O),T=(T<<5)-T+H,T|=0;return T}},o.list=o.list||{is:function(y){return r("list"),y instanceof Array}},o.list.slit=o.list.slit||Array.prototype.slice,o.list.sort=o.list.sort||function(y){return r("list.sort"),function(T,O){return!T||!O?0:(T=T[y],O=O[y],T<O?-1:T>O?1:0)}},o.list.map=o.list.map||function(y,T,O){return r("list.map"),p(y,T,O)},o.list.index=1,o.obj=o.boj||{is:function(y){return r("obj"),y?y instanceof Object&&y.constructor===Object||Object.prototype.toString.call(y).match(/^\[object (\w+)\]$/)[1]==="Object":!1}},o.obj.put=o.obj.put||function(y,T,O){return r("obj.put"),(y||{})[T]=O,y},o.obj.has=o.obj.has||function(y,T){return r("obj.has"),y&&Object.prototype.hasOwnProperty.call(y,T)},o.obj.del=o.obj.del||function(y,T){if(r("obj.del"),!!y)return y[T]=null,delete y[T],y},o.obj.as=o.obj.as||function(y,T,O,P){return r("obj.as"),y[T]=y[T]||(P===O?{}:O)},o.obj.ify=o.obj.ify||function(y){if(r("obj.ify"),h(y))return y;try{y=JSON.parse(y)}catch{y={}}return y},function(){var y;function T(O,P){v(this,P)&&y!==this[P]||(this[P]=O)}o.obj.to=o.obj.to||function(O,P){return r("obj.to"),P=P||{},p(O,T,P),P}}(),o.obj.copy=o.obj.copy||function(y){return r("obj.copy"),y&&JSON.parse(JSON.stringify(y))},function(){function y(T,O){var P=this.n,H;if(!(P&&(O===P||h(P)&&v(P,O)))&&H!==O)return!0}o.obj.empty=o.obj.empty||function(T,O){return r("obj.empty"),T?!p(T,y,{n:O}):!0}}(),function(){function y(P,H){if(arguments.length===2){y.r=y.r||{},y.r[P]=H;return}y.r=y.r||[],y.r.push(P)}var T=Object.keys,O;Object.keys=Object.keys||function(P){return O(P,function(H,M,C){C(M)})},o.obj.map=O=o.obj.map||function(P,H,M){r("obj.map");var C,Y=0,X,J,K,te,fe=typeof H=="function";if(y.r=C,T&&h(P)&&(K=T(P),te=!0),M=M||{},b(P)||K)for(X=(K||P).length;Y<X;Y++){var ue=Y+o.list.index;if(fe){if(J=te?H.call(M,P[K[Y]],K[Y],y):H.call(M,P[Y],ue,y),J!==C)return J}else if(H===P[te?K[Y]:Y])return K?K[Y]:ue}else for(Y in P)if(fe){if(v(P,Y)&&(J=M?H.call(M,P[Y],Y,y):H(P[Y],Y,y),J!==C))return J}else if(H===P[Y])return Y;return fe?y.r:o.list.index?0:-1}}(),o.time=o.time||{},o.time.is=o.time.is||function(y){return r("time"),y?y instanceof Date:+new Date().getTime()};var a=o.fn.is,b=o.list.is,d=o.obj,h=d.is,v=d.has,p=d.map,A={};A.is=function(y){return r("val.is"),y===n?!1:y===null?!0:y===1/0?!1:u(y)||t(y)||i(y)?!0:A.link.is(y)||!1},A.link=A.rel={_:"#"},function(){A.link.is=function(T){if(r("val.link.is"),T&&T[e]&&!T._&&h(T)){var O={};if(p(T,y,O),O.id)return O.id}return!1};function y(T,O){var P=this;if(P.id)return P.id=!1;if(O==e&&u(T))P.id=T;else return P.id=!1}}(),A.link.ify=function(y){return r("val.link.ify"),s({},e,y)},o.obj.has._=".";var e=A.link._,n,t=o.bi.is,i=o.num.is,u=o.text.is,d=o.obj,h=d.is,s=d.put,p=d.map;o.val=o.val||A;var _={_:"_"};_.soul=function(y,T){return r("node.soul"),y&&y._&&y._[T||x]},_.soul.ify=function(y,T){return r("node.soul.ify"),T=typeof T=="string"?{soul:T}:T||{},y=y||{},y._=y._||{},y._[x]=T.soul||y._[x]||c(),y},_.soul._=A.link._,function(){_.is=function(T,O,P){r("node.is");var H;return h(T)&&(H=_.soul(T))?!p(T,y,{as:P,cb:O,s:H,n:T}):!1};function y(T,O){if(O!==_._){if(!A.is(T))return!0;this.cb&&this.cb.call(this.as,T,O,this.n,this.s)}}}(),function(){_.ify=function(T,O,P){return r("node.ify"),O?typeof O=="string"?O={soul:O}:typeof O=="function"&&(O={map:O}):O={},O.map&&(O.node=O.map.call(P,T,n,O.node||{})),(O.node=_.soul.ify(O.node||{},O))&&p(T,y,{o:O,as:P}),O.node};function y(T,O){var P=this.o,H,M;if(P.map){H=P.map.call(this.as,T,""+O,P.node),M===H?g(P.node,O):P.node&&(P.node[O]=H);return}A.is(T)&&(P.node[O]=T)}}();var d=o.obj,h=d.is,g=d.del,p=d.map,S=o.text,c=S.random,x=_.soul._,n;o.node=o.node||_;var w=o.state;w.lex=function(){return r("state.lex"),w().toString(36).replace(".","")},w.to=function(y,T,O){r("state.to");var P=(y||{})[T];return h(P)&&(P=j(P)),w.ify(O,T,w.is(y,T),P,_.soul(y))},function(){w.map=function(T,O,P){r("state.map");var H,M=h(M=T||O)?M:null;return T=a(T=T||O)?T:null,M&&!T?(O=i(O)?O:w(),M[B]=M[B]||{},p(M,y,{o:M,s:O}),M):(P=P||h(O)?O:H,O=i(O)?O:w(),function(C,Y,X,J){if(!T)return y.call({o:X,s:O},C,Y),C;T.call(P||this||{},C,Y,X,J),!(v(X,Y)&&H===X[Y])&&y.call({o:X,s:O},C,Y)})};function y(T,O){B!==O&&w.ify(this.o,O,this.s)}}();var d=o.obj;d.as;var v=d.has,h=d.is,p=d.map,j=d.copy,N=o.num,i=N.is,R=o.fn,a=R.is,B=_._,n,I={};(function(){I.is=function(O,P,H,M){return r("graph.is"),!O||!h(O)||L(O)?!1:!p(O,y,{cb:P,fn:H,as:M})};function y(O,P){if(!O||P!==_.soul(O)||!_.is(O,this.fn,this.as))return!0;!this.cb||(T.n=O,T.as=this.as,this.cb.call(T.as,O,P,T))}function T(O){O&&_.is(T.n,O,T.as)}})(),function(){I.ify=function(M,C,Y){r("graph.ify");var X={path:[],obj:M};return C?typeof C=="string"?C={soul:C}:typeof C=="function"&&(C.map=C):C={},typeof Y=="string"&&(C.soul=C.soul||Y,Y=n),C.soul&&(X.link=A.link.ify(C.soul)),C.shell=(Y||{}).shell,C.graph=C.graph||{},C.seen=C.seen||[],C.as=C.as||Y,y(C,X),C.root=X.node,C.graph};function y(M,C){var Y;return(Y=H(M,C))?Y:(C.env=M,C.soul=O,_.ify(C.obj,T,C)&&(C.link=C.link||A.link.ify(_.soul(C.node)),C.obj!==M.shell&&(M.graph[A.link.is(C.link)]=C.node)),C)}function T(M,C,Y){var X=this,J=X.env,K,te;if(_._===C&&v(M,A.link._))return Y._;if(!!(K=P(M,C,Y,X,J))){if(C||(X.node=X.node||Y||{},v(M,_._)&&_.soul(M)&&(X.node._=j(M._)),X.node=_.soul.ify(X.node,A.link.is(X.link)),X.link=X.link||A.link.ify(_.soul(X.node))),(te=J.map)&&(te.call(J.as||{},M,C,Y,X),v(Y,C))){if(M=Y[C],n===M){g(Y,C);return}if(!(K=P(M,C,Y,X,J)))return}if(!C)return X.node;if(K===!0)return M;if(te=y(J,{obj:M,path:X.path.concat(C)}),!!te.node)return te.link}}function O(M){var C=this,Y=A.link.is(C.link),X=C.env.graph;C.link=C.link||A.link.ify(M),C.link[A.link._]=M,C.node&&C.node[_._]&&(C.node[_._][A.link._]=M),v(X,Y)&&(X[M]=X[Y],g(X,Y))}function P(M,C,Y,X,J){var K;if(A.is(M))return!0;if(h(M))return 1;if(K=J.invalid)return M=K.call(J.as||{},M,C,Y),P(M,C,Y,X,J);J.err="Invalid value at '"+X.path.concat(C).join(".")+"'!",o.list.is(M)&&(J.err+=" Use `.set(item)` instead of an Array.")}function H(M,C){for(var Y=M.seen,X=Y.length,J;X--;)if(J=Y[X],C.obj===J.obj)return J;Y.push(C)}}(),I.node=function(y){r("graph.node");var T=_.soul(y);if(!!T)return s({},T,y)},function(){I.to=function(T,O,P){if(r("graph.to"),!!T){var H={};return P=P||{seen:{}},p(T[O],y,{obj:H,graph:T,opt:P}),H}};function y(T,O){var P,H;if(_._===O){if(L(T,A.link._))return;this.obj[O]=j(T);return}if(!(P=A.link.is(T))){this.obj[O]=T;return}if(H=this.opt.seen[P]){this.obj[O]=H;return}this.obj[O]=this.opt.seen[P]=I.to(this.graph,P,this.opt)}}();var a=o.fn.is,d=o.obj,h=d.is,g=d.del,v=d.has,L=d.empty,s=d.put,p=d.map,j=d.copy,n;o.graph=o.graph||I}}()})(Pt);var mi=Pt.exports,wr={exports:{}};(function(f){(function(){function n(o,a){return a?xe(o):o.slice?n[b(o)]:function(d,h){o(d={exports:{}}),n[b(h)]=d.exports};function b(d){return d.split("/").slice(-1).toString().replace(".js","")}}var r=f;n(function(o){typeof window!="undefined"&&(o.window=window);var a=o.window||o,b=a.AXE||function(){};(b.window=o.window)&&(b.window.AXE=b);try{typeof r!="undefined"&&(r.exports=b)}catch{}o.exports=b})(n,"./root"),n(function(o){var a=n("./root"),b=(a.window||"").Gun||n("./gun",1);if((b.AXE=a).GUN=a.Gun=b,!b.window)try{n("./lib/axe",1)}catch{}b.on("opt",function(h){d(h),this.to.next(h)});function d(h){if(!h.axe){var v=h.opt,p=v.peers;if(v.axe!==!1&&!(typeof process!="undefined"&&""+(process.env||"").AXE=="false")&&!!b.window){h.axe={};var A,e;A=p[e="http://localhost:8765/gun"]=p[e]||{},A.id=A.url=e,A.retry=A.retry||0,console.log("AXE enabled: Trying to find network via (1) local peer (2) last used peers (3) hard coded peers."),console.log("Warning: AXE alpha became super slow & laggy, now in testing only mode!");var t=JSON.parse((localStorage||"")[(v.file||"")+"axe/"]||null)||{};Object.keys(t.peers||"").forEach(function(u){A=p[e=u]=p[e]||{},A.id=A.url=e}),A=p[e="https://ovh.era.eco/gun"]=p[e]||{},A.id=A.url=e;var i=v.mesh=v.mesh||b.Mesh(h);i.way=function(u){if(h.$===u.$||(u._||"").via){i.say(u,v.peers);return}var s=(u.$||"")._;if(!s){i.say(u,v.peers);return}if(u.get){if(s.axe)return;s.axe={}}i.say(u,v.peers)}}}}o.exports=a})(n,"./axe")})()})(wr);var Mt={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(f,n){(function(r){f.exports=r()})(function(){return function r(o,a,b){function d(p,A){if(!a[p]){if(!o[p]){var e=typeof xe=="function"&&xe;if(!A&&e)return e(p,!0);if(h)return h(p,!0);var t=new Error("Cannot find module '"+p+"'");throw t.code="MODULE_NOT_FOUND",t}var i=a[p]={exports:{}};o[p][0].call(i.exports,function(u){var s=o[p][1][u];return d(s||u)},i,i.exports,r,o,a,b)}return a[p].exports}for(var h=typeof xe=="function"&&xe,v=0;v<b.length;v++)d(b[v]);return d}({1:[function(r,o,a){(function(b){var d=b.MutationObserver||b.WebKitMutationObserver,h;if(d){var v=0,p=new d(u),A=b.document.createTextNode("");p.observe(A,{characterData:!0}),h=function(){A.data=v=++v%2}}else if(!b.setImmediate&&typeof b.MessageChannel!="undefined"){var e=new b.MessageChannel;e.port1.onmessage=u,h=function(){e.port2.postMessage(0)}}else"document"in b&&"onreadystatechange"in b.document.createElement("script")?h=function(){var _=b.document.createElement("script");_.onreadystatechange=function(){u(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},b.document.documentElement.appendChild(_)}:h=function(){setTimeout(u,0)};var t,i=[];function u(){t=!0;for(var _,g,S=i.length;S;){for(g=i,i=[],_=-1;++_<S;)g[_]();S=i.length}t=!1}o.exports=s;function s(_){i.push(_)===1&&!t&&h()}}).call(this,typeof ce!="undefined"?ce:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(r,o,a){var b=r(1);function d(){}var h={},v=["REJECTED"],p=["FULFILLED"],A=["PENDING"];o.exports=e;function e(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,w!==d&&s(this,w)}e.prototype.catch=function(w){return this.then(null,w)},e.prototype.then=function(w,j){if(typeof w!="function"&&this.state===p||typeof j!="function"&&this.state===v)return this;var N=new this.constructor(d);if(this.state!==A){var R=this.state===p?w:j;i(N,R,this.outcome)}else this.queue.push(new t(N,w,j));return N};function t(w,j,N){this.promise=w,typeof j=="function"&&(this.onFulfilled=j,this.callFulfilled=this.otherCallFulfilled),typeof N=="function"&&(this.onRejected=N,this.callRejected=this.otherCallRejected)}t.prototype.callFulfilled=function(w){h.resolve(this.promise,w)},t.prototype.otherCallFulfilled=function(w){i(this.promise,this.onFulfilled,w)},t.prototype.callRejected=function(w){h.reject(this.promise,w)},t.prototype.otherCallRejected=function(w){i(this.promise,this.onRejected,w)};function i(w,j,N){b(function(){var R;try{R=j(N)}catch(B){return h.reject(w,B)}R===w?h.reject(w,new TypeError("Cannot resolve promise with itself")):h.resolve(w,R)})}h.resolve=function(w,j){var N=_(u,j);if(N.status==="error")return h.reject(w,N.value);var R=N.value;if(R)s(w,R);else{w.state=p,w.outcome=j;for(var B=-1,I=w.queue.length;++B<I;)w.queue[B].callFulfilled(j)}return w},h.reject=function(w,j){w.state=v,w.outcome=j;for(var N=-1,R=w.queue.length;++N<R;)w.queue[N].callRejected(j);return w};function u(w){var j=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof j=="function")return function(){j.apply(w,arguments)}}function s(w,j){var N=!1;function R(y){N||(N=!0,h.reject(w,y))}function B(y){N||(N=!0,h.resolve(w,y))}function I(){j(B,R)}var L=_(I);L.status==="error"&&R(L.value)}function _(w,j){var N={};try{N.value=w(j),N.status="success"}catch(R){N.status="error",N.value=R}return N}e.resolve=g;function g(w){return w instanceof this?w:h.resolve(new this(d),w)}e.reject=S;function S(w){var j=new this(d);return h.reject(j,w)}e.all=c;function c(w){var j=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=w.length,R=!1;if(!N)return this.resolve([]);for(var B=new Array(N),I=0,L=-1,y=new this(d);++L<N;)T(w[L],L);return y;function T(O,P){j.resolve(O).then(H,function(M){R||(R=!0,h.reject(y,M))});function H(M){B[P]=M,++I===N&&!R&&(R=!0,h.resolve(y,B))}}}e.race=x;function x(w){var j=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var N=w.length,R=!1;if(!N)return this.resolve([]);for(var B=-1,I=new this(d);++B<N;)L(w[B]);return I;function L(y){j.resolve(y).then(function(T){R||(R=!0,h.resolve(I,T))},function(T){R||(R=!0,h.reject(I,T))})}}},{"1":1}],3:[function(r,o,a){(function(b){typeof b.Promise!="function"&&(b.Promise=r(2))}).call(this,typeof ce!="undefined"?ce:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{"2":2}],4:[function(r,o,a){var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l};function d(l,k){if(!(l instanceof k))throw new TypeError("Cannot call a class as a function")}function h(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var v=h();function p(){try{if(!v||!v.open)return!1;var l=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),k=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!l||k)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function A(l,k){l=l||[],k=k||{};try{return new Blob(l,k)}catch(E){if(E.name!=="TypeError")throw E;for(var m=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,D=new m,$=0;$<l.length;$+=1)D.append(l[$]);return D.getBlob(k.type)}}typeof Promise=="undefined"&&r(3);var e=Promise;function t(l,k){k&&l.then(function(m){k(null,m)},function(m){k(m)})}function i(l,k,m){typeof k=="function"&&l.then(k),typeof m=="function"&&l.catch(m)}function u(l){return typeof l!="string"&&(console.warn(l+" used as a key, but it is not a string."),l=String(l)),l}function s(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var _="local-forage-detect-blob-support",g=void 0,S={},c=Object.prototype.toString,x="readonly",w="readwrite";function j(l){for(var k=l.length,m=new ArrayBuffer(k),D=new Uint8Array(m),$=0;$<k;$++)D[$]=l.charCodeAt($);return m}function N(l){return new e(function(k){var m=l.transaction(_,w),D=A([""]);m.objectStore(_).put(D,"key"),m.onabort=function($){$.preventDefault(),$.stopPropagation(),k(!1)},m.oncomplete=function(){var $=navigator.userAgent.match(/Chrome\/(\d+)/),E=navigator.userAgent.match(/Edge\//);k(E||!$||parseInt($[1],10)>=43)}}).catch(function(){return!1})}function R(l){return typeof g=="boolean"?e.resolve(g):N(l).then(function(k){return g=k,g})}function B(l){var k=S[l.name],m={};m.promise=new e(function(D,$){m.resolve=D,m.reject=$}),k.deferredOperations.push(m),k.dbReady?k.dbReady=k.dbReady.then(function(){return m.promise}):k.dbReady=m.promise}function I(l){var k=S[l.name],m=k.deferredOperations.pop();if(m)return m.resolve(),m.promise}function L(l,k){var m=S[l.name],D=m.deferredOperations.pop();if(D)return D.reject(k),D.promise}function y(l,k){return new e(function(m,D){if(S[l.name]=S[l.name]||K(),l.db)if(k)B(l),l.db.close();else return m(l.db);var $=[l.name];k&&$.push(l.version);var E=v.open.apply(v,$);k&&(E.onupgradeneeded=function(F){var G=E.result;try{G.createObjectStore(l.storeName),F.oldVersion<=1&&G.createObjectStore(_)}catch(W){if(W.name==="ConstraintError")console.warn('The database "'+l.name+'" has been upgraded from version '+F.oldVersion+" to version "+F.newVersion+', but the storage "'+l.storeName+'" already exists.');else throw W}}),E.onerror=function(F){F.preventDefault(),D(E.error)},E.onsuccess=function(){var F=E.result;F.onversionchange=function(G){G.target.close()},m(F),I(l)}})}function T(l){return y(l,!1)}function O(l){return y(l,!0)}function P(l,k){if(!l.db)return!0;var m=!l.db.objectStoreNames.contains(l.storeName),D=l.version<l.db.version,$=l.version>l.db.version;if(D&&(l.version!==k&&console.warn('The database "'+l.name+`" can't be downgraded from version `+l.db.version+" to version "+l.version+"."),l.version=l.db.version),$||m){if(m){var E=l.db.version+1;E>l.version&&(l.version=E)}return!0}return!1}function H(l){return new e(function(k,m){var D=new FileReader;D.onerror=m,D.onloadend=function($){var E=btoa($.target.result||"");k({__local_forage_encoded_blob:!0,data:E,type:l.type})},D.readAsBinaryString(l)})}function M(l){var k=j(atob(l.data));return A([k],{type:l.type})}function C(l){return l&&l.__local_forage_encoded_blob}function Y(l){var k=this,m=k._initReady().then(function(){var D=S[k._dbInfo.name];if(D&&D.dbReady)return D.dbReady});return i(m,l,l),m}function X(l){B(l);for(var k=S[l.name],m=k.forages,D=0;D<m.length;D++){var $=m[D];$._dbInfo.db&&($._dbInfo.db.close(),$._dbInfo.db=null)}return l.db=null,T(l).then(function(E){return l.db=E,P(l)?O(l):E}).then(function(E){l.db=k.db=E;for(var F=0;F<m.length;F++)m[F]._dbInfo.db=E}).catch(function(E){throw L(l,E),E})}function J(l,k,m,D){D===void 0&&(D=1);try{var $=l.db.transaction(l.storeName,k);m(null,$)}catch(E){if(D>0&&(!l.db||E.name==="InvalidStateError"||E.name==="NotFoundError"))return e.resolve().then(function(){if(!l.db||E.name==="NotFoundError"&&!l.db.objectStoreNames.contains(l.storeName)&&l.version<=l.db.version)return l.db&&(l.version=l.db.version+1),O(l)}).then(function(){return X(l).then(function(){J(l,k,m,D-1)})}).catch(m);m(E)}}function K(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function te(l){var k=this,m={db:null};if(l)for(var D in l)m[D]=l[D];var $=S[m.name];$||($=K(),S[m.name]=$),$.forages.push(k),k._initReady||(k._initReady=k.ready,k.ready=Y);var E=[];function F(){return e.resolve()}for(var G=0;G<$.forages.length;G++){var W=$.forages[G];W!==k&&E.push(W._initReady().catch(F))}var V=$.forages.slice(0);return e.all(E).then(function(){return m.db=$.db,T(m)}).then(function(U){return m.db=U,P(m,k._defaultConfig.version)?O(m):U}).then(function(U){m.db=$.db=U,k._dbInfo=m;for(var q=0;q<V.length;q++){var Q=V[q];Q!==k&&(Q._dbInfo.db=m.db,Q._dbInfo.version=m.version)}})}function fe(l,k){var m=this;l=u(l);var D=new e(function($,E){m.ready().then(function(){J(m._dbInfo,x,function(F,G){if(F)return E(F);try{var W=G.objectStore(m._dbInfo.storeName),V=W.get(l);V.onsuccess=function(){var U=V.result;U===void 0&&(U=null),C(U)&&(U=M(U)),$(U)},V.onerror=function(){E(V.error)}}catch(U){E(U)}})}).catch(E)});return t(D,k),D}function ue(l,k){var m=this,D=new e(function($,E){m.ready().then(function(){J(m._dbInfo,x,function(F,G){if(F)return E(F);try{var W=G.objectStore(m._dbInfo.storeName),V=W.openCursor(),U=1;V.onsuccess=function(){var q=V.result;if(q){var Q=q.value;C(Q)&&(Q=M(Q));var z=l(Q,q.key,U++);z!==void 0?$(z):q.continue()}else $()},V.onerror=function(){E(V.error)}}catch(q){E(q)}})}).catch(E)});return t(D,k),D}function ve(l,k,m){var D=this;l=u(l);var $=new e(function(E,F){var G;D.ready().then(function(){return G=D._dbInfo,c.call(k)==="[object Blob]"?R(G.db).then(function(W){return W?k:H(k)}):k}).then(function(W){J(D._dbInfo,w,function(V,U){if(V)return F(V);try{var q=U.objectStore(D._dbInfo.storeName);W===null&&(W=void 0);var Q=q.put(W,l);U.oncomplete=function(){W===void 0&&(W=null),E(W)},U.onabort=U.onerror=function(){var z=Q.error?Q.error:Q.transaction.error;F(z)}}catch(z){F(z)}})}).catch(F)});return t($,m),$}function Ie(l,k){var m=this;l=u(l);var D=new e(function($,E){m.ready().then(function(){J(m._dbInfo,w,function(F,G){if(F)return E(F);try{var W=G.objectStore(m._dbInfo.storeName),V=W.delete(l);G.oncomplete=function(){$()},G.onerror=function(){E(V.error)},G.onabort=function(){var U=V.error?V.error:V.transaction.error;E(U)}}catch(U){E(U)}})}).catch(E)});return t(D,k),D}function le(l){var k=this,m=new e(function(D,$){k.ready().then(function(){J(k._dbInfo,w,function(E,F){if(E)return $(E);try{var G=F.objectStore(k._dbInfo.storeName),W=G.clear();F.oncomplete=function(){D()},F.onabort=F.onerror=function(){var V=W.error?W.error:W.transaction.error;$(V)}}catch(V){$(V)}})}).catch($)});return t(m,l),m}function me(l){var k=this,m=new e(function(D,$){k.ready().then(function(){J(k._dbInfo,x,function(E,F){if(E)return $(E);try{var G=F.objectStore(k._dbInfo.storeName),W=G.count();W.onsuccess=function(){D(W.result)},W.onerror=function(){$(W.error)}}catch(V){$(V)}})}).catch($)});return t(m,l),m}function Ee(l,k){var m=this,D=new e(function($,E){if(l<0){$(null);return}m.ready().then(function(){J(m._dbInfo,x,function(F,G){if(F)return E(F);try{var W=G.objectStore(m._dbInfo.storeName),V=!1,U=W.openKeyCursor();U.onsuccess=function(){var q=U.result;if(!q){$(null);return}l===0||V?$(q.key):(V=!0,q.advance(l))},U.onerror=function(){E(U.error)}}catch(q){E(q)}})}).catch(E)});return t(D,k),D}function Ft(l){var k=this,m=new e(function(D,$){k.ready().then(function(){J(k._dbInfo,x,function(E,F){if(E)return $(E);try{var G=F.objectStore(k._dbInfo.storeName),W=G.openKeyCursor(),V=[];W.onsuccess=function(){var U=W.result;if(!U){D(V);return}V.push(U.key),U.continue()},W.onerror=function(){$(W.error)}}catch(U){$(U)}})}).catch($)});return t(m,l),m}function Ct(l,k){k=s.apply(this,arguments);var m=this.config();l=typeof l!="function"&&l||{},l.name||(l.name=l.name||m.name,l.storeName=l.storeName||m.storeName);var D=this,$;if(!l.name)$=e.reject("Invalid arguments");else{var E=l.name===m.name&&D._dbInfo.db,F=E?e.resolve(D._dbInfo.db):T(l).then(function(G){var W=S[l.name],V=W.forages;W.db=G;for(var U=0;U<V.length;U++)V[U]._dbInfo.db=G;return G});l.storeName?$=F.then(function(G){if(!!G.objectStoreNames.contains(l.storeName)){var W=G.version+1;B(l);var V=S[l.name],U=V.forages;G.close();for(var q=0;q<U.length;q++){var Q=U[q];Q._dbInfo.db=null,Q._dbInfo.version=W}var z=new e(function(ee,re){var ne=v.open(l.name,W);ne.onerror=function(se){var Te=ne.result;Te.close(),re(se)},ne.onupgradeneeded=function(){var se=ne.result;se.deleteObjectStore(l.storeName)},ne.onsuccess=function(){var se=ne.result;se.close(),ee(se)}});return z.then(function(ee){V.db=ee;for(var re=0;re<U.length;re++){var ne=U[re];ne._dbInfo.db=ee,I(ne._dbInfo)}}).catch(function(ee){throw(L(l,ee)||e.resolve()).catch(function(){}),ee})}}):$=F.then(function(G){B(l);var W=S[l.name],V=W.forages;G.close();for(var U=0;U<V.length;U++){var q=V[U];q._dbInfo.db=null}var Q=new e(function(z,ee){var re=v.deleteDatabase(l.name);re.onerror=function(){var ne=re.result;ne&&ne.close(),ee(re.error)},re.onblocked=function(){console.warn('dropInstance blocked for database "'+l.name+'" until all open connections are closed')},re.onsuccess=function(){var ne=re.result;ne&&ne.close(),z(ne)}});return Q.then(function(z){W.db=z;for(var ee=0;ee<V.length;ee++){var re=V[ee];I(re._dbInfo)}}).catch(function(z){throw(L(l,z)||e.resolve()).catch(function(){}),z})})}return t($,k),$}var Gt={_driver:"asyncStorage",_initStorage:te,_support:p(),iterate:ue,getItem:fe,setItem:ve,removeItem:Ie,clear:le,length:me,key:Ee,keys:Ft,dropInstance:Ct};function Ht(){return typeof openDatabase=="function"}var de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wt="~~local_forage_type~",ut=/^~~local_forage_type~([^~]+)~/,Oe="__lfsc__:",Ce=Oe.length,Ge="arbf",He="blob",ft="si08",st="ui08",lt="uic8",ct="si16",dt="si32",ht="ur16",pt="ui32",_t="fl32",vt="fl64",mt=Ce+Ge.length,yt=Object.prototype.toString;function gt(l){var k=l.length*.75,m=l.length,D,$=0,E,F,G,W;l[l.length-1]==="="&&(k--,l[l.length-2]==="="&&k--);var V=new ArrayBuffer(k),U=new Uint8Array(V);for(D=0;D<m;D+=4)E=de.indexOf(l[D]),F=de.indexOf(l[D+1]),G=de.indexOf(l[D+2]),W=de.indexOf(l[D+3]),U[$++]=E<<2|F>>4,U[$++]=(F&15)<<4|G>>2,U[$++]=(G&3)<<6|W&63;return V}function We(l){var k=new Uint8Array(l),m="",D;for(D=0;D<k.length;D+=3)m+=de[k[D]>>2],m+=de[(k[D]&3)<<4|k[D+1]>>4],m+=de[(k[D+1]&15)<<2|k[D+2]>>6],m+=de[k[D+2]&63];return k.length%3==2?m=m.substring(0,m.length-1)+"=":k.length%3==1&&(m=m.substring(0,m.length-2)+"=="),m}function Vt(l,k){var m="";if(l&&(m=yt.call(l)),l&&(m==="[object ArrayBuffer]"||l.buffer&&yt.call(l.buffer)==="[object ArrayBuffer]")){var D,$=Oe;l instanceof ArrayBuffer?(D=l,$+=Ge):(D=l.buffer,m==="[object Int8Array]"?$+=ft:m==="[object Uint8Array]"?$+=st:m==="[object Uint8ClampedArray]"?$+=lt:m==="[object Int16Array]"?$+=ct:m==="[object Uint16Array]"?$+=ht:m==="[object Int32Array]"?$+=dt:m==="[object Uint32Array]"?$+=pt:m==="[object Float32Array]"?$+=_t:m==="[object Float64Array]"?$+=vt:k(new Error("Failed to get type for BinaryArray"))),k($+We(D))}else if(m==="[object Blob]"){var E=new FileReader;E.onload=function(){var F=Wt+l.type+"~"+We(this.result);k(Oe+He+F)},E.readAsArrayBuffer(l)}else try{k(JSON.stringify(l))}catch(F){console.error("Couldn't convert value into a JSON string: ",l),k(null,F)}}function Ut(l){if(l.substring(0,Ce)!==Oe)return JSON.parse(l);var k=l.substring(mt),m=l.substring(Ce,mt),D;if(m===He&&ut.test(k)){var $=k.match(ut);D=$[1],k=k.substring($[0].length)}var E=gt(k);switch(m){case Ge:return E;case He:return A([E],{type:D});case ft:return new Int8Array(E);case st:return new Uint8Array(E);case lt:return new Uint8ClampedArray(E);case ct:return new Int16Array(E);case ht:return new Uint16Array(E);case dt:return new Int32Array(E);case pt:return new Uint32Array(E);case _t:return new Float32Array(E);case vt:return new Float64Array(E);default:throw new Error("Unkown type: "+m)}}var Ve={serialize:Vt,deserialize:Ut,stringToBuffer:gt,bufferToString:We};function bt(l,k,m,D){l.executeSql("CREATE TABLE IF NOT EXISTS "+k.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],m,D)}function Xt(l){var k=this,m={db:null};if(l)for(var D in l)m[D]=typeof l[D]!="string"?l[D].toString():l[D];var $=new e(function(E,F){try{m.db=openDatabase(m.name,String(m.version),m.description,m.size)}catch(G){return F(G)}m.db.transaction(function(G){bt(G,m,function(){k._dbInfo=m,E()},function(W,V){F(V)})},F)});return m.serializer=Ve,$}function he(l,k,m,D,$,E){l.executeSql(m,D,$,function(F,G){G.code===G.SYNTAX_ERR?F.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[k.storeName],function(W,V){V.rows.length?E(W,G):bt(W,k,function(){W.executeSql(m,D,$,E)},E)},E):E(F,G)},E)}function Yt(l,k){var m=this;l=u(l);var D=new e(function($,E){m.ready().then(function(){var F=m._dbInfo;F.db.transaction(function(G){he(G,F,"SELECT * FROM "+F.storeName+" WHERE key = ? LIMIT 1",[l],function(W,V){var U=V.rows.length?V.rows.item(0).value:null;U&&(U=F.serializer.deserialize(U)),$(U)},function(W,V){E(V)})})}).catch(E)});return t(D,k),D}function Jt(l,k){var m=this,D=new e(function($,E){m.ready().then(function(){var F=m._dbInfo;F.db.transaction(function(G){he(G,F,"SELECT * FROM "+F.storeName,[],function(W,V){for(var U=V.rows,q=U.length,Q=0;Q<q;Q++){var z=U.item(Q),ee=z.value;if(ee&&(ee=F.serializer.deserialize(ee)),ee=l(ee,z.key,Q+1),ee!==void 0){$(ee);return}}$()},function(W,V){E(V)})})}).catch(E)});return t(D,k),D}function wt(l,k,m,D){var $=this;l=u(l);var E=new e(function(F,G){$.ready().then(function(){k===void 0&&(k=null);var W=k,V=$._dbInfo;V.serializer.serialize(k,function(U,q){q?G(q):V.db.transaction(function(Q){he(Q,V,"INSERT OR REPLACE INTO "+V.storeName+" (key, value) VALUES (?, ?)",[l,U],function(){F(W)},function(z,ee){G(ee)})},function(Q){if(Q.code===Q.QUOTA_ERR){if(D>0){F(wt.apply($,[l,W,m,D-1]));return}G(Q)}})})}).catch(G)});return t(E,m),E}function qt(l,k,m){return wt.apply(this,[l,k,m,1])}function Qt(l,k){var m=this;l=u(l);var D=new e(function($,E){m.ready().then(function(){var F=m._dbInfo;F.db.transaction(function(G){he(G,F,"DELETE FROM "+F.storeName+" WHERE key = ?",[l],function(){$()},function(W,V){E(V)})})}).catch(E)});return t(D,k),D}function Zt(l){var k=this,m=new e(function(D,$){k.ready().then(function(){var E=k._dbInfo;E.db.transaction(function(F){he(F,E,"DELETE FROM "+E.storeName,[],function(){D()},function(G,W){$(W)})})}).catch($)});return t(m,l),m}function Kt(l){var k=this,m=new e(function(D,$){k.ready().then(function(){var E=k._dbInfo;E.db.transaction(function(F){he(F,E,"SELECT COUNT(key) as c FROM "+E.storeName,[],function(G,W){var V=W.rows.item(0).c;D(V)},function(G,W){$(W)})})}).catch($)});return t(m,l),m}function zt(l,k){var m=this,D=new e(function($,E){m.ready().then(function(){var F=m._dbInfo;F.db.transaction(function(G){he(G,F,"SELECT key FROM "+F.storeName+" WHERE id = ? LIMIT 1",[l+1],function(W,V){var U=V.rows.length?V.rows.item(0).key:null;$(U)},function(W,V){E(V)})})}).catch(E)});return t(D,k),D}function en(l){var k=this,m=new e(function(D,$){k.ready().then(function(){var E=k._dbInfo;E.db.transaction(function(F){he(F,E,"SELECT key FROM "+E.storeName,[],function(G,W){for(var V=[],U=0;U<W.rows.length;U++)V.push(W.rows.item(U).key);D(V)},function(G,W){$(W)})})}).catch($)});return t(m,l),m}function tn(l){return new e(function(k,m){l.transaction(function(D){D.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function($,E){for(var F=[],G=0;G<E.rows.length;G++)F.push(E.rows.item(G).name);k({db:l,storeNames:F})},function($,E){m(E)})},function(D){m(D)})})}function nn(l,k){k=s.apply(this,arguments);var m=this.config();l=typeof l!="function"&&l||{},l.name||(l.name=l.name||m.name,l.storeName=l.storeName||m.storeName);var D=this,$;return l.name?$=new e(function(E){var F;l.name===m.name?F=D._dbInfo.db:F=openDatabase(l.name,"","",0),l.storeName?E({db:F,storeNames:[l.storeName]}):E(tn(F))}).then(function(E){return new e(function(F,G){E.db.transaction(function(W){function V(z){return new e(function(ee,re){W.executeSql("DROP TABLE IF EXISTS "+z,[],function(){ee()},function(ne,se){re(se)})})}for(var U=[],q=0,Q=E.storeNames.length;q<Q;q++)U.push(V(E.storeNames[q]));e.all(U).then(function(){F()}).catch(function(z){G(z)})},function(W){G(W)})})}):$=e.reject("Invalid arguments"),t($,k),$}var rn={_driver:"webSQLStorage",_initStorage:Xt,_support:Ht(),iterate:Jt,getItem:Yt,setItem:qt,removeItem:Qt,clear:Zt,length:Kt,key:zt,keys:en,dropInstance:nn};function on(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function xt(l,k){var m=l.name+"/";return l.storeName!==k.storeName&&(m+=l.storeName+"/"),m}function an(){var l="_localforage_support_test";try{return localStorage.setItem(l,!0),localStorage.removeItem(l),!1}catch{return!0}}function un(){return!an()||localStorage.length>0}function fn(l){var k=this,m={};if(l)for(var D in l)m[D]=l[D];return m.keyPrefix=xt(l,k._defaultConfig),un()?(k._dbInfo=m,m.serializer=Ve,e.resolve()):e.reject()}function sn(l){var k=this,m=k.ready().then(function(){for(var D=k._dbInfo.keyPrefix,$=localStorage.length-1;$>=0;$--){var E=localStorage.key($);E.indexOf(D)===0&&localStorage.removeItem(E)}});return t(m,l),m}function ln(l,k){var m=this;l=u(l);var D=m.ready().then(function(){var $=m._dbInfo,E=localStorage.getItem($.keyPrefix+l);return E&&(E=$.serializer.deserialize(E)),E});return t(D,k),D}function cn(l,k){var m=this,D=m.ready().then(function(){for(var $=m._dbInfo,E=$.keyPrefix,F=E.length,G=localStorage.length,W=1,V=0;V<G;V++){var U=localStorage.key(V);if(U.indexOf(E)===0){var q=localStorage.getItem(U);if(q&&(q=$.serializer.deserialize(q)),q=l(q,U.substring(F),W++),q!==void 0)return q}}});return t(D,k),D}function dn(l,k){var m=this,D=m.ready().then(function(){var $=m._dbInfo,E;try{E=localStorage.key(l)}catch{E=null}return E&&(E=E.substring($.keyPrefix.length)),E});return t(D,k),D}function hn(l){var k=this,m=k.ready().then(function(){for(var D=k._dbInfo,$=localStorage.length,E=[],F=0;F<$;F++){var G=localStorage.key(F);G.indexOf(D.keyPrefix)===0&&E.push(G.substring(D.keyPrefix.length))}return E});return t(m,l),m}function pn(l){var k=this,m=k.keys().then(function(D){return D.length});return t(m,l),m}function _n(l,k){var m=this;l=u(l);var D=m.ready().then(function(){var $=m._dbInfo;localStorage.removeItem($.keyPrefix+l)});return t(D,k),D}function vn(l,k,m){var D=this;l=u(l);var $=D.ready().then(function(){k===void 0&&(k=null);var E=k;return new e(function(F,G){var W=D._dbInfo;W.serializer.serialize(k,function(V,U){if(U)G(U);else try{localStorage.setItem(W.keyPrefix+l,V),F(E)}catch(q){(q.name==="QuotaExceededError"||q.name==="NS_ERROR_DOM_QUOTA_REACHED")&&G(q),G(q)}})})});return t($,m),$}function mn(l,k){if(k=s.apply(this,arguments),l=typeof l!="function"&&l||{},!l.name){var m=this.config();l.name=l.name||m.name,l.storeName=l.storeName||m.storeName}var D=this,$;return l.name?$=new e(function(E){l.storeName?E(xt(l,D._defaultConfig)):E(l.name+"/")}).then(function(E){for(var F=localStorage.length-1;F>=0;F--){var G=localStorage.key(F);G.indexOf(E)===0&&localStorage.removeItem(G)}}):$=e.reject("Invalid arguments"),t($,k),$}var yn={_driver:"localStorageWrapper",_initStorage:fn,_support:on(),iterate:cn,getItem:ln,setItem:vn,removeItem:_n,clear:sn,length:pn,key:dn,keys:hn,dropInstance:mn},gn=function(k,m){return k===m||typeof k=="number"&&typeof m=="number"&&isNaN(k)&&isNaN(m)},bn=function(k,m){for(var D=k.length,$=0;$<D;){if(gn(k[$],m))return!0;$++}return!1},At=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"},Ae={},Tt={},ye={INDEXEDDB:Gt,WEBSQL:rn,LOCALSTORAGE:yn},wn=[ye.INDEXEDDB._driver,ye.WEBSQL._driver,ye.LOCALSTORAGE._driver],De=["dropInstance"],Ue=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(De),xn={description:"",driver:wn.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function An(l,k){l[k]=function(){var m=arguments;return l.ready().then(function(){return l[k].apply(l,m)})}}function Xe(){for(var l=1;l<arguments.length;l++){var k=arguments[l];if(k)for(var m in k)k.hasOwnProperty(m)&&(At(k[m])?arguments[0][m]=k[m].slice():arguments[0][m]=k[m])}return arguments[0]}var Tn=function(){function l(k){d(this,l);for(var m in ye)if(ye.hasOwnProperty(m)){var D=ye[m],$=D._driver;this[m]=$,Ae[$]||this.defineDriver(D)}this._defaultConfig=Xe({},xn),this._config=Xe({},this._defaultConfig,k),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return l.prototype.config=function(m){if((typeof m=="undefined"?"undefined":b(m))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var D in m){if(D==="storeName"&&(m[D]=m[D].replace(/\W/g,"_")),D==="version"&&typeof m[D]!="number")return new Error("Database version must be a number.");this._config[D]=m[D]}return"driver"in m&&m.driver?this.setDriver(this._config.driver):!0}else return typeof m=="string"?this._config[m]:this._config},l.prototype.defineDriver=function(m,D,$){var E=new e(function(F,G){try{var W=m._driver,V=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!m._driver){G(V);return}for(var U=Ue.concat("_initStorage"),q=0,Q=U.length;q<Q;q++){var z=U[q],ee=!bn(De,z);if((ee||m[z])&&typeof m[z]!="function"){G(V);return}}var re=function(){for(var Te=function(In){return function(){var En=new Error("Method "+In+" is not implemented by the current driver"),St=e.reject(En);return t(St,arguments[arguments.length-1]),St}},Ye=0,kn=De.length;Ye<kn;Ye++){var Je=De[Ye];m[Je]||(m[Je]=Te(Je))}};re();var ne=function(Te){Ae[W]&&console.info("Redefining LocalForage driver: "+W),Ae[W]=m,Tt[W]=Te,F()};"_support"in m?m._support&&typeof m._support=="function"?m._support().then(ne,G):ne(!!m._support):ne(!0)}catch(se){G(se)}});return i(E,D,$),E},l.prototype.driver=function(){return this._driver||null},l.prototype.getDriver=function(m,D,$){var E=Ae[m]?e.resolve(Ae[m]):e.reject(new Error("Driver not found."));return i(E,D,$),E},l.prototype.getSerializer=function(m){var D=e.resolve(Ve);return i(D,m),D},l.prototype.ready=function(m){var D=this,$=D._driverSet.then(function(){return D._ready===null&&(D._ready=D._initDriver()),D._ready});return i($,m,m),$},l.prototype.setDriver=function(m,D,$){var E=this;At(m)||(m=[m]);var F=this._getSupportedDrivers(m);function G(){E._config.driver=E.driver()}function W(q){return E._extend(q),G(),E._ready=E._initStorage(E._config),E._ready}function V(q){return function(){var Q=0;function z(){for(;Q<q.length;){var ee=q[Q];return Q++,E._dbInfo=null,E._ready=null,E.getDriver(ee).then(W).catch(z)}G();var re=new Error("No available storage method found.");return E._driverSet=e.reject(re),E._driverSet}return z()}}var U=this._driverSet!==null?this._driverSet.catch(function(){return e.resolve()}):e.resolve();return this._driverSet=U.then(function(){var q=F[0];return E._dbInfo=null,E._ready=null,E.getDriver(q).then(function(Q){E._driver=Q._driver,G(),E._wrapLibraryMethodsWithReady(),E._initDriver=V(F)})}).catch(function(){G();var q=new Error("No available storage method found.");return E._driverSet=e.reject(q),E._driverSet}),i(this._driverSet,D,$),this._driverSet},l.prototype.supports=function(m){return!!Tt[m]},l.prototype._extend=function(m){Xe(this,m)},l.prototype._getSupportedDrivers=function(m){for(var D=[],$=0,E=m.length;$<E;$++){var F=m[$];this.supports(F)&&D.push(F)}return D},l.prototype._wrapLibraryMethodsWithReady=function(){for(var m=0,D=Ue.length;m<D;m++)An(this,Ue[m])},l.prototype.createInstance=function(m){return new l(m)},l}(),Sn=new Tn;o.exports=Sn},{"3":3}]},{},[4])(4)})})(Mt);var yi=Mt.exports,Fe,xr=new Uint8Array(16);function Ar(){if(!Fe&&(Fe=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Fe))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fe(xr)}var Tr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Sr(f){return typeof f=="string"&&Tr.test(f)}var ae=[];for(var at=0;at<256;++at)ae.push((at+256).toString(16).substr(1));function kr(f){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(ae[f[n+0]]+ae[f[n+1]]+ae[f[n+2]]+ae[f[n+3]]+"-"+ae[f[n+4]]+ae[f[n+5]]+"-"+ae[f[n+6]]+ae[f[n+7]]+"-"+ae[f[n+8]]+ae[f[n+9]]+"-"+ae[f[n+10]]+ae[f[n+11]]+ae[f[n+12]]+ae[f[n+13]]+ae[f[n+14]]+ae[f[n+15]]).toLowerCase();if(!Sr(r))throw TypeError("Stringified UUID is invalid");return r}function gi(f,n,r){f=f||{};var o=f.random||(f.rng||Ar)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,n){r=r||0;for(var a=0;a<16;++a)n[r+a]=o[a];return n}return kr(o)}var Lt={exports:{}};(function(f){var n=Object.prototype.hasOwnProperty,r="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(r=!1));function a(v,p,A){this.fn=v,this.context=p,this.once=A||!1}function b(v,p,A,e,t){if(typeof A!="function")throw new TypeError("The listener must be a function");var i=new a(A,e||v,t),u=r?r+p:p;return v._events[u]?v._events[u].fn?v._events[u]=[v._events[u],i]:v._events[u].push(i):(v._events[u]=i,v._eventsCount++),v}function d(v,p){--v._eventsCount==0?v._events=new o:delete v._events[p]}function h(){this._events=new o,this._eventsCount=0}h.prototype.eventNames=function(){var p=[],A,e;if(this._eventsCount===0)return p;for(e in A=this._events)n.call(A,e)&&p.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(A)):p},h.prototype.listeners=function(p){var A=r?r+p:p,e=this._events[A];if(!e)return[];if(e.fn)return[e.fn];for(var t=0,i=e.length,u=new Array(i);t<i;t++)u[t]=e[t].fn;return u},h.prototype.listenerCount=function(p){var A=r?r+p:p,e=this._events[A];return e?e.fn?1:e.length:0},h.prototype.emit=function(p,A,e,t,i,u){var s=r?r+p:p;if(!this._events[s])return!1;var _=this._events[s],g=arguments.length,S,c;if(_.fn){switch(_.once&&this.removeListener(p,_.fn,void 0,!0),g){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,A),!0;case 3:return _.fn.call(_.context,A,e),!0;case 4:return _.fn.call(_.context,A,e,t),!0;case 5:return _.fn.call(_.context,A,e,t,i),!0;case 6:return _.fn.call(_.context,A,e,t,i,u),!0}for(c=1,S=new Array(g-1);c<g;c++)S[c-1]=arguments[c];_.fn.apply(_.context,S)}else{var x=_.length,w;for(c=0;c<x;c++)switch(_[c].once&&this.removeListener(p,_[c].fn,void 0,!0),g){case 1:_[c].fn.call(_[c].context);break;case 2:_[c].fn.call(_[c].context,A);break;case 3:_[c].fn.call(_[c].context,A,e);break;case 4:_[c].fn.call(_[c].context,A,e,t);break;default:if(!S)for(w=1,S=new Array(g-1);w<g;w++)S[w-1]=arguments[w];_[c].fn.apply(_[c].context,S)}}return!0},h.prototype.on=function(p,A,e){return b(this,p,A,e,!1)},h.prototype.once=function(p,A,e){return b(this,p,A,e,!0)},h.prototype.removeListener=function(p,A,e,t){var i=r?r+p:p;if(!this._events[i])return this;if(!A)return d(this,i),this;var u=this._events[i];if(u.fn)u.fn===A&&(!t||u.once)&&(!e||u.context===e)&&d(this,i);else{for(var s=0,_=[],g=u.length;s<g;s++)(u[s].fn!==A||t&&!u[s].once||e&&u[s].context!==e)&&_.push(u[s]);_.length?this._events[i]=_.length===1?_[0]:_:d(this,i)}return this},h.prototype.removeAllListeners=function(p){var A;return p?(A=r?r+p:p,this._events[A]&&d(this,A)):(this._events=new o,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=r,h.EventEmitter=h,f.exports=h})(Lt);var bi=Lt.exports,Ir={};/*!
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(f){(function(){var n=function(){this.init()};n.prototype={init:function(){var e=this||r;return e._counter=1e3,e._html5AudioPool=[],e.html5PoolSize=10,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator=typeof window!="undefined"&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.autoUnlock=!0,e._setup(),e},volume:function(e){var t=this||r;if(e=parseFloat(e),t.ctx||A(),typeof e!="undefined"&&e>=0&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e,r.ctx.currentTime);for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var u=t._howls[i]._getSoundIds(),s=0;s<u.length;s++){var _=t._howls[i]._soundById(u[s]);_&&_._node&&(_._node.volume=_._volume*e)}return t}return t._volume},mute:function(e){var t=this||r;t.ctx||A(),t._muted=e,t.usingWebAudio&&t.masterGain.gain.setValueAtTime(e?0:t._volume,r.ctx.currentTime);for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var u=t._howls[i]._getSoundIds(),s=0;s<u.length;s++){var _=t._howls[i]._soundById(u[s]);_&&_._node&&(_._node.muted=e?!0:_._muted)}return t},stop:function(){for(var e=this||r,t=0;t<e._howls.length;t++)e._howls[t].stop();return e},unload:function(){for(var e=this||r,t=e._howls.length-1;t>=0;t--)e._howls[t].unload();return e.usingWebAudio&&e.ctx&&typeof e.ctx.close!="undefined"&&(e.ctx.close(),e.ctx=null,A()),e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;if(e.state=e.ctx&&e.ctx.state||"suspended",e._autoSuspend(),!e.usingWebAudio)if(typeof Audio!="undefined")try{var t=new Audio;typeof t.oncanplaythrough=="undefined"&&(e._canPlayEvent="canplay")}catch{e.noAudio=!0}else e.noAudio=!0;try{var t=new Audio;t.muted&&(e.noAudio=!0)}catch{}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||r,t=null;try{t=typeof Audio!="undefined"?new Audio:null}catch{return e}if(!t||typeof t.canPlayType!="function")return e;var i=t.canPlayType("audio/mpeg;").replace(/^no$/,""),u=e._navigator?e._navigator.userAgent:"",s=u.match(/OPR\/([0-6].)/g),_=s&&parseInt(s[0].split("/")[1],10)<33,g=u.indexOf("Safari")!==-1&&u.indexOf("Chrome")===-1,S=u.match(/Version\/(.*?) /),c=g&&S&&parseInt(S[1],10)<15;return e._codecs={mp3:!!(!_&&(i||t.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!i,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!c&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!c&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_unlockAudio:function(){var e=this||r;if(!(e._audioUnlocked||!e.ctx)){e._audioUnlocked=!1,e.autoUnlock=!1,!e._mobileUnloaded&&e.ctx.sampleRate!==44100&&(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(i){for(;e._html5AudioPool.length<e.html5PoolSize;)try{var u=new Audio;u._unlocked=!0,e._releaseHtml5Audio(u)}catch{e.noAudio=!0;break}for(var s=0;s<e._howls.length;s++)if(!e._howls[s]._webAudio)for(var _=e._howls[s]._getSoundIds(),g=0;g<_.length;g++){var S=e._howls[s]._soundById(_[g]);S&&S._node&&!S._node._unlocked&&(S._node._unlocked=!0,S._node.load())}e._autoResume();var c=e.ctx.createBufferSource();c.buffer=e._scratchBuffer,c.connect(e.ctx.destination),typeof c.start=="undefined"?c.noteOn(0):c.start(0),typeof e.ctx.resume=="function"&&e.ctx.resume(),c.onended=function(){c.disconnect(0),e._audioUnlocked=!0,document.removeEventListener("touchstart",t,!0),document.removeEventListener("touchend",t,!0),document.removeEventListener("click",t,!0),document.removeEventListener("keydown",t,!0);for(var x=0;x<e._howls.length;x++)e._howls[x]._emit("unlock")}};return document.addEventListener("touchstart",t,!0),document.addEventListener("touchend",t,!0),document.addEventListener("click",t,!0),document.addEventListener("keydown",t,!0),e}},_obtainHtml5Audio:function(){var e=this||r;if(e._html5AudioPool.length)return e._html5AudioPool.pop();var t=new Audio().play();return t&&typeof Promise!="undefined"&&(t instanceof Promise||typeof t.then=="function")&&t.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(e){var t=this||r;return e._unlocked&&t._html5AudioPool.push(e),t},_autoSuspend:function(){var e=this;if(!(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend=="undefined"||!r.usingWebAudio)){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio){for(var i=0;i<e._howls[t]._sounds.length;i++)if(!e._howls[t]._sounds[i]._paused)return e}return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){if(!!e.autoSuspend){e._suspendTimer=null,e.state="suspending";var u=function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())};e.ctx.suspend().then(u,u)}},3e4),e}},_autoResume:function(){var e=this;if(!(!e.ctx||typeof e.ctx.resume=="undefined"||!r.usingWebAudio))return e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):e.state==="suspending"&&(e._resumeAfterSuspend=!0),e}};var r=new n,o=function(e){var t=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}t.init(e)};o.prototype={init:function(e){var t=this;return r.ctx||A(),t._autoplay=e.autoplay||!1,t._format=typeof e.format!="string"?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload=typeof e.preload=="boolean"||e.preload==="metadata"?e.preload:!0,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src=typeof e.src!="string"?e.src:[e.src],t._volume=e.volume!==void 0?e.volume:1,t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:!1},t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._playLock=!1,t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._onunlock=e.onunlock?[{fn:e.onunlock}]:[],t._onresume=[],t._webAudio=r.usingWebAudio&&!t._html5,typeof r.ctx!="undefined"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(t),t._autoplay&&t._queue.push({event:"play",action:function(){t.play()}}),t._preload&&t._preload!=="none"&&t.load(),t},load:function(){var e=this,t=null;if(r.noAudio){e._emit("loaderror",null,"No audio support.");return}typeof e._src=="string"&&(e._src=[e._src]);for(var i=0;i<e._src.length;i++){var u,s;if(e._format&&e._format[i])u=e._format[i];else{if(s=e._src[i],typeof s!="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(s),u||(u=/\.([^.]+)$/.exec(s.split("?",1)[0])),u&&(u=u[1].toLowerCase())}if(u||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),u&&r.codecs(u)){t=e._src[i];break}}if(!t){e._emit("loaderror",null,"No codec support for selected audio sources.");return}return e._src=t,e._state="loading",window.location.protocol==="https:"&&t.slice(0,5)==="http:"&&(e._html5=!0,e._webAudio=!1),new a(e),e._webAudio&&d(e),e},play:function(e,t){var i=this,u=null;if(typeof e=="number")u=e,e=null;else{if(typeof e=="string"&&i._state==="loaded"&&!i._sprite[e])return null;if(typeof e=="undefined"&&(e="__default",!i._playLock)){for(var s=0,_=0;_<i._sounds.length;_++)i._sounds[_]._paused&&!i._sounds[_]._ended&&(s++,u=i._sounds[_]._id);s===1?e=null:u=null}}var g=u?i._soundById(u):i._inactiveSound();if(!g)return null;if(u&&!e&&(e=g._sprite||"__default"),i._state!=="loaded"){g._sprite=e,g._ended=!1;var S=g._id;return i._queue.push({event:"play",action:function(){i.play(S)}}),S}if(u&&!g._paused)return t||i._loadQueue("play"),g._id;i._webAudio&&r._autoResume();var c=Math.max(0,g._seek>0?g._seek:i._sprite[e][0]/1e3),x=Math.max(0,(i._sprite[e][0]+i._sprite[e][1])/1e3-c),w=x*1e3/Math.abs(g._rate),j=i._sprite[e][0]/1e3,N=(i._sprite[e][0]+i._sprite[e][1])/1e3;g._sprite=e,g._ended=!1;var R=function(){g._paused=!1,g._seek=c,g._start=j,g._stop=N,g._loop=!!(g._loop||i._sprite[e][2])};if(c>=N){i._ended(g);return}var B=g._node;if(i._webAudio){var I=function(){i._playLock=!1,R(),i._refreshBuffer(g);var O=g._muted||i._muted?0:g._volume;B.gain.setValueAtTime(O,r.ctx.currentTime),g._playStart=r.ctx.currentTime,typeof B.bufferSource.start=="undefined"?g._loop?B.bufferSource.noteGrainOn(0,c,86400):B.bufferSource.noteGrainOn(0,c,x):g._loop?B.bufferSource.start(0,c,86400):B.bufferSource.start(0,c,x),w!==1/0&&(i._endTimers[g._id]=setTimeout(i._ended.bind(i,g),w)),t||setTimeout(function(){i._emit("play",g._id),i._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?I():(i._playLock=!0,i.once("resume",I),i._clearTimer(g._id))}else{var L=function(){B.currentTime=c,B.muted=g._muted||i._muted||r._muted||B.muted,B.volume=g._volume*r.volume(),B.playbackRate=g._rate;try{var O=B.play();if(O&&typeof Promise!="undefined"&&(O instanceof Promise||typeof O.then=="function")?(i._playLock=!0,R(),O.then(function(){i._playLock=!1,B._unlocked=!0,t?i._loadQueue():i._emit("play",g._id)}).catch(function(){i._playLock=!1,i._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):t||(i._playLock=!1,R(),i._emit("play",g._id)),B.playbackRate=g._rate,B.paused){i._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}e!=="__default"||g._loop?i._endTimers[g._id]=setTimeout(i._ended.bind(i,g),w):(i._endTimers[g._id]=function(){i._ended(g),B.removeEventListener("ended",i._endTimers[g._id],!1)},B.addEventListener("ended",i._endTimers[g._id],!1))}catch(P){i._emit("playerror",g._id,P)}};B.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(B.src=i._src,B.load());var y=window&&window.ejecta||!B.readyState&&r._navigator.isCocoonJS;if(B.readyState>=3||y)L();else{i._playLock=!0,i._state="loading";var T=function(){i._state="loaded",L(),B.removeEventListener(r._canPlayEvent,T,!1)};B.addEventListener(r._canPlayEvent,T,!1),i._clearTimer(g._id)}}return g._id},pause:function(e){var t=this;if(t._state!=="loaded"||t._playLock)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var i=t._getSoundIds(e),u=0;u<i.length;u++){t._clearTimer(i[u]);var s=t._soundById(i[u]);if(s&&!s._paused&&(s._seek=t.seek(i[u]),s._rateSeek=0,s._paused=!0,t._stopFade(i[u]),s._node))if(t._webAudio){if(!s._node.bufferSource)continue;typeof s._node.bufferSource.stop=="undefined"?s._node.bufferSource.noteOff(0):s._node.bufferSource.stop(0),t._cleanBuffer(s._node)}else(!isNaN(s._node.duration)||s._node.duration===1/0)&&s._node.pause();arguments[1]||t._emit("pause",s?s._id:null)}return t},stop:function(e,t){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"stop",action:function(){i.stop(e)}}),i;for(var u=i._getSoundIds(e),s=0;s<u.length;s++){i._clearTimer(u[s]);var _=i._soundById(u[s]);_&&(_._seek=_._start||0,_._rateSeek=0,_._paused=!0,_._ended=!0,i._stopFade(u[s]),_._node&&(i._webAudio?_._node.bufferSource&&(typeof _._node.bufferSource.stop=="undefined"?_._node.bufferSource.noteOff(0):_._node.bufferSource.stop(0),i._cleanBuffer(_._node)):(!isNaN(_._node.duration)||_._node.duration===1/0)&&(_._node.currentTime=_._start||0,_._node.pause(),_._node.duration===1/0&&i._clearSound(_._node))),t||i._emit("stop",_._id))}return i},mute:function(e,t){var i=this;if(i._state!=="loaded"||i._playLock)return i._queue.push({event:"mute",action:function(){i.mute(e,t)}}),i;if(typeof t=="undefined")if(typeof e=="boolean")i._muted=e;else return i._muted;for(var u=i._getSoundIds(t),s=0;s<u.length;s++){var _=i._soundById(u[s]);_&&(_._muted=e,_._interval&&i._stopFade(_._id),i._webAudio&&_._node?_._node.gain.setValueAtTime(e?0:_._volume,r.ctx.currentTime):_._node&&(_._node.muted=r._muted?!0:e),i._emit("mute",_._id))}return i},volume:function(){var e=this,t=arguments,i,u;if(t.length===0)return e._volume;if(t.length===1||t.length===2&&typeof t[1]=="undefined"){var s=e._getSoundIds(),_=s.indexOf(t[0]);_>=0?u=parseInt(t[0],10):i=parseFloat(t[0])}else t.length>=2&&(i=parseFloat(t[0]),u=parseInt(t[1],10));var g;if(typeof i!="undefined"&&i>=0&&i<=1){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"volume",action:function(){e.volume.apply(e,t)}}),e;typeof u=="undefined"&&(e._volume=i),u=e._getSoundIds(u);for(var S=0;S<u.length;S++)g=e._soundById(u[S]),g&&(g._volume=i,t[2]||e._stopFade(u[S]),e._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(i,r.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=i*r.volume()),e._emit("volume",g._id))}else return g=u?e._soundById(u):e._sounds[0],g?g._volume:0;return e},fade:function(e,t,i,u){var s=this;if(s._state!=="loaded"||s._playLock)return s._queue.push({event:"fade",action:function(){s.fade(e,t,i,u)}}),s;e=Math.min(Math.max(0,parseFloat(e)),1),t=Math.min(Math.max(0,parseFloat(t)),1),i=parseFloat(i),s.volume(e,u);for(var _=s._getSoundIds(u),g=0;g<_.length;g++){var S=s._soundById(_[g]);if(S){if(u||s._stopFade(_[g]),s._webAudio&&!S._muted){var c=r.ctx.currentTime,x=c+i/1e3;S._volume=e,S._node.gain.setValueAtTime(e,c),S._node.gain.linearRampToValueAtTime(t,x)}s._startFadeInterval(S,e,t,i,_[g],typeof u=="undefined")}}return s},_startFadeInterval:function(e,t,i,u,s,_){var g=this,S=t,c=i-t,x=Math.abs(c/.01),w=Math.max(4,x>0?u/x:u),j=Date.now();e._fadeTo=i,e._interval=setInterval(function(){var N=(Date.now()-j)/u;j=Date.now(),S+=c*N,S=Math.round(S*100)/100,c<0?S=Math.max(i,S):S=Math.min(i,S),g._webAudio?e._volume=S:g.volume(S,e._id,!0),_&&(g._volume=S),(i<t&&S<=i||i>t&&S>=i)&&(clearInterval(e._interval),e._interval=null,e._fadeTo=null,g.volume(i,e._id),g._emit("fade",e._id))},w)},_stopFade:function(e){var t=this,i=t._soundById(e);return i&&i._interval&&(t._webAudio&&i._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(i._interval),i._interval=null,t.volume(i._fadeTo,e),i._fadeTo=null,t._emit("fade",e)),t},loop:function(){var e=this,t=arguments,i,u,s;if(t.length===0)return e._loop;if(t.length===1)if(typeof t[0]=="boolean")i=t[0],e._loop=i;else return s=e._soundById(parseInt(t[0],10)),s?s._loop:!1;else t.length===2&&(i=t[0],u=parseInt(t[1],10));for(var _=e._getSoundIds(u),g=0;g<_.length;g++)s=e._soundById(_[g]),s&&(s._loop=i,e._webAudio&&s._node&&s._node.bufferSource&&(s._node.bufferSource.loop=i,i&&(s._node.bufferSource.loopStart=s._start||0,s._node.bufferSource.loopEnd=s._stop,e.playing(_[g])&&(e.pause(_[g],!0),e.play(_[g],!0)))));return e},rate:function(){var e=this,t=arguments,i,u;if(t.length===0)u=e._sounds[0]._id;else if(t.length===1){var s=e._getSoundIds(),_=s.indexOf(t[0]);_>=0?u=parseInt(t[0],10):i=parseFloat(t[0])}else t.length===2&&(i=parseFloat(t[0]),u=parseInt(t[1],10));var g;if(typeof i=="number"){if(e._state!=="loaded"||e._playLock)return e._queue.push({event:"rate",action:function(){e.rate.apply(e,t)}}),e;typeof u=="undefined"&&(e._rate=i),u=e._getSoundIds(u);for(var S=0;S<u.length;S++)if(g=e._soundById(u[S]),g){e.playing(u[S])&&(g._rateSeek=e.seek(u[S]),g._playStart=e._webAudio?r.ctx.currentTime:g._playStart),g._rate=i,e._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(i,r.ctx.currentTime):g._node&&(g._node.playbackRate=i);var c=e.seek(u[S]),x=(e._sprite[g._sprite][0]+e._sprite[g._sprite][1])/1e3-c,w=x*1e3/Math.abs(g._rate);(e._endTimers[u[S]]||!g._paused)&&(e._clearTimer(u[S]),e._endTimers[u[S]]=setTimeout(e._ended.bind(e,g),w)),e._emit("rate",g._id)}}else return g=e._soundById(u),g?g._rate:e._rate;return e},seek:function(){var e=this,t=arguments,i,u;if(t.length===0)e._sounds.length&&(u=e._sounds[0]._id);else if(t.length===1){var s=e._getSoundIds(),_=s.indexOf(t[0]);_>=0?u=parseInt(t[0],10):e._sounds.length&&(u=e._sounds[0]._id,i=parseFloat(t[0]))}else t.length===2&&(i=parseFloat(t[0]),u=parseInt(t[1],10));if(typeof u=="undefined")return 0;if(typeof i=="number"&&(e._state!=="loaded"||e._playLock))return e._queue.push({event:"seek",action:function(){e.seek.apply(e,t)}}),e;var g=e._soundById(u);if(g)if(typeof i=="number"&&i>=0){var S=e.playing(u);S&&e.pause(u,!0),g._seek=i,g._ended=!1,e._clearTimer(u),!e._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=i);var c=function(){S&&e.play(u,!0),e._emit("seek",u)};if(S&&!e._webAudio){var x=function(){e._playLock?setTimeout(x,0):c()};setTimeout(x,0)}else c()}else if(e._webAudio){var w=e.playing(u)?r.ctx.currentTime-g._playStart:0,j=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(j+w*Math.abs(g._rate))}else return g._node.currentTime;return e},playing:function(e){var t=this;if(typeof e=="number"){var i=t._soundById(e);return i?!i._paused:!1}for(var u=0;u<t._sounds.length;u++)if(!t._sounds[u]._paused)return!0;return!1},duration:function(e){var t=this,i=t._duration,u=t._soundById(e);return u&&(i=t._sprite[u._sprite][1]/1e3),i},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,i=0;i<t.length;i++)t[i]._paused||e.stop(t[i]._id),e._webAudio||(e._clearSound(t[i]._node),t[i]._node.removeEventListener("error",t[i]._errorFn,!1),t[i]._node.removeEventListener(r._canPlayEvent,t[i]._loadFn,!1),t[i]._node.removeEventListener("ended",t[i]._endFn,!1),r._releaseHtml5Audio(t[i]._node)),delete t[i]._node,e._clearTimer(t[i]._id);var u=r._howls.indexOf(e);u>=0&&r._howls.splice(u,1);var s=!0;for(i=0;i<r._howls.length;i++)if(r._howls[i]._src===e._src||e._src.indexOf(r._howls[i]._src)>=0){s=!1;break}return b&&s&&delete b[e._src],r.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,i,u){var s=this,_=s["_on"+e];return typeof t=="function"&&_.push(u?{id:i,fn:t,once:u}:{id:i,fn:t}),s},off:function(e,t,i){var u=this,s=u["_on"+e],_=0;if(typeof t=="number"&&(i=t,t=null),t||i)for(_=0;_<s.length;_++){var g=i===s[_].id;if(t===s[_].fn&&g||!t&&g){s.splice(_,1);break}}else if(e)u["_on"+e]=[];else{var S=Object.keys(u);for(_=0;_<S.length;_++)S[_].indexOf("_on")===0&&Array.isArray(u[S[_]])&&(u[S[_]]=[])}return u},once:function(e,t,i){var u=this;return u.on(e,t,i,1),u},_emit:function(e,t,i){for(var u=this,s=u["_on"+e],_=s.length-1;_>=0;_--)(!s[_].id||s[_].id===t||e==="load")&&(setTimeout(function(g){g.call(this,t,i)}.bind(u,s[_].fn),0),s[_].once&&u.off(e,s[_].fn,s[_].id));return u._loadQueue(e),u},_loadQueue:function(e){var t=this;if(t._queue.length>0){var i=t._queue[0];i.event===e&&(t._queue.shift(),t._loadQueue()),e||i.action()}return t},_ended:function(e){var t=this,i=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop)return setTimeout(t._ended.bind(t,e),100),t;var u=!!(e._loop||t._sprite[i][2]);if(t._emit("end",e._id),!t._webAudio&&u&&t.stop(e._id,!0).play(e._id),t._webAudio&&u){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=r.ctx.currentTime;var s=(e._stop-e._start)*1e3/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),s)}return t._webAudio&&!u&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),r._autoSuspend()),!t._webAudio&&!u&&t.stop(e._id,!0),t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if(typeof t._endTimers[e]!="function")clearTimeout(t._endTimers[e]);else{var i=t._soundById(e);i&&i._node&&i._node.removeEventListener("ended",t._endTimers[e],!1)}delete t._endTimers[e]}return t},_soundById:function(e){for(var t=this,i=0;i<t._sounds.length;i++)if(e===t._sounds[i]._id)return t._sounds[i];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new a(e)},_drain:function(){var e=this,t=e._pool,i=0,u=0;if(!(e._sounds.length<t)){for(u=0;u<e._sounds.length;u++)e._sounds[u]._ended&&i++;for(u=e._sounds.length-1;u>=0;u--){if(i<=t)return;e._sounds[u]._ended&&(e._webAudio&&e._sounds[u]._node&&e._sounds[u]._node.disconnect(0),e._sounds.splice(u,1),i--)}}},_getSoundIds:function(e){var t=this;if(typeof e=="undefined"){for(var i=[],u=0;u<t._sounds.length;u++)i.push(t._sounds[u]._id);return i}else return[e]},_refreshBuffer:function(e){var t=this;return e._node.bufferSource=r.ctx.createBufferSource(),e._node.bufferSource.buffer=b[t._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop||0),e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime),t},_cleanBuffer:function(e){var t=this,i=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&e.bufferSource&&(e.bufferSource.onended=null,e.bufferSource.disconnect(0),i))try{e.bufferSource.buffer=r._scratchBuffer}catch{}return e.bufferSource=null,t},_clearSound:function(e){var t=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);t||(e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,i=r._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=typeof r.ctx.createGain=="undefined"?r.ctx.createGainNode():r.ctx.createGain(),e._node.gain.setValueAtTime(i,r.ctx.currentTime),e._node.paused=!0,e._node.connect(r.masterGain)):r.noAudio||(e._node=r._obtainHtml5Audio(),e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(r._canPlayEvent,e._loadFn,!1),e._endFn=e._endListener.bind(e),e._node.addEventListener("ended",e._endFn,!1),e._node.src=t._src,e._node.preload=t._preload===!0?"auto":t._preload,e._node.volume=i*r.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++r._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,t=e._parent;t._duration=Math.ceil(e._node.duration*10)/10,Object.keys(t._sprite).length===0&&(t._sprite={__default:[0,t._duration*1e3]}),t._state!=="loaded"&&(t._state="loaded",t._emit("load"),t._loadQueue()),e._node.removeEventListener(r._canPlayEvent,e._loadFn,!1)},_endListener:function(){var e=this,t=e._parent;t._duration===1/0&&(t._duration=Math.ceil(e._node.duration*10)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=t._duration*1e3),t._ended(e)),e._node.removeEventListener("ended",e._endFn,!1)}};var b={},d=function(e){var t=e._src;if(b[t]){e._duration=b[t].duration,p(e);return}if(/^data:[^;]+;base64,/.test(t)){for(var i=atob(t.split(",")[1]),u=new Uint8Array(i.length),s=0;s<i.length;++s)u[s]=i.charCodeAt(s);v(u.buffer,e)}else{var _=new XMLHttpRequest;_.open(e._xhr.method,t,!0),_.withCredentials=e._xhr.withCredentials,_.responseType="arraybuffer",e._xhr.headers&&Object.keys(e._xhr.headers).forEach(function(g){_.setRequestHeader(g,e._xhr.headers[g])}),_.onload=function(){var g=(_.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+_.status+".");return}v(_.response,e)},_.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete b[t],e.load())},h(_)}},h=function(e){try{e.send()}catch{e.onerror()}},v=function(e,t){var i=function(){t._emit("loaderror",null,"Decoding audio data failed.")},u=function(s){s&&t._sounds.length>0?(b[t._src]=s,p(t,s)):i()};typeof Promise!="undefined"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(e).then(u).catch(i):r.ctx.decodeAudioData(e,u,i)},p=function(e,t){t&&!e._duration&&(e._duration=t.duration),Object.keys(e._sprite).length===0&&(e._sprite={__default:[0,e._duration*1e3]}),e._state!=="loaded"&&(e._state="loaded",e._emit("load"),e._loadQueue())},A=function(){if(!!r.usingWebAudio){try{typeof AudioContext!="undefined"?r.ctx=new AudioContext:typeof webkitAudioContext!="undefined"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),t=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=t?parseInt(t[1],10):null;if(e&&i&&i<9){var u=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!u&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain=="undefined"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};f.Howler=r,f.Howl=o,typeof ce!="undefined"?(ce.HowlerGlobal=n,ce.Howler=r,ce.Howl=o,ce.Sound=a):typeof window!="undefined"&&(window.HowlerGlobal=n,window.Howler=r,window.Howl=o,window.Sound=a)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.3
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var o=this;if(!o.ctx||!o.ctx.listener)return o;for(var a=o._howls.length-1;a>=0;a--)o._howls[a].stereo(r);return o},HowlerGlobal.prototype.pos=function(r,o,a){var b=this;if(!b.ctx||!b.ctx.listener)return b;if(o=typeof o!="number"?b._pos[1]:o,a=typeof a!="number"?b._pos[2]:a,typeof r=="number")b._pos=[r,o,a],typeof b.ctx.listener.positionX!="undefined"?(b.ctx.listener.positionX.setTargetAtTime(b._pos[0],Howler.ctx.currentTime,.1),b.ctx.listener.positionY.setTargetAtTime(b._pos[1],Howler.ctx.currentTime,.1),b.ctx.listener.positionZ.setTargetAtTime(b._pos[2],Howler.ctx.currentTime,.1)):b.ctx.listener.setPosition(b._pos[0],b._pos[1],b._pos[2]);else return b._pos;return b},HowlerGlobal.prototype.orientation=function(r,o,a,b,d,h){var v=this;if(!v.ctx||!v.ctx.listener)return v;var p=v._orientation;if(o=typeof o!="number"?p[1]:o,a=typeof a!="number"?p[2]:a,b=typeof b!="number"?p[3]:b,d=typeof d!="number"?p[4]:d,h=typeof h!="number"?p[5]:h,typeof r=="number")v._orientation=[r,o,a,b,d,h],typeof v.ctx.listener.forwardX!="undefined"?(v.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),v.ctx.listener.forwardY.setTargetAtTime(o,Howler.ctx.currentTime,.1),v.ctx.listener.forwardZ.setTargetAtTime(a,Howler.ctx.currentTime,.1),v.ctx.listener.upX.setTargetAtTime(b,Howler.ctx.currentTime,.1),v.ctx.listener.upY.setTargetAtTime(d,Howler.ctx.currentTime,.1),v.ctx.listener.upZ.setTargetAtTime(h,Howler.ctx.currentTime,.1)):v.ctx.listener.setOrientation(r,o,a,b,d,h);else return p;return v},Howl.prototype.init=function(r){return function(o){var a=this;return a._orientation=o.orientation||[1,0,0],a._stereo=o.stereo||null,a._pos=o.pos||null,a._pannerAttr={coneInnerAngle:typeof o.coneInnerAngle!="undefined"?o.coneInnerAngle:360,coneOuterAngle:typeof o.coneOuterAngle!="undefined"?o.coneOuterAngle:360,coneOuterGain:typeof o.coneOuterGain!="undefined"?o.coneOuterGain:0,distanceModel:typeof o.distanceModel!="undefined"?o.distanceModel:"inverse",maxDistance:typeof o.maxDistance!="undefined"?o.maxDistance:1e4,panningModel:typeof o.panningModel!="undefined"?o.panningModel:"HRTF",refDistance:typeof o.refDistance!="undefined"?o.refDistance:1,rolloffFactor:typeof o.rolloffFactor!="undefined"?o.rolloffFactor:1},a._onstereo=o.onstereo?[{fn:o.onstereo}]:[],a._onpos=o.onpos?[{fn:o.onpos}]:[],a._onorientation=o.onorientation?[{fn:o.onorientation}]:[],r.call(this,o)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,o){var a=this;if(!a._webAudio)return a;if(a._state!=="loaded")return a._queue.push({event:"stereo",action:function(){a.stereo(r,o)}}),a;var b=typeof Howler.ctx.createStereoPanner=="undefined"?"spatial":"stereo";if(typeof o=="undefined")if(typeof r=="number")a._stereo=r,a._pos=[r,0,0];else return a._stereo;for(var d=a._getSoundIds(o),h=0;h<d.length;h++){var v=a._soundById(d[h]);if(v)if(typeof r=="number")v._stereo=r,v._pos=[r,0,0],v._node&&(v._pannerAttr.panningModel="equalpower",(!v._panner||!v._panner.pan)&&n(v,b),b==="spatial"?typeof v._panner.positionX!="undefined"?(v._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),v._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),v._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):v._panner.setPosition(r,0,0):v._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),a._emit("stereo",v._id);else return v._stereo}return a},Howl.prototype.pos=function(r,o,a,b){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"pos",action:function(){d.pos(r,o,a,b)}}),d;if(o=typeof o!="number"?0:o,a=typeof a!="number"?-.5:a,typeof b=="undefined")if(typeof r=="number")d._pos=[r,o,a];else return d._pos;for(var h=d._getSoundIds(b),v=0;v<h.length;v++){var p=d._soundById(h[v]);if(p)if(typeof r=="number")p._pos=[r,o,a],p._node&&((!p._panner||p._panner.pan)&&n(p,"spatial"),typeof p._panner.positionX!="undefined"?(p._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),p._panner.positionY.setValueAtTime(o,Howler.ctx.currentTime),p._panner.positionZ.setValueAtTime(a,Howler.ctx.currentTime)):p._panner.setPosition(r,o,a)),d._emit("pos",p._id);else return p._pos}return d},Howl.prototype.orientation=function(r,o,a,b){var d=this;if(!d._webAudio)return d;if(d._state!=="loaded")return d._queue.push({event:"orientation",action:function(){d.orientation(r,o,a,b)}}),d;if(o=typeof o!="number"?d._orientation[1]:o,a=typeof a!="number"?d._orientation[2]:a,typeof b=="undefined")if(typeof r=="number")d._orientation=[r,o,a];else return d._orientation;for(var h=d._getSoundIds(b),v=0;v<h.length;v++){var p=d._soundById(h[v]);if(p)if(typeof r=="number")p._orientation=[r,o,a],p._node&&(p._panner||(p._pos||(p._pos=d._pos||[0,0,-.5]),n(p,"spatial")),typeof p._panner.orientationX!="undefined"?(p._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),p._panner.orientationY.setValueAtTime(o,Howler.ctx.currentTime),p._panner.orientationZ.setValueAtTime(a,Howler.ctx.currentTime)):p._panner.setOrientation(r,o,a)),d._emit("orientation",p._id);else return p._orientation}return d},Howl.prototype.pannerAttr=function(){var r=this,o=arguments,a,b,d;if(!r._webAudio)return r;if(o.length===0)return r._pannerAttr;if(o.length===1)if(typeof o[0]=="object")a=o[0],typeof b=="undefined"&&(a.pannerAttr||(a.pannerAttr={coneInnerAngle:a.coneInnerAngle,coneOuterAngle:a.coneOuterAngle,coneOuterGain:a.coneOuterGain,distanceModel:a.distanceModel,maxDistance:a.maxDistance,refDistance:a.refDistance,rolloffFactor:a.rolloffFactor,panningModel:a.panningModel}),r._pannerAttr={coneInnerAngle:typeof a.pannerAttr.coneInnerAngle!="undefined"?a.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof a.pannerAttr.coneOuterAngle!="undefined"?a.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof a.pannerAttr.coneOuterGain!="undefined"?a.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof a.pannerAttr.distanceModel!="undefined"?a.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof a.pannerAttr.maxDistance!="undefined"?a.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof a.pannerAttr.refDistance!="undefined"?a.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof a.pannerAttr.rolloffFactor!="undefined"?a.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof a.pannerAttr.panningModel!="undefined"?a.pannerAttr.panningModel:r._panningModel});else return d=r._soundById(parseInt(o[0],10)),d?d._pannerAttr:r._pannerAttr;else o.length===2&&(a=o[0],b=parseInt(o[1],10));for(var h=r._getSoundIds(b),v=0;v<h.length;v++)if(d=r._soundById(h[v]),d){var p=d._pannerAttr;p={coneInnerAngle:typeof a.coneInnerAngle!="undefined"?a.coneInnerAngle:p.coneInnerAngle,coneOuterAngle:typeof a.coneOuterAngle!="undefined"?a.coneOuterAngle:p.coneOuterAngle,coneOuterGain:typeof a.coneOuterGain!="undefined"?a.coneOuterGain:p.coneOuterGain,distanceModel:typeof a.distanceModel!="undefined"?a.distanceModel:p.distanceModel,maxDistance:typeof a.maxDistance!="undefined"?a.maxDistance:p.maxDistance,refDistance:typeof a.refDistance!="undefined"?a.refDistance:p.refDistance,rolloffFactor:typeof a.rolloffFactor!="undefined"?a.rolloffFactor:p.rolloffFactor,panningModel:typeof a.panningModel!="undefined"?a.panningModel:p.panningModel};var A=d._panner;A?(A.coneInnerAngle=p.coneInnerAngle,A.coneOuterAngle=p.coneOuterAngle,A.coneOuterGain=p.coneOuterGain,A.distanceModel=p.distanceModel,A.maxDistance=p.maxDistance,A.refDistance=p.refDistance,A.rolloffFactor=p.rolloffFactor,A.panningModel=p.panningModel):(d._pos||(d._pos=r._pos||[0,0,-.5]),n(d,"spatial"))}return r},Sound.prototype.init=function(r){return function(){var o=this,a=o._parent;o._orientation=a._orientation,o._stereo=a._stereo,o._pos=a._pos,o._pannerAttr=a._pannerAttr,r.call(this),o._stereo?a.stereo(o._stereo):o._pos&&a.pos(o._pos[0],o._pos[1],o._pos[2],o._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var o=this,a=o._parent;return o._orientation=a._orientation,o._stereo=a._stereo,o._pos=a._pos,o._pannerAttr=a._pannerAttr,o._stereo?a.stereo(o._stereo):o._pos?a.pos(o._pos[0],o._pos[1],o._pos[2],o._id):o._panner&&(o._panner.disconnect(0),o._panner=void 0,a._refreshBuffer(o)),r.call(this)}}(Sound.prototype.reset);var n=function(r,o){o=o||"spatial",o==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX!="undefined"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX!="undefined"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(Ir);export{Dn as $,Qr as A,On as B,pi as C,$r as D,qr as E,Mn as F,Nr as G,Rr as H,jr as I,ge as J,Xr as K,Fr as L,Se as M,Jr as N,Cn as O,Wr as P,ai as Q,oi as R,hi as S,Dr as T,_i as U,vi as V,jt as W,si as X,ei as Y,ii as Z,Cr as _,Gn as a,Yr as a0,Pr as a1,ot as a2,zr as a3,mi as a4,bi as a5,yi as a6,gi as a7,Or as a8,Ir as a9,Gr as b,Hr as c,Ln as d,Fn as e,Br as f,Wn as g,Ur as h,di as i,li as j,Mr as k,Lr as l,ci as m,Vr as n,Yn as o,ui as p,fi as q,ti as r,$n as s,qe as t,ri as u,Jn as v,ni as w,Rt as x,Kr as y,Zr as z};
